var jy=e=>{throw TypeError(e)};var Vf=(e,t,n)=>t.has(e)||jy("Cannot "+n);var X=(e,t,n)=>(Vf(e,t,"read from private field"),n?n.call(e):t.get(e)),it=(e,t,n)=>t.has(e)?jy("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Ge=(e,t,n,r)=>(Vf(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Xt=(e,t,n)=>(Vf(e,t,"access private method"),n);var jc=(e,t,n,r)=>({set _(s){Ge(e,t,s,n)},get _(){return X(e,t,r)}});function NE(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var sn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function kE(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var c_={exports:{}},xd={},u_={exports:{}},Xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xl=Symbol.for("react.element"),CE=Symbol.for("react.portal"),EE=Symbol.for("react.fragment"),PE=Symbol.for("react.strict_mode"),TE=Symbol.for("react.profiler"),RE=Symbol.for("react.provider"),IE=Symbol.for("react.context"),AE=Symbol.for("react.forward_ref"),ME=Symbol.for("react.suspense"),OE=Symbol.for("react.memo"),DE=Symbol.for("react.lazy"),Sy=Symbol.iterator;function LE(e){return e===null||typeof e!="object"?null:(e=Sy&&e[Sy]||e["@@iterator"],typeof e=="function"?e:null)}var d_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f_=Object.assign,h_={};function ga(e,t,n){this.props=e,this.context=t,this.refs=h_,this.updater=n||d_}ga.prototype.isReactComponent={};ga.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ga.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function p_(){}p_.prototype=ga.prototype;function sg(e,t,n){this.props=e,this.context=t,this.refs=h_,this.updater=n||d_}var og=sg.prototype=new p_;og.constructor=sg;f_(og,ga.prototype);og.isPureReactComponent=!0;var Ny=Array.isArray,m_=Object.prototype.hasOwnProperty,ig={current:null},g_={key:!0,ref:!0,__self:!0,__source:!0};function x_(e,t,n){var r,s={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)m_.call(t,r)&&!g_.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Xl,type:e,key:o,ref:a,props:s,_owner:ig.current}}function $E(e,t){return{$$typeof:Xl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ag(e){return typeof e=="object"&&e!==null&&e.$$typeof===Xl}function FE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ky=/\/+/g;function Wf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?FE(""+e.key):t.toString(36)}function tu(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Xl:case CE:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+Wf(a,0):r,Ny(s)?(n="",e!=null&&(n=e.replace(ky,"$&/")+"/"),tu(s,t,n,"",function(u){return u})):s!=null&&(ag(s)&&(s=$E(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(ky,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",Ny(e))for(var l=0;l<e.length;l++){o=e[l];var c=r+Wf(o,l);a+=tu(o,t,n,c,s)}else if(c=LE(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=r+Wf(o,l++),a+=tu(o,t,n,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Sc(e,t,n){if(e==null)return e;var r=[],s=0;return tu(e,r,"","",function(o){return t.call(n,o,s++)}),r}function zE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var pn={current:null},nu={transition:null},UE={ReactCurrentDispatcher:pn,ReactCurrentBatchConfig:nu,ReactCurrentOwner:ig};function y_(){throw Error("act(...) is not supported in production builds of React.")}Xe.Children={map:Sc,forEach:function(e,t,n){Sc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Sc(e,function(){t++}),t},toArray:function(e){return Sc(e,function(t){return t})||[]},only:function(e){if(!ag(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Xe.Component=ga;Xe.Fragment=EE;Xe.Profiler=TE;Xe.PureComponent=sg;Xe.StrictMode=PE;Xe.Suspense=ME;Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UE;Xe.act=y_;Xe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=f_({},e.props),s=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=ig.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)m_.call(t,c)&&!g_.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Xl,type:e.type,key:s,ref:o,props:r,_owner:a}};Xe.createContext=function(e){return e={$$typeof:IE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:RE,_context:e},e.Consumer=e};Xe.createElement=x_;Xe.createFactory=function(e){var t=x_.bind(null,e);return t.type=e,t};Xe.createRef=function(){return{current:null}};Xe.forwardRef=function(e){return{$$typeof:AE,render:e}};Xe.isValidElement=ag;Xe.lazy=function(e){return{$$typeof:DE,_payload:{_status:-1,_result:e},_init:zE}};Xe.memo=function(e,t){return{$$typeof:OE,type:e,compare:t===void 0?null:t}};Xe.startTransition=function(e){var t=nu.transition;nu.transition={};try{e()}finally{nu.transition=t}};Xe.unstable_act=y_;Xe.useCallback=function(e,t){return pn.current.useCallback(e,t)};Xe.useContext=function(e){return pn.current.useContext(e)};Xe.useDebugValue=function(){};Xe.useDeferredValue=function(e){return pn.current.useDeferredValue(e)};Xe.useEffect=function(e,t){return pn.current.useEffect(e,t)};Xe.useId=function(){return pn.current.useId()};Xe.useImperativeHandle=function(e,t,n){return pn.current.useImperativeHandle(e,t,n)};Xe.useInsertionEffect=function(e,t){return pn.current.useInsertionEffect(e,t)};Xe.useLayoutEffect=function(e,t){return pn.current.useLayoutEffect(e,t)};Xe.useMemo=function(e,t){return pn.current.useMemo(e,t)};Xe.useReducer=function(e,t,n){return pn.current.useReducer(e,t,n)};Xe.useRef=function(e){return pn.current.useRef(e)};Xe.useState=function(e){return pn.current.useState(e)};Xe.useSyncExternalStore=function(e,t,n){return pn.current.useSyncExternalStore(e,t,n)};Xe.useTransition=function(){return pn.current.useTransition()};Xe.version="18.3.1";u_.exports=Xe;var p=u_.exports;const re=gd(p),v_=NE({__proto__:null,default:re},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BE=p,HE=Symbol.for("react.element"),VE=Symbol.for("react.fragment"),WE=Object.prototype.hasOwnProperty,qE=BE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,GE={key:!0,ref:!0,__self:!0,__source:!0};function w_(e,t,n){var r,s={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)WE.call(t,r)&&!GE.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:HE,type:e,key:o,ref:a,props:s,_owner:qE.current}}xd.Fragment=VE;xd.jsx=w_;xd.jsxs=w_;c_.exports=xd;var i=c_.exports,__={exports:{}},Gn={},b_={exports:{}},j_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,I){var S=P.length;P.push(I);e:for(;0<S;){var H=S-1>>>1,te=P[H];if(0<s(te,I))P[H]=I,P[S]=te,S=H;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var I=P[0],S=P.pop();if(S!==I){P[0]=S;e:for(var H=0,te=P.length,k=te>>>1;H<k;){var de=2*(H+1)-1,ve=P[de],ce=de+1,ue=P[ce];if(0>s(ve,S))ce<te&&0>s(ue,ve)?(P[H]=ue,P[ce]=S,H=ce):(P[H]=ve,P[de]=S,H=de);else if(ce<te&&0>s(ue,S))P[H]=ue,P[ce]=S,H=ce;else break e}}return I}function s(P,I){var S=P.sortIndex-I.sortIndex;return S!==0?S:P.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,x=!1,g=!1,_=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(P){for(var I=n(u);I!==null;){if(I.callback===null)r(u);else if(I.startTime<=P)r(u),I.sortIndex=I.expirationTime,t(c,I);else break;I=n(u)}}function b(P){if(g=!1,w(P),!x)if(n(c)!==null)x=!0,M(N);else{var I=n(u);I!==null&&G(b,I.startTime-P)}}function N(P,I){x=!1,g&&(g=!1,y(R),R=-1),m=!0;var S=h;try{for(w(I),f=n(c);f!==null&&(!(f.expirationTime>I)||P&&!D());){var H=f.callback;if(typeof H=="function"){f.callback=null,h=f.priorityLevel;var te=H(f.expirationTime<=I);I=e.unstable_now(),typeof te=="function"?f.callback=te:f===n(c)&&r(c),w(I)}else r(c);f=n(c)}if(f!==null)var k=!0;else{var de=n(u);de!==null&&G(b,de.startTime-I),k=!1}return k}finally{f=null,h=S,m=!1}}var j=!1,C=null,R=-1,E=5,T=-1;function D(){return!(e.unstable_now()-T<E)}function O(){if(C!==null){var P=e.unstable_now();T=P;var I=!0;try{I=C(!0,P)}finally{I?z():(j=!1,C=null)}}else j=!1}var z;if(typeof v=="function")z=function(){v(O)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,A=W.port2;W.port1.onmessage=O,z=function(){A.postMessage(null)}}else z=function(){_(O,0)};function M(P){C=P,j||(j=!0,z())}function G(P,I){R=_(function(){P(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){x||m||(x=!0,M(N))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(P){switch(h){case 1:case 2:case 3:var I=3;break;default:I=h}var S=h;h=I;try{return P()}finally{h=S}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,I){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var S=h;h=P;try{return I()}finally{h=S}},e.unstable_scheduleCallback=function(P,I,S){var H=e.unstable_now();switch(typeof S=="object"&&S!==null?(S=S.delay,S=typeof S=="number"&&0<S?H+S:H):S=H,P){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=S+te,P={id:d++,callback:I,priorityLevel:P,startTime:S,expirationTime:te,sortIndex:-1},S>H?(P.sortIndex=S,t(u,P),n(c)===null&&P===n(u)&&(g?(y(R),R=-1):g=!0,G(b,S-H))):(P.sortIndex=te,t(c,P),x||m||(x=!0,M(N))),P},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(P){var I=h;return function(){var S=h;h=I;try{return P.apply(this,arguments)}finally{h=S}}}})(j_);b_.exports=j_;var KE=b_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YE=p,qn=KE;function se(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var S_=new Set,yl={};function Go(e,t){ta(e,t),ta(e+"Capture",t)}function ta(e,t){for(yl[e]=t,e=0;e<t.length;e++)S_.add(t[e])}var ss=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rp=Object.prototype.hasOwnProperty,QE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cy={},Ey={};function XE(e){return rp.call(Ey,e)?!0:rp.call(Cy,e)?!1:QE.test(e)?Ey[e]=!0:(Cy[e]=!0,!1)}function JE(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ZE(e,t,n,r){if(t===null||typeof t>"u"||JE(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function mn(e,t,n,r,s,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Yt[e]=new mn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Yt[t]=new mn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Yt[e]=new mn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Yt[e]=new mn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Yt[e]=new mn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Yt[e]=new mn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Yt[e]=new mn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Yt[e]=new mn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Yt[e]=new mn(e,5,!1,e.toLowerCase(),null,!1,!1)});var lg=/[\-:]([a-z])/g;function cg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(lg,cg);Yt[t]=new mn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(lg,cg);Yt[t]=new mn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(lg,cg);Yt[t]=new mn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Yt[e]=new mn(e,1,!1,e.toLowerCase(),null,!1,!1)});Yt.xlinkHref=new mn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Yt[e]=new mn(e,1,!1,e.toLowerCase(),null,!0,!0)});function ug(e,t,n,r){var s=Yt.hasOwnProperty(t)?Yt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ZE(t,n,s,r)&&(n=null),r||s===null?XE(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ds=YE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Nc=Symbol.for("react.element"),_i=Symbol.for("react.portal"),bi=Symbol.for("react.fragment"),dg=Symbol.for("react.strict_mode"),sp=Symbol.for("react.profiler"),N_=Symbol.for("react.provider"),k_=Symbol.for("react.context"),fg=Symbol.for("react.forward_ref"),op=Symbol.for("react.suspense"),ip=Symbol.for("react.suspense_list"),hg=Symbol.for("react.memo"),Ns=Symbol.for("react.lazy"),C_=Symbol.for("react.offscreen"),Py=Symbol.iterator;function Oa(e){return e===null||typeof e!="object"?null:(e=Py&&e[Py]||e["@@iterator"],typeof e=="function"?e:null)}var St=Object.assign,qf;function Qa(e){if(qf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);qf=t&&t[1]||""}return`
`+qf+e}var Gf=!1;function Kf(e,t){if(!e||Gf)return"";Gf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),a=s.length-1,l=o.length-1;1<=a&&0<=l&&s[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==o[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{Gf=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Qa(e):""}function eP(e){switch(e.tag){case 5:return Qa(e.type);case 16:return Qa("Lazy");case 13:return Qa("Suspense");case 19:return Qa("SuspenseList");case 0:case 2:case 15:return e=Kf(e.type,!1),e;case 11:return e=Kf(e.type.render,!1),e;case 1:return e=Kf(e.type,!0),e;default:return""}}function ap(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case bi:return"Fragment";case _i:return"Portal";case sp:return"Profiler";case dg:return"StrictMode";case op:return"Suspense";case ip:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case k_:return(e.displayName||"Context")+".Consumer";case N_:return(e._context.displayName||"Context")+".Provider";case fg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case hg:return t=e.displayName||null,t!==null?t:ap(e.type)||"Memo";case Ns:t=e._payload,e=e._init;try{return ap(e(t))}catch{}}return null}function tP(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ap(t);case 8:return t===dg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Qs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function E_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function nP(e){var t=E_(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function kc(e){e._valueTracker||(e._valueTracker=nP(e))}function P_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=E_(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function bu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function lp(e,t){var n=t.checked;return St({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ty(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Qs(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function T_(e,t){t=t.checked,t!=null&&ug(e,"checked",t,!1)}function cp(e,t){T_(e,t);var n=Qs(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?up(e,t.type,n):t.hasOwnProperty("defaultValue")&&up(e,t.type,Qs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ry(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function up(e,t,n){(t!=="number"||bu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Xa=Array.isArray;function Ai(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Qs(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function dp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(se(91));return St({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Iy(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(se(92));if(Xa(n)){if(1<n.length)throw Error(se(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Qs(n)}}function R_(e,t){var n=Qs(t.value),r=Qs(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ay(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function I_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?I_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Cc,A_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Cc=Cc||document.createElement("div"),Cc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Cc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function vl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var rl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rP=["Webkit","ms","Moz","O"];Object.keys(rl).forEach(function(e){rP.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),rl[t]=rl[e]})});function M_(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||rl.hasOwnProperty(e)&&rl[e]?(""+t).trim():t+"px"}function O_(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=M_(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var sP=St({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hp(e,t){if(t){if(sP[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(se(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(se(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(se(61))}if(t.style!=null&&typeof t.style!="object")throw Error(se(62))}}function pp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mp=null;function pg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gp=null,Mi=null,Oi=null;function My(e){if(e=ec(e)){if(typeof gp!="function")throw Error(se(280));var t=e.stateNode;t&&(t=bd(t),gp(e.stateNode,e.type,t))}}function D_(e){Mi?Oi?Oi.push(e):Oi=[e]:Mi=e}function L_(){if(Mi){var e=Mi,t=Oi;if(Oi=Mi=null,My(e),t)for(e=0;e<t.length;e++)My(t[e])}}function $_(e,t){return e(t)}function F_(){}var Yf=!1;function z_(e,t,n){if(Yf)return e(t,n);Yf=!0;try{return $_(e,t,n)}finally{Yf=!1,(Mi!==null||Oi!==null)&&(F_(),L_())}}function wl(e,t){var n=e.stateNode;if(n===null)return null;var r=bd(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(se(231,t,typeof n));return n}var xp=!1;if(ss)try{var Da={};Object.defineProperty(Da,"passive",{get:function(){xp=!0}}),window.addEventListener("test",Da,Da),window.removeEventListener("test",Da,Da)}catch{xp=!1}function oP(e,t,n,r,s,o,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var sl=!1,ju=null,Su=!1,yp=null,iP={onError:function(e){sl=!0,ju=e}};function aP(e,t,n,r,s,o,a,l,c){sl=!1,ju=null,oP.apply(iP,arguments)}function lP(e,t,n,r,s,o,a,l,c){if(aP.apply(this,arguments),sl){if(sl){var u=ju;sl=!1,ju=null}else throw Error(se(198));Su||(Su=!0,yp=u)}}function Ko(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function U_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Oy(e){if(Ko(e)!==e)throw Error(se(188))}function cP(e){var t=e.alternate;if(!t){if(t=Ko(e),t===null)throw Error(se(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return Oy(s),e;if(o===r)return Oy(s),t;o=o.sibling}throw Error(se(188))}if(n.return!==r.return)n=s,r=o;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=o;break}if(l===r){a=!0,r=s,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=s;break}if(l===r){a=!0,r=o,n=s;break}l=l.sibling}if(!a)throw Error(se(189))}}if(n.alternate!==r)throw Error(se(190))}if(n.tag!==3)throw Error(se(188));return n.stateNode.current===n?e:t}function B_(e){return e=cP(e),e!==null?H_(e):null}function H_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=H_(e);if(t!==null)return t;e=e.sibling}return null}var V_=qn.unstable_scheduleCallback,Dy=qn.unstable_cancelCallback,uP=qn.unstable_shouldYield,dP=qn.unstable_requestPaint,Pt=qn.unstable_now,fP=qn.unstable_getCurrentPriorityLevel,mg=qn.unstable_ImmediatePriority,W_=qn.unstable_UserBlockingPriority,Nu=qn.unstable_NormalPriority,hP=qn.unstable_LowPriority,q_=qn.unstable_IdlePriority,yd=null,$r=null;function pP(e){if($r&&typeof $r.onCommitFiberRoot=="function")try{$r.onCommitFiberRoot(yd,e,void 0,(e.current.flags&128)===128)}catch{}}var vr=Math.clz32?Math.clz32:xP,mP=Math.log,gP=Math.LN2;function xP(e){return e>>>=0,e===0?32:31-(mP(e)/gP|0)|0}var Ec=64,Pc=4194304;function Ja(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ku(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=Ja(l):(o&=a,o!==0&&(r=Ja(o)))}else a=n&~s,a!==0?r=Ja(a):o!==0&&(r=Ja(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-vr(t),s=1<<n,r|=e[n],t&=~s;return r}function yP(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vP(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-vr(o),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=yP(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function vp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function G_(){var e=Ec;return Ec<<=1,!(Ec&4194240)&&(Ec=64),e}function Qf(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Jl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-vr(t),e[t]=n}function wP(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-vr(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function gg(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-vr(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ct=0;function K_(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Y_,xg,Q_,X_,J_,wp=!1,Tc=[],Fs=null,zs=null,Us=null,_l=new Map,bl=new Map,Es=[],_P="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ly(e,t){switch(e){case"focusin":case"focusout":Fs=null;break;case"dragenter":case"dragleave":zs=null;break;case"mouseover":case"mouseout":Us=null;break;case"pointerover":case"pointerout":_l.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":bl.delete(t.pointerId)}}function La(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=ec(t),t!==null&&xg(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function bP(e,t,n,r,s){switch(t){case"focusin":return Fs=La(Fs,e,t,n,r,s),!0;case"dragenter":return zs=La(zs,e,t,n,r,s),!0;case"mouseover":return Us=La(Us,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return _l.set(o,La(_l.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,bl.set(o,La(bl.get(o)||null,e,t,n,r,s)),!0}return!1}function Z_(e){var t=So(e.target);if(t!==null){var n=Ko(t);if(n!==null){if(t=n.tag,t===13){if(t=U_(n),t!==null){e.blockedOn=t,J_(e.priority,function(){Q_(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ru(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=_p(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);mp=r,n.target.dispatchEvent(r),mp=null}else return t=ec(n),t!==null&&xg(t),e.blockedOn=n,!1;t.shift()}return!0}function $y(e,t,n){ru(e)&&n.delete(t)}function jP(){wp=!1,Fs!==null&&ru(Fs)&&(Fs=null),zs!==null&&ru(zs)&&(zs=null),Us!==null&&ru(Us)&&(Us=null),_l.forEach($y),bl.forEach($y)}function $a(e,t){e.blockedOn===t&&(e.blockedOn=null,wp||(wp=!0,qn.unstable_scheduleCallback(qn.unstable_NormalPriority,jP)))}function jl(e){function t(s){return $a(s,e)}if(0<Tc.length){$a(Tc[0],e);for(var n=1;n<Tc.length;n++){var r=Tc[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Fs!==null&&$a(Fs,e),zs!==null&&$a(zs,e),Us!==null&&$a(Us,e),_l.forEach(t),bl.forEach(t),n=0;n<Es.length;n++)r=Es[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Es.length&&(n=Es[0],n.blockedOn===null);)Z_(n),n.blockedOn===null&&Es.shift()}var Di=ds.ReactCurrentBatchConfig,Cu=!0;function SP(e,t,n,r){var s=ct,o=Di.transition;Di.transition=null;try{ct=1,yg(e,t,n,r)}finally{ct=s,Di.transition=o}}function NP(e,t,n,r){var s=ct,o=Di.transition;Di.transition=null;try{ct=4,yg(e,t,n,r)}finally{ct=s,Di.transition=o}}function yg(e,t,n,r){if(Cu){var s=_p(e,t,n,r);if(s===null)ih(e,t,r,Eu,n),Ly(e,r);else if(bP(s,e,t,n,r))r.stopPropagation();else if(Ly(e,r),t&4&&-1<_P.indexOf(e)){for(;s!==null;){var o=ec(s);if(o!==null&&Y_(o),o=_p(e,t,n,r),o===null&&ih(e,t,r,Eu,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else ih(e,t,r,null,n)}}var Eu=null;function _p(e,t,n,r){if(Eu=null,e=pg(r),e=So(e),e!==null)if(t=Ko(e),t===null)e=null;else if(n=t.tag,n===13){if(e=U_(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Eu=e,null}function eb(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fP()){case mg:return 1;case W_:return 4;case Nu:case hP:return 16;case q_:return 536870912;default:return 16}default:return 16}}var Ds=null,vg=null,su=null;function tb(){if(su)return su;var e,t=vg,n=t.length,r,s="value"in Ds?Ds.value:Ds.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[o-r];r++);return su=s.slice(e,1<r?1-r:void 0)}function ou(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Rc(){return!0}function Fy(){return!1}function Kn(e){function t(n,r,s,o,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Rc:Fy,this.isPropagationStopped=Fy,this}return St(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Rc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Rc)},persist:function(){},isPersistent:Rc}),t}var xa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wg=Kn(xa),Zl=St({},xa,{view:0,detail:0}),kP=Kn(Zl),Xf,Jf,Fa,vd=St({},Zl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_g,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fa&&(Fa&&e.type==="mousemove"?(Xf=e.screenX-Fa.screenX,Jf=e.screenY-Fa.screenY):Jf=Xf=0,Fa=e),Xf)},movementY:function(e){return"movementY"in e?e.movementY:Jf}}),zy=Kn(vd),CP=St({},vd,{dataTransfer:0}),EP=Kn(CP),PP=St({},Zl,{relatedTarget:0}),Zf=Kn(PP),TP=St({},xa,{animationName:0,elapsedTime:0,pseudoElement:0}),RP=Kn(TP),IP=St({},xa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),AP=Kn(IP),MP=St({},xa,{data:0}),Uy=Kn(MP),OP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $P(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=LP[e])?!!t[e]:!1}function _g(){return $P}var FP=St({},Zl,{key:function(e){if(e.key){var t=OP[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ou(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?DP[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_g,charCode:function(e){return e.type==="keypress"?ou(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ou(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zP=Kn(FP),UP=St({},vd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),By=Kn(UP),BP=St({},Zl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_g}),HP=Kn(BP),VP=St({},xa,{propertyName:0,elapsedTime:0,pseudoElement:0}),WP=Kn(VP),qP=St({},vd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),GP=Kn(qP),KP=[9,13,27,32],bg=ss&&"CompositionEvent"in window,ol=null;ss&&"documentMode"in document&&(ol=document.documentMode);var YP=ss&&"TextEvent"in window&&!ol,nb=ss&&(!bg||ol&&8<ol&&11>=ol),Hy=" ",Vy=!1;function rb(e,t){switch(e){case"keyup":return KP.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sb(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ji=!1;function QP(e,t){switch(e){case"compositionend":return sb(t);case"keypress":return t.which!==32?null:(Vy=!0,Hy);case"textInput":return e=t.data,e===Hy&&Vy?null:e;default:return null}}function XP(e,t){if(ji)return e==="compositionend"||!bg&&rb(e,t)?(e=tb(),su=vg=Ds=null,ji=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nb&&t.locale!=="ko"?null:t.data;default:return null}}var JP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!JP[e.type]:t==="textarea"}function ob(e,t,n,r){D_(r),t=Pu(t,"onChange"),0<t.length&&(n=new wg("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var il=null,Sl=null;function ZP(e){gb(e,0)}function wd(e){var t=ki(e);if(P_(t))return e}function eT(e,t){if(e==="change")return t}var ib=!1;if(ss){var eh;if(ss){var th="oninput"in document;if(!th){var qy=document.createElement("div");qy.setAttribute("oninput","return;"),th=typeof qy.oninput=="function"}eh=th}else eh=!1;ib=eh&&(!document.documentMode||9<document.documentMode)}function Gy(){il&&(il.detachEvent("onpropertychange",ab),Sl=il=null)}function ab(e){if(e.propertyName==="value"&&wd(Sl)){var t=[];ob(t,Sl,e,pg(e)),z_(ZP,t)}}function tT(e,t,n){e==="focusin"?(Gy(),il=t,Sl=n,il.attachEvent("onpropertychange",ab)):e==="focusout"&&Gy()}function nT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wd(Sl)}function rT(e,t){if(e==="click")return wd(t)}function sT(e,t){if(e==="input"||e==="change")return wd(t)}function oT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _r=typeof Object.is=="function"?Object.is:oT;function Nl(e,t){if(_r(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!rp.call(t,s)||!_r(e[s],t[s]))return!1}return!0}function Ky(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yy(e,t){var n=Ky(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ky(n)}}function lb(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?lb(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function cb(){for(var e=window,t=bu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=bu(e.document)}return t}function jg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function iT(e){var t=cb(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&lb(n.ownerDocument.documentElement,n)){if(r!==null&&jg(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=Yy(n,o);var a=Yy(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var aT=ss&&"documentMode"in document&&11>=document.documentMode,Si=null,bp=null,al=null,jp=!1;function Qy(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;jp||Si==null||Si!==bu(r)||(r=Si,"selectionStart"in r&&jg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),al&&Nl(al,r)||(al=r,r=Pu(bp,"onSelect"),0<r.length&&(t=new wg("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Si)))}function Ic(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ni={animationend:Ic("Animation","AnimationEnd"),animationiteration:Ic("Animation","AnimationIteration"),animationstart:Ic("Animation","AnimationStart"),transitionend:Ic("Transition","TransitionEnd")},nh={},ub={};ss&&(ub=document.createElement("div").style,"AnimationEvent"in window||(delete Ni.animationend.animation,delete Ni.animationiteration.animation,delete Ni.animationstart.animation),"TransitionEvent"in window||delete Ni.transitionend.transition);function _d(e){if(nh[e])return nh[e];if(!Ni[e])return e;var t=Ni[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ub)return nh[e]=t[n];return e}var db=_d("animationend"),fb=_d("animationiteration"),hb=_d("animationstart"),pb=_d("transitionend"),mb=new Map,Xy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ro(e,t){mb.set(e,t),Go(t,[e])}for(var rh=0;rh<Xy.length;rh++){var sh=Xy[rh],lT=sh.toLowerCase(),cT=sh[0].toUpperCase()+sh.slice(1);ro(lT,"on"+cT)}ro(db,"onAnimationEnd");ro(fb,"onAnimationIteration");ro(hb,"onAnimationStart");ro("dblclick","onDoubleClick");ro("focusin","onFocus");ro("focusout","onBlur");ro(pb,"onTransitionEnd");ta("onMouseEnter",["mouseout","mouseover"]);ta("onMouseLeave",["mouseout","mouseover"]);ta("onPointerEnter",["pointerout","pointerover"]);ta("onPointerLeave",["pointerout","pointerover"]);Go("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Go("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Go("onBeforeInput",["compositionend","keypress","textInput","paste"]);Go("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Go("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Go("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Za="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Za));function Jy(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,lP(r,t,void 0,e),e.currentTarget=null}function gb(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;Jy(s,l,u),o=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;Jy(s,l,u),o=c}}}if(Su)throw e=yp,Su=!1,yp=null,e}function xt(e,t){var n=t[Ep];n===void 0&&(n=t[Ep]=new Set);var r=e+"__bubble";n.has(r)||(xb(t,e,2,!1),n.add(r))}function oh(e,t,n){var r=0;t&&(r|=4),xb(n,e,r,t)}var Ac="_reactListening"+Math.random().toString(36).slice(2);function kl(e){if(!e[Ac]){e[Ac]=!0,S_.forEach(function(n){n!=="selectionchange"&&(uT.has(n)||oh(n,!1,e),oh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ac]||(t[Ac]=!0,oh("selectionchange",!1,t))}}function xb(e,t,n,r){switch(eb(t)){case 1:var s=SP;break;case 4:s=NP;break;default:s=yg}n=s.bind(null,t,n,e),s=void 0,!xp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function ih(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=So(l),a===null)return;if(c=a.tag,c===5||c===6){r=o=a;continue e}l=l.parentNode}}r=r.return}z_(function(){var u=o,d=pg(n),f=[];e:{var h=mb.get(e);if(h!==void 0){var m=wg,x=e;switch(e){case"keypress":if(ou(n)===0)break e;case"keydown":case"keyup":m=zP;break;case"focusin":x="focus",m=Zf;break;case"focusout":x="blur",m=Zf;break;case"beforeblur":case"afterblur":m=Zf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=zy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=EP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=HP;break;case db:case fb:case hb:m=RP;break;case pb:m=WP;break;case"scroll":m=kP;break;case"wheel":m=GP;break;case"copy":case"cut":case"paste":m=AP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=By}var g=(t&4)!==0,_=!g&&e==="scroll",y=g?h!==null?h+"Capture":null:h;g=[];for(var v=u,w;v!==null;){w=v;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,y!==null&&(b=wl(v,y),b!=null&&g.push(Cl(v,b,w)))),_)break;v=v.return}0<g.length&&(h=new m(h,x,null,n,d),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==mp&&(x=n.relatedTarget||n.fromElement)&&(So(x)||x[os]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(x=n.relatedTarget||n.toElement,m=u,x=x?So(x):null,x!==null&&(_=Ko(x),x!==_||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=u),m!==x)){if(g=zy,b="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(g=By,b="onPointerLeave",y="onPointerEnter",v="pointer"),_=m==null?h:ki(m),w=x==null?h:ki(x),h=new g(b,v+"leave",m,n,d),h.target=_,h.relatedTarget=w,b=null,So(d)===u&&(g=new g(y,v+"enter",x,n,d),g.target=w,g.relatedTarget=_,b=g),_=b,m&&x)t:{for(g=m,y=x,v=0,w=g;w;w=li(w))v++;for(w=0,b=y;b;b=li(b))w++;for(;0<v-w;)g=li(g),v--;for(;0<w-v;)y=li(y),w--;for(;v--;){if(g===y||y!==null&&g===y.alternate)break t;g=li(g),y=li(y)}g=null}else g=null;m!==null&&Zy(f,h,m,g,!1),x!==null&&_!==null&&Zy(f,_,x,g,!0)}}e:{if(h=u?ki(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var N=eT;else if(Wy(h))if(ib)N=sT;else{N=nT;var j=tT}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=rT);if(N&&(N=N(e,u))){ob(f,N,n,d);break e}j&&j(e,h,u),e==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&up(h,"number",h.value)}switch(j=u?ki(u):window,e){case"focusin":(Wy(j)||j.contentEditable==="true")&&(Si=j,bp=u,al=null);break;case"focusout":al=bp=Si=null;break;case"mousedown":jp=!0;break;case"contextmenu":case"mouseup":case"dragend":jp=!1,Qy(f,n,d);break;case"selectionchange":if(aT)break;case"keydown":case"keyup":Qy(f,n,d)}var C;if(bg)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else ji?rb(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(nb&&n.locale!=="ko"&&(ji||R!=="onCompositionStart"?R==="onCompositionEnd"&&ji&&(C=tb()):(Ds=d,vg="value"in Ds?Ds.value:Ds.textContent,ji=!0)),j=Pu(u,R),0<j.length&&(R=new Uy(R,e,null,n,d),f.push({event:R,listeners:j}),C?R.data=C:(C=sb(n),C!==null&&(R.data=C)))),(C=YP?QP(e,n):XP(e,n))&&(u=Pu(u,"onBeforeInput"),0<u.length&&(d=new Uy("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=C))}gb(f,t)})}function Cl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Pu(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=wl(e,n),o!=null&&r.unshift(Cl(e,o,s)),o=wl(e,t),o!=null&&r.push(Cl(e,o,s))),e=e.return}return r}function li(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Zy(e,t,n,r,s){for(var o=t._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=wl(n,o),c!=null&&a.unshift(Cl(n,c,l))):s||(c=wl(n,o),c!=null&&a.push(Cl(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var dT=/\r\n?/g,fT=/\u0000|\uFFFD/g;function ev(e){return(typeof e=="string"?e:""+e).replace(dT,`
`).replace(fT,"")}function Mc(e,t,n){if(t=ev(t),ev(e)!==t&&n)throw Error(se(425))}function Tu(){}var Sp=null,Np=null;function kp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Cp=typeof setTimeout=="function"?setTimeout:void 0,hT=typeof clearTimeout=="function"?clearTimeout:void 0,tv=typeof Promise=="function"?Promise:void 0,pT=typeof queueMicrotask=="function"?queueMicrotask:typeof tv<"u"?function(e){return tv.resolve(null).then(e).catch(mT)}:Cp;function mT(e){setTimeout(function(){throw e})}function ah(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),jl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);jl(t)}function Bs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function nv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ya=Math.random().toString(36).slice(2),Or="__reactFiber$"+ya,El="__reactProps$"+ya,os="__reactContainer$"+ya,Ep="__reactEvents$"+ya,gT="__reactListeners$"+ya,xT="__reactHandles$"+ya;function So(e){var t=e[Or];if(t)return t;for(var n=e.parentNode;n;){if(t=n[os]||n[Or]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=nv(e);e!==null;){if(n=e[Or])return n;e=nv(e)}return t}e=n,n=e.parentNode}return null}function ec(e){return e=e[Or]||e[os],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ki(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(se(33))}function bd(e){return e[El]||null}var Pp=[],Ci=-1;function so(e){return{current:e}}function yt(e){0>Ci||(e.current=Pp[Ci],Pp[Ci]=null,Ci--)}function pt(e,t){Ci++,Pp[Ci]=e.current,e.current=t}var Xs={},on=so(Xs),Nn=so(!1),Do=Xs;function na(e,t){var n=e.type.contextTypes;if(!n)return Xs;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function kn(e){return e=e.childContextTypes,e!=null}function Ru(){yt(Nn),yt(on)}function rv(e,t,n){if(on.current!==Xs)throw Error(se(168));pt(on,t),pt(Nn,n)}function yb(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(se(108,tP(e)||"Unknown",s));return St({},n,r)}function Iu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xs,Do=on.current,pt(on,e),pt(Nn,Nn.current),!0}function sv(e,t,n){var r=e.stateNode;if(!r)throw Error(se(169));n?(e=yb(e,t,Do),r.__reactInternalMemoizedMergedChildContext=e,yt(Nn),yt(on),pt(on,e)):yt(Nn),pt(Nn,n)}var Xr=null,jd=!1,lh=!1;function vb(e){Xr===null?Xr=[e]:Xr.push(e)}function yT(e){jd=!0,vb(e)}function oo(){if(!lh&&Xr!==null){lh=!0;var e=0,t=ct;try{var n=Xr;for(ct=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Xr=null,jd=!1}catch(s){throw Xr!==null&&(Xr=Xr.slice(e+1)),V_(mg,oo),s}finally{ct=t,lh=!1}}return null}var Ei=[],Pi=0,Au=null,Mu=0,Xn=[],Jn=0,Lo=null,Jr=1,Zr="";function yo(e,t){Ei[Pi++]=Mu,Ei[Pi++]=Au,Au=e,Mu=t}function wb(e,t,n){Xn[Jn++]=Jr,Xn[Jn++]=Zr,Xn[Jn++]=Lo,Lo=e;var r=Jr;e=Zr;var s=32-vr(r)-1;r&=~(1<<s),n+=1;var o=32-vr(t)+s;if(30<o){var a=s-s%5;o=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Jr=1<<32-vr(t)+s|n<<s|r,Zr=o+e}else Jr=1<<o|n<<s|r,Zr=e}function Sg(e){e.return!==null&&(yo(e,1),wb(e,1,0))}function Ng(e){for(;e===Au;)Au=Ei[--Pi],Ei[Pi]=null,Mu=Ei[--Pi],Ei[Pi]=null;for(;e===Lo;)Lo=Xn[--Jn],Xn[Jn]=null,Zr=Xn[--Jn],Xn[Jn]=null,Jr=Xn[--Jn],Xn[Jn]=null}var Vn=null,Bn=null,wt=!1,yr=null;function _b(e,t){var n=tr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ov(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Vn=e,Bn=Bs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Vn=e,Bn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Lo!==null?{id:Jr,overflow:Zr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=tr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Vn=e,Bn=null,!0):!1;default:return!1}}function Tp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Rp(e){if(wt){var t=Bn;if(t){var n=t;if(!ov(e,t)){if(Tp(e))throw Error(se(418));t=Bs(n.nextSibling);var r=Vn;t&&ov(e,t)?_b(r,n):(e.flags=e.flags&-4097|2,wt=!1,Vn=e)}}else{if(Tp(e))throw Error(se(418));e.flags=e.flags&-4097|2,wt=!1,Vn=e}}}function iv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Vn=e}function Oc(e){if(e!==Vn)return!1;if(!wt)return iv(e),wt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!kp(e.type,e.memoizedProps)),t&&(t=Bn)){if(Tp(e))throw bb(),Error(se(418));for(;t;)_b(e,t),t=Bs(t.nextSibling)}if(iv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(se(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Bn=Bs(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Bn=null}}else Bn=Vn?Bs(e.stateNode.nextSibling):null;return!0}function bb(){for(var e=Bn;e;)e=Bs(e.nextSibling)}function ra(){Bn=Vn=null,wt=!1}function kg(e){yr===null?yr=[e]:yr.push(e)}var vT=ds.ReactCurrentBatchConfig;function za(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(se(309));var r=n.stateNode}if(!r)throw Error(se(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var l=s.refs;a===null?delete l[o]:l[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(se(284));if(!n._owner)throw Error(se(290,e))}return e}function Dc(e,t){throw e=Object.prototype.toString.call(t),Error(se(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function av(e){var t=e._init;return t(e._payload)}function jb(e){function t(y,v){if(e){var w=y.deletions;w===null?(y.deletions=[v],y.flags|=16):w.push(v)}}function n(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function r(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function s(y,v){return y=qs(y,v),y.index=0,y.sibling=null,y}function o(y,v,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<v?(y.flags|=2,v):w):(y.flags|=2,v)):(y.flags|=1048576,v)}function a(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,v,w,b){return v===null||v.tag!==6?(v=mh(w,y.mode,b),v.return=y,v):(v=s(v,w),v.return=y,v)}function c(y,v,w,b){var N=w.type;return N===bi?d(y,v,w.props.children,b,w.key):v!==null&&(v.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ns&&av(N)===v.type)?(b=s(v,w.props),b.ref=za(y,v,w),b.return=y,b):(b=fu(w.type,w.key,w.props,null,y.mode,b),b.ref=za(y,v,w),b.return=y,b)}function u(y,v,w,b){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=gh(w,y.mode,b),v.return=y,v):(v=s(v,w.children||[]),v.return=y,v)}function d(y,v,w,b,N){return v===null||v.tag!==7?(v=Io(w,y.mode,b,N),v.return=y,v):(v=s(v,w),v.return=y,v)}function f(y,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=mh(""+v,y.mode,w),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Nc:return w=fu(v.type,v.key,v.props,null,y.mode,w),w.ref=za(y,null,v),w.return=y,w;case _i:return v=gh(v,y.mode,w),v.return=y,v;case Ns:var b=v._init;return f(y,b(v._payload),w)}if(Xa(v)||Oa(v))return v=Io(v,y.mode,w,null),v.return=y,v;Dc(y,v)}return null}function h(y,v,w,b){var N=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return N!==null?null:l(y,v,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Nc:return w.key===N?c(y,v,w,b):null;case _i:return w.key===N?u(y,v,w,b):null;case Ns:return N=w._init,h(y,v,N(w._payload),b)}if(Xa(w)||Oa(w))return N!==null?null:d(y,v,w,b,null);Dc(y,w)}return null}function m(y,v,w,b,N){if(typeof b=="string"&&b!==""||typeof b=="number")return y=y.get(w)||null,l(v,y,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Nc:return y=y.get(b.key===null?w:b.key)||null,c(v,y,b,N);case _i:return y=y.get(b.key===null?w:b.key)||null,u(v,y,b,N);case Ns:var j=b._init;return m(y,v,w,j(b._payload),N)}if(Xa(b)||Oa(b))return y=y.get(w)||null,d(v,y,b,N,null);Dc(v,b)}return null}function x(y,v,w,b){for(var N=null,j=null,C=v,R=v=0,E=null;C!==null&&R<w.length;R++){C.index>R?(E=C,C=null):E=C.sibling;var T=h(y,C,w[R],b);if(T===null){C===null&&(C=E);break}e&&C&&T.alternate===null&&t(y,C),v=o(T,v,R),j===null?N=T:j.sibling=T,j=T,C=E}if(R===w.length)return n(y,C),wt&&yo(y,R),N;if(C===null){for(;R<w.length;R++)C=f(y,w[R],b),C!==null&&(v=o(C,v,R),j===null?N=C:j.sibling=C,j=C);return wt&&yo(y,R),N}for(C=r(y,C);R<w.length;R++)E=m(C,y,R,w[R],b),E!==null&&(e&&E.alternate!==null&&C.delete(E.key===null?R:E.key),v=o(E,v,R),j===null?N=E:j.sibling=E,j=E);return e&&C.forEach(function(D){return t(y,D)}),wt&&yo(y,R),N}function g(y,v,w,b){var N=Oa(w);if(typeof N!="function")throw Error(se(150));if(w=N.call(w),w==null)throw Error(se(151));for(var j=N=null,C=v,R=v=0,E=null,T=w.next();C!==null&&!T.done;R++,T=w.next()){C.index>R?(E=C,C=null):E=C.sibling;var D=h(y,C,T.value,b);if(D===null){C===null&&(C=E);break}e&&C&&D.alternate===null&&t(y,C),v=o(D,v,R),j===null?N=D:j.sibling=D,j=D,C=E}if(T.done)return n(y,C),wt&&yo(y,R),N;if(C===null){for(;!T.done;R++,T=w.next())T=f(y,T.value,b),T!==null&&(v=o(T,v,R),j===null?N=T:j.sibling=T,j=T);return wt&&yo(y,R),N}for(C=r(y,C);!T.done;R++,T=w.next())T=m(C,y,R,T.value,b),T!==null&&(e&&T.alternate!==null&&C.delete(T.key===null?R:T.key),v=o(T,v,R),j===null?N=T:j.sibling=T,j=T);return e&&C.forEach(function(O){return t(y,O)}),wt&&yo(y,R),N}function _(y,v,w,b){if(typeof w=="object"&&w!==null&&w.type===bi&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Nc:e:{for(var N=w.key,j=v;j!==null;){if(j.key===N){if(N=w.type,N===bi){if(j.tag===7){n(y,j.sibling),v=s(j,w.props.children),v.return=y,y=v;break e}}else if(j.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ns&&av(N)===j.type){n(y,j.sibling),v=s(j,w.props),v.ref=za(y,j,w),v.return=y,y=v;break e}n(y,j);break}else t(y,j);j=j.sibling}w.type===bi?(v=Io(w.props.children,y.mode,b,w.key),v.return=y,y=v):(b=fu(w.type,w.key,w.props,null,y.mode,b),b.ref=za(y,v,w),b.return=y,y=b)}return a(y);case _i:e:{for(j=w.key;v!==null;){if(v.key===j)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(y,v.sibling),v=s(v,w.children||[]),v.return=y,y=v;break e}else{n(y,v);break}else t(y,v);v=v.sibling}v=gh(w,y.mode,b),v.return=y,y=v}return a(y);case Ns:return j=w._init,_(y,v,j(w._payload),b)}if(Xa(w))return x(y,v,w,b);if(Oa(w))return g(y,v,w,b);Dc(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(n(y,v.sibling),v=s(v,w),v.return=y,y=v):(n(y,v),v=mh(w,y.mode,b),v.return=y,y=v),a(y)):n(y,v)}return _}var sa=jb(!0),Sb=jb(!1),Ou=so(null),Du=null,Ti=null,Cg=null;function Eg(){Cg=Ti=Du=null}function Pg(e){var t=Ou.current;yt(Ou),e._currentValue=t}function Ip(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Li(e,t){Du=e,Cg=Ti=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Sn=!0),e.firstContext=null)}function ir(e){var t=e._currentValue;if(Cg!==e)if(e={context:e,memoizedValue:t,next:null},Ti===null){if(Du===null)throw Error(se(308));Ti=e,Du.dependencies={lanes:0,firstContext:e}}else Ti=Ti.next=e;return t}var No=null;function Tg(e){No===null?No=[e]:No.push(e)}function Nb(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Tg(t)):(n.next=s.next,s.next=n),t.interleaved=n,is(e,r)}function is(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ks=!1;function Rg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kb(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ns(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Hs(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ze&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,is(e,n)}return s=r.interleaved,s===null?(t.next=t,Tg(r)):(t.next=s.next,s.next=t),r.interleaved=t,is(e,n)}function iu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,gg(e,n)}}function lv(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Lu(e,t,n,r){var s=e.updateQueue;ks=!1;var o=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?o=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=s.baseState;a=0,d=u=c=null,l=o;do{var h=l.lane,m=l.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,g=l;switch(h=t,m=n,g.tag){case 1:if(x=g.payload,typeof x=="function"){f=x.call(m,f,h);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=g.payload,h=typeof x=="function"?x.call(m,f,h):x,h==null)break e;f=St({},f,h);break e;case 2:ks=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,a|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Fo|=a,e.lanes=a,e.memoizedState=f}}function cv(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(se(191,s));s.call(r)}}}var tc={},Fr=so(tc),Pl=so(tc),Tl=so(tc);function ko(e){if(e===tc)throw Error(se(174));return e}function Ig(e,t){switch(pt(Tl,t),pt(Pl,e),pt(Fr,tc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=fp(t,e)}yt(Fr),pt(Fr,t)}function oa(){yt(Fr),yt(Pl),yt(Tl)}function Cb(e){ko(Tl.current);var t=ko(Fr.current),n=fp(t,e.type);t!==n&&(pt(Pl,e),pt(Fr,n))}function Ag(e){Pl.current===e&&(yt(Fr),yt(Pl))}var _t=so(0);function $u(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ch=[];function Mg(){for(var e=0;e<ch.length;e++)ch[e]._workInProgressVersionPrimary=null;ch.length=0}var au=ds.ReactCurrentDispatcher,uh=ds.ReactCurrentBatchConfig,$o=0,bt=null,Ot=null,Ut=null,Fu=!1,ll=!1,Rl=0,wT=0;function Jt(){throw Error(se(321))}function Og(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!_r(e[n],t[n]))return!1;return!0}function Dg(e,t,n,r,s,o){if($o=o,bt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,au.current=e===null||e.memoizedState===null?ST:NT,e=n(r,s),ll){o=0;do{if(ll=!1,Rl=0,25<=o)throw Error(se(301));o+=1,Ut=Ot=null,t.updateQueue=null,au.current=kT,e=n(r,s)}while(ll)}if(au.current=zu,t=Ot!==null&&Ot.next!==null,$o=0,Ut=Ot=bt=null,Fu=!1,t)throw Error(se(300));return e}function Lg(){var e=Rl!==0;return Rl=0,e}function Pr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?bt.memoizedState=Ut=e:Ut=Ut.next=e,Ut}function ar(){if(Ot===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=Ot.next;var t=Ut===null?bt.memoizedState:Ut.next;if(t!==null)Ut=t,Ot=e;else{if(e===null)throw Error(se(310));Ot=e,e={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},Ut===null?bt.memoizedState=Ut=e:Ut=Ut.next=e}return Ut}function Il(e,t){return typeof t=="function"?t(e):t}function dh(e){var t=ar(),n=t.queue;if(n===null)throw Error(se(311));n.lastRenderedReducer=e;var r=Ot,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var a=s.next;s.next=o.next,o.next=a}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var l=a=null,c=null,u=o;do{var d=u.lane;if(($o&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,a=r):c=c.next=f,bt.lanes|=d,Fo|=d}u=u.next}while(u!==null&&u!==o);c===null?a=r:c.next=l,_r(r,t.memoizedState)||(Sn=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,bt.lanes|=o,Fo|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function fh(e){var t=ar(),n=t.queue;if(n===null)throw Error(se(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do o=e(o,a.action),a=a.next;while(a!==s);_r(o,t.memoizedState)||(Sn=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Eb(){}function Pb(e,t){var n=bt,r=ar(),s=t(),o=!_r(r.memoizedState,s);if(o&&(r.memoizedState=s,Sn=!0),r=r.queue,$g(Ib.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Ut!==null&&Ut.memoizedState.tag&1){if(n.flags|=2048,Al(9,Rb.bind(null,n,r,s,t),void 0,null),Ht===null)throw Error(se(349));$o&30||Tb(n,t,s)}return s}function Tb(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=bt.updateQueue,t===null?(t={lastEffect:null,stores:null},bt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Rb(e,t,n,r){t.value=n,t.getSnapshot=r,Ab(t)&&Mb(e)}function Ib(e,t,n){return n(function(){Ab(t)&&Mb(e)})}function Ab(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!_r(e,n)}catch{return!0}}function Mb(e){var t=is(e,1);t!==null&&wr(t,e,1,-1)}function uv(e){var t=Pr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Il,lastRenderedState:e},t.queue=e,e=e.dispatch=jT.bind(null,bt,e),[t.memoizedState,e]}function Al(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=bt.updateQueue,t===null?(t={lastEffect:null,stores:null},bt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Ob(){return ar().memoizedState}function lu(e,t,n,r){var s=Pr();bt.flags|=e,s.memoizedState=Al(1|t,n,void 0,r===void 0?null:r)}function Sd(e,t,n,r){var s=ar();r=r===void 0?null:r;var o=void 0;if(Ot!==null){var a=Ot.memoizedState;if(o=a.destroy,r!==null&&Og(r,a.deps)){s.memoizedState=Al(t,n,o,r);return}}bt.flags|=e,s.memoizedState=Al(1|t,n,o,r)}function dv(e,t){return lu(8390656,8,e,t)}function $g(e,t){return Sd(2048,8,e,t)}function Db(e,t){return Sd(4,2,e,t)}function Lb(e,t){return Sd(4,4,e,t)}function $b(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Fb(e,t,n){return n=n!=null?n.concat([e]):null,Sd(4,4,$b.bind(null,t,e),n)}function Fg(){}function zb(e,t){var n=ar();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Og(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ub(e,t){var n=ar();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Og(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Bb(e,t,n){return $o&21?(_r(n,t)||(n=G_(),bt.lanes|=n,Fo|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Sn=!0),e.memoizedState=n)}function _T(e,t){var n=ct;ct=n!==0&&4>n?n:4,e(!0);var r=uh.transition;uh.transition={};try{e(!1),t()}finally{ct=n,uh.transition=r}}function Hb(){return ar().memoizedState}function bT(e,t,n){var r=Ws(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Vb(e))Wb(t,n);else if(n=Nb(e,t,n,r),n!==null){var s=hn();wr(n,e,r,s),qb(n,t,r)}}function jT(e,t,n){var r=Ws(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Vb(e))Wb(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,l=o(a,n);if(s.hasEagerState=!0,s.eagerState=l,_r(l,a)){var c=t.interleaved;c===null?(s.next=s,Tg(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=Nb(e,t,s,r),n!==null&&(s=hn(),wr(n,e,r,s),qb(n,t,r))}}function Vb(e){var t=e.alternate;return e===bt||t!==null&&t===bt}function Wb(e,t){ll=Fu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function qb(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,gg(e,n)}}var zu={readContext:ir,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useInsertionEffect:Jt,useLayoutEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useMutableSource:Jt,useSyncExternalStore:Jt,useId:Jt,unstable_isNewReconciler:!1},ST={readContext:ir,useCallback:function(e,t){return Pr().memoizedState=[e,t===void 0?null:t],e},useContext:ir,useEffect:dv,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,lu(4194308,4,$b.bind(null,t,e),n)},useLayoutEffect:function(e,t){return lu(4194308,4,e,t)},useInsertionEffect:function(e,t){return lu(4,2,e,t)},useMemo:function(e,t){var n=Pr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Pr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=bT.bind(null,bt,e),[r.memoizedState,e]},useRef:function(e){var t=Pr();return e={current:e},t.memoizedState=e},useState:uv,useDebugValue:Fg,useDeferredValue:function(e){return Pr().memoizedState=e},useTransition:function(){var e=uv(!1),t=e[0];return e=_T.bind(null,e[1]),Pr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=bt,s=Pr();if(wt){if(n===void 0)throw Error(se(407));n=n()}else{if(n=t(),Ht===null)throw Error(se(349));$o&30||Tb(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,dv(Ib.bind(null,r,o,e),[e]),r.flags|=2048,Al(9,Rb.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Pr(),t=Ht.identifierPrefix;if(wt){var n=Zr,r=Jr;n=(r&~(1<<32-vr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Rl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=wT++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},NT={readContext:ir,useCallback:zb,useContext:ir,useEffect:$g,useImperativeHandle:Fb,useInsertionEffect:Db,useLayoutEffect:Lb,useMemo:Ub,useReducer:dh,useRef:Ob,useState:function(){return dh(Il)},useDebugValue:Fg,useDeferredValue:function(e){var t=ar();return Bb(t,Ot.memoizedState,e)},useTransition:function(){var e=dh(Il)[0],t=ar().memoizedState;return[e,t]},useMutableSource:Eb,useSyncExternalStore:Pb,useId:Hb,unstable_isNewReconciler:!1},kT={readContext:ir,useCallback:zb,useContext:ir,useEffect:$g,useImperativeHandle:Fb,useInsertionEffect:Db,useLayoutEffect:Lb,useMemo:Ub,useReducer:fh,useRef:Ob,useState:function(){return fh(Il)},useDebugValue:Fg,useDeferredValue:function(e){var t=ar();return Ot===null?t.memoizedState=e:Bb(t,Ot.memoizedState,e)},useTransition:function(){var e=fh(Il)[0],t=ar().memoizedState;return[e,t]},useMutableSource:Eb,useSyncExternalStore:Pb,useId:Hb,unstable_isNewReconciler:!1};function hr(e,t){if(e&&e.defaultProps){t=St({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ap(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:St({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Nd={isMounted:function(e){return(e=e._reactInternals)?Ko(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hn(),s=Ws(e),o=ns(r,s);o.payload=t,n!=null&&(o.callback=n),t=Hs(e,o,s),t!==null&&(wr(t,e,s,r),iu(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hn(),s=Ws(e),o=ns(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Hs(e,o,s),t!==null&&(wr(t,e,s,r),iu(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hn(),r=Ws(e),s=ns(n,r);s.tag=2,t!=null&&(s.callback=t),t=Hs(e,s,r),t!==null&&(wr(t,e,r,n),iu(t,e,r))}};function fv(e,t,n,r,s,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!Nl(n,r)||!Nl(s,o):!0}function Gb(e,t,n){var r=!1,s=Xs,o=t.contextType;return typeof o=="object"&&o!==null?o=ir(o):(s=kn(t)?Do:on.current,r=t.contextTypes,o=(r=r!=null)?na(e,s):Xs),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Nd,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function hv(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Nd.enqueueReplaceState(t,t.state,null)}function Mp(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Rg(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=ir(o):(o=kn(t)?Do:on.current,s.context=na(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Ap(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Nd.enqueueReplaceState(s,s.state,null),Lu(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ia(e,t){try{var n="",r=t;do n+=eP(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function hh(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Op(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var CT=typeof WeakMap=="function"?WeakMap:Map;function Kb(e,t,n){n=ns(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Bu||(Bu=!0,Wp=r),Op(e,t)},n}function Yb(e,t,n){n=ns(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Op(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Op(e,t),typeof r!="function"&&(Vs===null?Vs=new Set([this]):Vs.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function pv(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new CT;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=UT.bind(null,e,t,n),t.then(e,e))}function mv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function gv(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ns(-1,1),t.tag=2,Hs(n,t,1))),n.lanes|=1),e)}var ET=ds.ReactCurrentOwner,Sn=!1;function un(e,t,n,r){t.child=e===null?Sb(t,null,n,r):sa(t,e.child,n,r)}function xv(e,t,n,r,s){n=n.render;var o=t.ref;return Li(t,s),r=Dg(e,t,n,r,o,s),n=Lg(),e!==null&&!Sn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,as(e,t,s)):(wt&&n&&Sg(t),t.flags|=1,un(e,t,r,s),t.child)}function yv(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!Gg(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Qb(e,t,o,r,s)):(e=fu(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Nl,n(a,r)&&e.ref===t.ref)return as(e,t,s)}return t.flags|=1,e=qs(o,r),e.ref=t.ref,e.return=t,t.child=e}function Qb(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(Nl(o,r)&&e.ref===t.ref)if(Sn=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(Sn=!0);else return t.lanes=e.lanes,as(e,t,s)}return Dp(e,t,n,r,s)}function Xb(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},pt(Ii,zn),zn|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,pt(Ii,zn),zn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,pt(Ii,zn),zn|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,pt(Ii,zn),zn|=r;return un(e,t,s,n),t.child}function Jb(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Dp(e,t,n,r,s){var o=kn(n)?Do:on.current;return o=na(t,o),Li(t,s),n=Dg(e,t,n,r,o,s),r=Lg(),e!==null&&!Sn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,as(e,t,s)):(wt&&r&&Sg(t),t.flags|=1,un(e,t,n,s),t.child)}function vv(e,t,n,r,s){if(kn(n)){var o=!0;Iu(t)}else o=!1;if(Li(t,s),t.stateNode===null)cu(e,t),Gb(t,n,r),Mp(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=ir(u):(u=kn(n)?Do:on.current,u=na(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&hv(t,a,r,u),ks=!1;var h=t.memoizedState;a.state=h,Lu(t,r,a,s),c=t.memoizedState,l!==r||h!==c||Nn.current||ks?(typeof d=="function"&&(Ap(t,n,d,r),c=t.memoizedState),(l=ks||fv(t,n,l,r,h,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,kb(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:hr(t.type,l),a.props=u,f=t.pendingProps,h=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=ir(c):(c=kn(n)?Do:on.current,c=na(t,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||h!==c)&&hv(t,a,r,c),ks=!1,h=t.memoizedState,a.state=h,Lu(t,r,a,s);var x=t.memoizedState;l!==f||h!==x||Nn.current||ks?(typeof m=="function"&&(Ap(t,n,m,r),x=t.memoizedState),(u=ks||fv(t,n,u,r,h,x,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,x,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,x,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),a.props=r,a.state=x,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Lp(e,t,n,r,o,s)}function Lp(e,t,n,r,s,o){Jb(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&sv(t,n,!1),as(e,t,o);r=t.stateNode,ET.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=sa(t,e.child,null,o),t.child=sa(t,null,l,o)):un(e,t,l,o),t.memoizedState=r.state,s&&sv(t,n,!0),t.child}function Zb(e){var t=e.stateNode;t.pendingContext?rv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&rv(e,t.context,!1),Ig(e,t.containerInfo)}function wv(e,t,n,r,s){return ra(),kg(s),t.flags|=256,un(e,t,n,r),t.child}var $p={dehydrated:null,treeContext:null,retryLane:0};function Fp(e){return{baseLanes:e,cachePool:null,transitions:null}}function e1(e,t,n){var r=t.pendingProps,s=_t.current,o=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),pt(_t,s&1),e===null)return Rp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Ed(a,r,0,null),e=Io(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Fp(n),t.memoizedState=$p,e):zg(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return PT(e,t,a,r,l,s,n);if(o){o=r.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=qs(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=qs(l,o):(o=Io(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?Fp(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=$p,r}return o=e.child,e=o.sibling,r=qs(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function zg(e,t){return t=Ed({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Lc(e,t,n,r){return r!==null&&kg(r),sa(t,e.child,null,n),e=zg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function PT(e,t,n,r,s,o,a){if(n)return t.flags&256?(t.flags&=-257,r=hh(Error(se(422))),Lc(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=Ed({mode:"visible",children:r.children},s,0,null),o=Io(o,s,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&sa(t,e.child,null,a),t.child.memoizedState=Fp(a),t.memoizedState=$p,o);if(!(t.mode&1))return Lc(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(se(419)),r=hh(o,r,void 0),Lc(e,t,a,r)}if(l=(a&e.childLanes)!==0,Sn||l){if(r=Ht,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,is(e,s),wr(r,e,s,-1))}return qg(),r=hh(Error(se(421))),Lc(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=BT.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,Bn=Bs(s.nextSibling),Vn=t,wt=!0,yr=null,e!==null&&(Xn[Jn++]=Jr,Xn[Jn++]=Zr,Xn[Jn++]=Lo,Jr=e.id,Zr=e.overflow,Lo=t),t=zg(t,r.children),t.flags|=4096,t)}function _v(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ip(e.return,t,n)}function ph(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function t1(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(un(e,t,r.children,n),r=_t.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_v(e,n,t);else if(e.tag===19)_v(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(pt(_t,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&$u(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),ph(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&$u(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}ph(t,!0,n,null,o);break;case"together":ph(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function cu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function as(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Fo|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(se(153));if(t.child!==null){for(e=t.child,n=qs(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=qs(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function TT(e,t,n){switch(t.tag){case 3:Zb(t),ra();break;case 5:Cb(t);break;case 1:kn(t.type)&&Iu(t);break;case 4:Ig(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;pt(Ou,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(pt(_t,_t.current&1),t.flags|=128,null):n&t.child.childLanes?e1(e,t,n):(pt(_t,_t.current&1),e=as(e,t,n),e!==null?e.sibling:null);pt(_t,_t.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return t1(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),pt(_t,_t.current),r)break;return null;case 22:case 23:return t.lanes=0,Xb(e,t,n)}return as(e,t,n)}var n1,zp,r1,s1;n1=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};zp=function(){};r1=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,ko(Fr.current);var o=null;switch(n){case"input":s=lp(e,s),r=lp(e,r),o=[];break;case"select":s=St({},s,{value:void 0}),r=St({},r,{value:void 0}),o=[];break;case"textarea":s=dp(e,s),r=dp(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Tu)}hp(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(yl.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(yl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&xt("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};s1=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ua(e,t){if(!wt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Zt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function RT(e,t,n){var r=t.pendingProps;switch(Ng(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(t),null;case 1:return kn(t.type)&&Ru(),Zt(t),null;case 3:return r=t.stateNode,oa(),yt(Nn),yt(on),Mg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Oc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,yr!==null&&(Kp(yr),yr=null))),zp(e,t),Zt(t),null;case 5:Ag(t);var s=ko(Tl.current);if(n=t.type,e!==null&&t.stateNode!=null)r1(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(se(166));return Zt(t),null}if(e=ko(Fr.current),Oc(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Or]=t,r[El]=o,e=(t.mode&1)!==0,n){case"dialog":xt("cancel",r),xt("close",r);break;case"iframe":case"object":case"embed":xt("load",r);break;case"video":case"audio":for(s=0;s<Za.length;s++)xt(Za[s],r);break;case"source":xt("error",r);break;case"img":case"image":case"link":xt("error",r),xt("load",r);break;case"details":xt("toggle",r);break;case"input":Ty(r,o),xt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},xt("invalid",r);break;case"textarea":Iy(r,o),xt("invalid",r)}hp(n,o),s=null;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&Mc(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Mc(r.textContent,l,e),s=["children",""+l]):yl.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&xt("scroll",r)}switch(n){case"input":kc(r),Ry(r,o,!0);break;case"textarea":kc(r),Ay(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Tu)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=I_(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Or]=t,e[El]=r,n1(e,t,!1,!1),t.stateNode=e;e:{switch(a=pp(n,r),n){case"dialog":xt("cancel",e),xt("close",e),s=r;break;case"iframe":case"object":case"embed":xt("load",e),s=r;break;case"video":case"audio":for(s=0;s<Za.length;s++)xt(Za[s],e);s=r;break;case"source":xt("error",e),s=r;break;case"img":case"image":case"link":xt("error",e),xt("load",e),s=r;break;case"details":xt("toggle",e),s=r;break;case"input":Ty(e,r),s=lp(e,r),xt("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=St({},r,{value:void 0}),xt("invalid",e);break;case"textarea":Iy(e,r),s=dp(e,r),xt("invalid",e);break;default:s=r}hp(n,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?O_(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&A_(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&vl(e,c):typeof c=="number"&&vl(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(yl.hasOwnProperty(o)?c!=null&&o==="onScroll"&&xt("scroll",e):c!=null&&ug(e,o,c,a))}switch(n){case"input":kc(e),Ry(e,r,!1);break;case"textarea":kc(e),Ay(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Qs(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Ai(e,!!r.multiple,o,!1):r.defaultValue!=null&&Ai(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Tu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Zt(t),null;case 6:if(e&&t.stateNode!=null)s1(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(se(166));if(n=ko(Tl.current),ko(Fr.current),Oc(t)){if(r=t.stateNode,n=t.memoizedProps,r[Or]=t,(o=r.nodeValue!==n)&&(e=Vn,e!==null))switch(e.tag){case 3:Mc(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Mc(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Or]=t,t.stateNode=r}return Zt(t),null;case 13:if(yt(_t),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(wt&&Bn!==null&&t.mode&1&&!(t.flags&128))bb(),ra(),t.flags|=98560,o=!1;else if(o=Oc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(se(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(se(317));o[Or]=t}else ra(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Zt(t),o=!1}else yr!==null&&(Kp(yr),yr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||_t.current&1?Dt===0&&(Dt=3):qg())),t.updateQueue!==null&&(t.flags|=4),Zt(t),null);case 4:return oa(),zp(e,t),e===null&&kl(t.stateNode.containerInfo),Zt(t),null;case 10:return Pg(t.type._context),Zt(t),null;case 17:return kn(t.type)&&Ru(),Zt(t),null;case 19:if(yt(_t),o=t.memoizedState,o===null)return Zt(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)Ua(o,!1);else{if(Dt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=$u(e),a!==null){for(t.flags|=128,Ua(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return pt(_t,_t.current&1|2),t.child}e=e.sibling}o.tail!==null&&Pt()>aa&&(t.flags|=128,r=!0,Ua(o,!1),t.lanes=4194304)}else{if(!r)if(e=$u(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ua(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!wt)return Zt(t),null}else 2*Pt()-o.renderingStartTime>aa&&n!==1073741824&&(t.flags|=128,r=!0,Ua(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Pt(),t.sibling=null,n=_t.current,pt(_t,r?n&1|2:n&1),t):(Zt(t),null);case 22:case 23:return Wg(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?zn&1073741824&&(Zt(t),t.subtreeFlags&6&&(t.flags|=8192)):Zt(t),null;case 24:return null;case 25:return null}throw Error(se(156,t.tag))}function IT(e,t){switch(Ng(t),t.tag){case 1:return kn(t.type)&&Ru(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return oa(),yt(Nn),yt(on),Mg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ag(t),null;case 13:if(yt(_t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(se(340));ra()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return yt(_t),null;case 4:return oa(),null;case 10:return Pg(t.type._context),null;case 22:case 23:return Wg(),null;case 24:return null;default:return null}}var $c=!1,nn=!1,AT=typeof WeakSet=="function"?WeakSet:Set,we=null;function Ri(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Et(e,t,r)}else n.current=null}function Up(e,t,n){try{n()}catch(r){Et(e,t,r)}}var bv=!1;function MT(e,t){if(Sp=Cu,e=cb(),jg(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(l=a+s),f!==o||r!==0&&f.nodeType!==3||(c=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===n&&++u===s&&(l=a),h===o&&++d===r&&(c=a),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Np={focusedElem:e,selectionRange:n},Cu=!1,we=t;we!==null;)if(t=we,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,we=e;else for(;we!==null;){t=we;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var g=x.memoizedProps,_=x.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:hr(t.type,g),_);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(se(163))}}catch(b){Et(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,we=e;break}we=t.return}return x=bv,bv=!1,x}function cl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&Up(t,n,o)}s=s.next}while(s!==r)}}function kd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Bp(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function o1(e){var t=e.alternate;t!==null&&(e.alternate=null,o1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Or],delete t[El],delete t[Ep],delete t[gT],delete t[xT])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function i1(e){return e.tag===5||e.tag===3||e.tag===4}function jv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||i1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Tu));else if(r!==4&&(e=e.child,e!==null))for(Hp(e,t,n),e=e.sibling;e!==null;)Hp(e,t,n),e=e.sibling}function Vp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Vp(e,t,n),e=e.sibling;e!==null;)Vp(e,t,n),e=e.sibling}var qt=null,gr=!1;function gs(e,t,n){for(n=n.child;n!==null;)a1(e,t,n),n=n.sibling}function a1(e,t,n){if($r&&typeof $r.onCommitFiberUnmount=="function")try{$r.onCommitFiberUnmount(yd,n)}catch{}switch(n.tag){case 5:nn||Ri(n,t);case 6:var r=qt,s=gr;qt=null,gs(e,t,n),qt=r,gr=s,qt!==null&&(gr?(e=qt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):qt.removeChild(n.stateNode));break;case 18:qt!==null&&(gr?(e=qt,n=n.stateNode,e.nodeType===8?ah(e.parentNode,n):e.nodeType===1&&ah(e,n),jl(e)):ah(qt,n.stateNode));break;case 4:r=qt,s=gr,qt=n.stateNode.containerInfo,gr=!0,gs(e,t,n),qt=r,gr=s;break;case 0:case 11:case 14:case 15:if(!nn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Up(n,t,a),s=s.next}while(s!==r)}gs(e,t,n);break;case 1:if(!nn&&(Ri(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Et(n,t,l)}gs(e,t,n);break;case 21:gs(e,t,n);break;case 22:n.mode&1?(nn=(r=nn)||n.memoizedState!==null,gs(e,t,n),nn=r):gs(e,t,n);break;default:gs(e,t,n)}}function Sv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new AT),t.forEach(function(r){var s=HT.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ur(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:qt=l.stateNode,gr=!1;break e;case 3:qt=l.stateNode.containerInfo,gr=!0;break e;case 4:qt=l.stateNode.containerInfo,gr=!0;break e}l=l.return}if(qt===null)throw Error(se(160));a1(o,a,s),qt=null,gr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Et(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)l1(t,e),t=t.sibling}function l1(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ur(t,e),Er(e),r&4){try{cl(3,e,e.return),kd(3,e)}catch(g){Et(e,e.return,g)}try{cl(5,e,e.return)}catch(g){Et(e,e.return,g)}}break;case 1:ur(t,e),Er(e),r&512&&n!==null&&Ri(n,n.return);break;case 5:if(ur(t,e),Er(e),r&512&&n!==null&&Ri(n,n.return),e.flags&32){var s=e.stateNode;try{vl(s,"")}catch(g){Et(e,e.return,g)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&T_(s,o),pp(l,a);var u=pp(l,o);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?O_(s,f):d==="dangerouslySetInnerHTML"?A_(s,f):d==="children"?vl(s,f):ug(s,d,f,u)}switch(l){case"input":cp(s,o);break;case"textarea":R_(s,o);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?Ai(s,!!o.multiple,m,!1):h!==!!o.multiple&&(o.defaultValue!=null?Ai(s,!!o.multiple,o.defaultValue,!0):Ai(s,!!o.multiple,o.multiple?[]:"",!1))}s[El]=o}catch(g){Et(e,e.return,g)}}break;case 6:if(ur(t,e),Er(e),r&4){if(e.stateNode===null)throw Error(se(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(g){Et(e,e.return,g)}}break;case 3:if(ur(t,e),Er(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{jl(t.containerInfo)}catch(g){Et(e,e.return,g)}break;case 4:ur(t,e),Er(e);break;case 13:ur(t,e),Er(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Hg=Pt())),r&4&&Sv(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(nn=(u=nn)||d,ur(t,e),nn=u):ur(t,e),Er(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(we=e,d=e.child;d!==null;){for(f=we=d;we!==null;){switch(h=we,m=h.child,h.tag){case 0:case 11:case 14:case 15:cl(4,h,h.return);break;case 1:Ri(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(g){Et(r,n,g)}}break;case 5:Ri(h,h.return);break;case 22:if(h.memoizedState!==null){kv(f);continue}}m!==null?(m.return=h,we=m):kv(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=M_("display",a))}catch(g){Et(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Et(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ur(t,e),Er(e),r&4&&Sv(e);break;case 21:break;default:ur(t,e),Er(e)}}function Er(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(i1(n)){var r=n;break e}n=n.return}throw Error(se(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(vl(s,""),r.flags&=-33);var o=jv(e);Vp(e,o,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=jv(e);Hp(e,l,a);break;default:throw Error(se(161))}}catch(c){Et(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function OT(e,t,n){we=e,c1(e)}function c1(e,t,n){for(var r=(e.mode&1)!==0;we!==null;){var s=we,o=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||$c;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||nn;l=$c;var u=nn;if($c=a,(nn=c)&&!u)for(we=s;we!==null;)a=we,c=a.child,a.tag===22&&a.memoizedState!==null?Cv(s):c!==null?(c.return=a,we=c):Cv(s);for(;o!==null;)we=o,c1(o),o=o.sibling;we=s,$c=l,nn=u}Nv(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,we=o):Nv(e)}}function Nv(e){for(;we!==null;){var t=we;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:nn||kd(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!nn)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:hr(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&cv(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}cv(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&jl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(se(163))}nn||t.flags&512&&Bp(t)}catch(h){Et(t,t.return,h)}}if(t===e){we=null;break}if(n=t.sibling,n!==null){n.return=t.return,we=n;break}we=t.return}}function kv(e){for(;we!==null;){var t=we;if(t===e){we=null;break}var n=t.sibling;if(n!==null){n.return=t.return,we=n;break}we=t.return}}function Cv(e){for(;we!==null;){var t=we;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{kd(4,t)}catch(c){Et(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){Et(t,s,c)}}var o=t.return;try{Bp(t)}catch(c){Et(t,o,c)}break;case 5:var a=t.return;try{Bp(t)}catch(c){Et(t,a,c)}}}catch(c){Et(t,t.return,c)}if(t===e){we=null;break}var l=t.sibling;if(l!==null){l.return=t.return,we=l;break}we=t.return}}var DT=Math.ceil,Uu=ds.ReactCurrentDispatcher,Ug=ds.ReactCurrentOwner,nr=ds.ReactCurrentBatchConfig,Ze=0,Ht=null,Rt=null,Kt=0,zn=0,Ii=so(0),Dt=0,Ml=null,Fo=0,Cd=0,Bg=0,ul=null,bn=null,Hg=0,aa=1/0,Yr=null,Bu=!1,Wp=null,Vs=null,Fc=!1,Ls=null,Hu=0,dl=0,qp=null,uu=-1,du=0;function hn(){return Ze&6?Pt():uu!==-1?uu:uu=Pt()}function Ws(e){return e.mode&1?Ze&2&&Kt!==0?Kt&-Kt:vT.transition!==null?(du===0&&(du=G_()),du):(e=ct,e!==0||(e=window.event,e=e===void 0?16:eb(e.type)),e):1}function wr(e,t,n,r){if(50<dl)throw dl=0,qp=null,Error(se(185));Jl(e,n,r),(!(Ze&2)||e!==Ht)&&(e===Ht&&(!(Ze&2)&&(Cd|=n),Dt===4&&Ps(e,Kt)),Cn(e,r),n===1&&Ze===0&&!(t.mode&1)&&(aa=Pt()+500,jd&&oo()))}function Cn(e,t){var n=e.callbackNode;vP(e,t);var r=ku(e,e===Ht?Kt:0);if(r===0)n!==null&&Dy(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Dy(n),t===1)e.tag===0?yT(Ev.bind(null,e)):vb(Ev.bind(null,e)),pT(function(){!(Ze&6)&&oo()}),n=null;else{switch(K_(r)){case 1:n=mg;break;case 4:n=W_;break;case 16:n=Nu;break;case 536870912:n=q_;break;default:n=Nu}n=x1(n,u1.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function u1(e,t){if(uu=-1,du=0,Ze&6)throw Error(se(327));var n=e.callbackNode;if($i()&&e.callbackNode!==n)return null;var r=ku(e,e===Ht?Kt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Vu(e,r);else{t=r;var s=Ze;Ze|=2;var o=f1();(Ht!==e||Kt!==t)&&(Yr=null,aa=Pt()+500,Ro(e,t));do try{FT();break}catch(l){d1(e,l)}while(!0);Eg(),Uu.current=o,Ze=s,Rt!==null?t=0:(Ht=null,Kt=0,t=Dt)}if(t!==0){if(t===2&&(s=vp(e),s!==0&&(r=s,t=Gp(e,s))),t===1)throw n=Ml,Ro(e,0),Ps(e,r),Cn(e,Pt()),n;if(t===6)Ps(e,r);else{if(s=e.current.alternate,!(r&30)&&!LT(s)&&(t=Vu(e,r),t===2&&(o=vp(e),o!==0&&(r=o,t=Gp(e,o))),t===1))throw n=Ml,Ro(e,0),Ps(e,r),Cn(e,Pt()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(se(345));case 2:vo(e,bn,Yr);break;case 3:if(Ps(e,r),(r&130023424)===r&&(t=Hg+500-Pt(),10<t)){if(ku(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){hn(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Cp(vo.bind(null,e,bn,Yr),t);break}vo(e,bn,Yr);break;case 4:if(Ps(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-vr(r);o=1<<a,a=t[a],a>s&&(s=a),r&=~o}if(r=s,r=Pt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*DT(r/1960))-r,10<r){e.timeoutHandle=Cp(vo.bind(null,e,bn,Yr),r);break}vo(e,bn,Yr);break;case 5:vo(e,bn,Yr);break;default:throw Error(se(329))}}}return Cn(e,Pt()),e.callbackNode===n?u1.bind(null,e):null}function Gp(e,t){var n=ul;return e.current.memoizedState.isDehydrated&&(Ro(e,t).flags|=256),e=Vu(e,t),e!==2&&(t=bn,bn=n,t!==null&&Kp(t)),e}function Kp(e){bn===null?bn=e:bn.push.apply(bn,e)}function LT(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!_r(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ps(e,t){for(t&=~Bg,t&=~Cd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-vr(t),r=1<<n;e[n]=-1,t&=~r}}function Ev(e){if(Ze&6)throw Error(se(327));$i();var t=ku(e,0);if(!(t&1))return Cn(e,Pt()),null;var n=Vu(e,t);if(e.tag!==0&&n===2){var r=vp(e);r!==0&&(t=r,n=Gp(e,r))}if(n===1)throw n=Ml,Ro(e,0),Ps(e,t),Cn(e,Pt()),n;if(n===6)throw Error(se(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,vo(e,bn,Yr),Cn(e,Pt()),null}function Vg(e,t){var n=Ze;Ze|=1;try{return e(t)}finally{Ze=n,Ze===0&&(aa=Pt()+500,jd&&oo())}}function zo(e){Ls!==null&&Ls.tag===0&&!(Ze&6)&&$i();var t=Ze;Ze|=1;var n=nr.transition,r=ct;try{if(nr.transition=null,ct=1,e)return e()}finally{ct=r,nr.transition=n,Ze=t,!(Ze&6)&&oo()}}function Wg(){zn=Ii.current,yt(Ii)}function Ro(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,hT(n)),Rt!==null)for(n=Rt.return;n!==null;){var r=n;switch(Ng(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ru();break;case 3:oa(),yt(Nn),yt(on),Mg();break;case 5:Ag(r);break;case 4:oa();break;case 13:yt(_t);break;case 19:yt(_t);break;case 10:Pg(r.type._context);break;case 22:case 23:Wg()}n=n.return}if(Ht=e,Rt=e=qs(e.current,null),Kt=zn=t,Dt=0,Ml=null,Bg=Cd=Fo=0,bn=ul=null,No!==null){for(t=0;t<No.length;t++)if(n=No[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=s,r.next=a}n.pending=r}No=null}return e}function d1(e,t){do{var n=Rt;try{if(Eg(),au.current=zu,Fu){for(var r=bt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Fu=!1}if($o=0,Ut=Ot=bt=null,ll=!1,Rl=0,Ug.current=null,n===null||n.return===null){Dt=1,Ml=t,Rt=null;break}e:{var o=e,a=n.return,l=n,c=t;if(t=Kt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=mv(a);if(m!==null){m.flags&=-257,gv(m,a,l,o,t),m.mode&1&&pv(o,u,t),t=m,c=u;var x=t.updateQueue;if(x===null){var g=new Set;g.add(c),t.updateQueue=g}else x.add(c);break e}else{if(!(t&1)){pv(o,u,t),qg();break e}c=Error(se(426))}}else if(wt&&l.mode&1){var _=mv(a);if(_!==null){!(_.flags&65536)&&(_.flags|=256),gv(_,a,l,o,t),kg(ia(c,l));break e}}o=c=ia(c,l),Dt!==4&&(Dt=2),ul===null?ul=[o]:ul.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=Kb(o,c,t);lv(o,y);break e;case 1:l=c;var v=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Vs===null||!Vs.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t;var b=Yb(o,l,t);lv(o,b);break e}}o=o.return}while(o!==null)}p1(n)}catch(N){t=N,Rt===n&&n!==null&&(Rt=n=n.return);continue}break}while(!0)}function f1(){var e=Uu.current;return Uu.current=zu,e===null?zu:e}function qg(){(Dt===0||Dt===3||Dt===2)&&(Dt=4),Ht===null||!(Fo&268435455)&&!(Cd&268435455)||Ps(Ht,Kt)}function Vu(e,t){var n=Ze;Ze|=2;var r=f1();(Ht!==e||Kt!==t)&&(Yr=null,Ro(e,t));do try{$T();break}catch(s){d1(e,s)}while(!0);if(Eg(),Ze=n,Uu.current=r,Rt!==null)throw Error(se(261));return Ht=null,Kt=0,Dt}function $T(){for(;Rt!==null;)h1(Rt)}function FT(){for(;Rt!==null&&!uP();)h1(Rt)}function h1(e){var t=g1(e.alternate,e,zn);e.memoizedProps=e.pendingProps,t===null?p1(e):Rt=t,Ug.current=null}function p1(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=IT(n,t),n!==null){n.flags&=32767,Rt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Dt=6,Rt=null;return}}else if(n=RT(n,t,zn),n!==null){Rt=n;return}if(t=t.sibling,t!==null){Rt=t;return}Rt=t=e}while(t!==null);Dt===0&&(Dt=5)}function vo(e,t,n){var r=ct,s=nr.transition;try{nr.transition=null,ct=1,zT(e,t,n,r)}finally{nr.transition=s,ct=r}return null}function zT(e,t,n,r){do $i();while(Ls!==null);if(Ze&6)throw Error(se(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(se(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(wP(e,o),e===Ht&&(Rt=Ht=null,Kt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Fc||(Fc=!0,x1(Nu,function(){return $i(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=nr.transition,nr.transition=null;var a=ct;ct=1;var l=Ze;Ze|=4,Ug.current=null,MT(e,n),l1(n,e),iT(Np),Cu=!!Sp,Np=Sp=null,e.current=n,OT(n),dP(),Ze=l,ct=a,nr.transition=o}else e.current=n;if(Fc&&(Fc=!1,Ls=e,Hu=s),o=e.pendingLanes,o===0&&(Vs=null),pP(n.stateNode),Cn(e,Pt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Bu)throw Bu=!1,e=Wp,Wp=null,e;return Hu&1&&e.tag!==0&&$i(),o=e.pendingLanes,o&1?e===qp?dl++:(dl=0,qp=e):dl=0,oo(),null}function $i(){if(Ls!==null){var e=K_(Hu),t=nr.transition,n=ct;try{if(nr.transition=null,ct=16>e?16:e,Ls===null)var r=!1;else{if(e=Ls,Ls=null,Hu=0,Ze&6)throw Error(se(331));var s=Ze;for(Ze|=4,we=e.current;we!==null;){var o=we,a=o.child;if(we.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(we=u;we!==null;){var d=we;switch(d.tag){case 0:case 11:case 15:cl(8,d,o)}var f=d.child;if(f!==null)f.return=d,we=f;else for(;we!==null;){d=we;var h=d.sibling,m=d.return;if(o1(d),d===u){we=null;break}if(h!==null){h.return=m,we=h;break}we=m}}}var x=o.alternate;if(x!==null){var g=x.child;if(g!==null){x.child=null;do{var _=g.sibling;g.sibling=null,g=_}while(g!==null)}}we=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,we=a;else e:for(;we!==null;){if(o=we,o.flags&2048)switch(o.tag){case 0:case 11:case 15:cl(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,we=y;break e}we=o.return}}var v=e.current;for(we=v;we!==null;){a=we;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,we=w;else e:for(a=v;we!==null;){if(l=we,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:kd(9,l)}}catch(N){Et(l,l.return,N)}if(l===a){we=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,we=b;break e}we=l.return}}if(Ze=s,oo(),$r&&typeof $r.onPostCommitFiberRoot=="function")try{$r.onPostCommitFiberRoot(yd,e)}catch{}r=!0}return r}finally{ct=n,nr.transition=t}}return!1}function Pv(e,t,n){t=ia(n,t),t=Kb(e,t,1),e=Hs(e,t,1),t=hn(),e!==null&&(Jl(e,1,t),Cn(e,t))}function Et(e,t,n){if(e.tag===3)Pv(e,e,n);else for(;t!==null;){if(t.tag===3){Pv(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Vs===null||!Vs.has(r))){e=ia(n,e),e=Yb(t,e,1),t=Hs(t,e,1),e=hn(),t!==null&&(Jl(t,1,e),Cn(t,e));break}}t=t.return}}function UT(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=hn(),e.pingedLanes|=e.suspendedLanes&n,Ht===e&&(Kt&n)===n&&(Dt===4||Dt===3&&(Kt&130023424)===Kt&&500>Pt()-Hg?Ro(e,0):Bg|=n),Cn(e,t)}function m1(e,t){t===0&&(e.mode&1?(t=Pc,Pc<<=1,!(Pc&130023424)&&(Pc=4194304)):t=1);var n=hn();e=is(e,t),e!==null&&(Jl(e,t,n),Cn(e,n))}function BT(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),m1(e,n)}function HT(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(se(314))}r!==null&&r.delete(t),m1(e,n)}var g1;g1=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Nn.current)Sn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Sn=!1,TT(e,t,n);Sn=!!(e.flags&131072)}else Sn=!1,wt&&t.flags&1048576&&wb(t,Mu,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;cu(e,t),e=t.pendingProps;var s=na(t,on.current);Li(t,n),s=Dg(null,t,r,e,s,n);var o=Lg();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,kn(r)?(o=!0,Iu(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Rg(t),s.updater=Nd,t.stateNode=s,s._reactInternals=t,Mp(t,r,e,n),t=Lp(null,t,r,!0,o,n)):(t.tag=0,wt&&o&&Sg(t),un(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(cu(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=WT(r),e=hr(r,e),s){case 0:t=Dp(null,t,r,e,n);break e;case 1:t=vv(null,t,r,e,n);break e;case 11:t=xv(null,t,r,e,n);break e;case 14:t=yv(null,t,r,hr(r.type,e),n);break e}throw Error(se(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:hr(r,s),Dp(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:hr(r,s),vv(e,t,r,s,n);case 3:e:{if(Zb(t),e===null)throw Error(se(387));r=t.pendingProps,o=t.memoizedState,s=o.element,kb(e,t),Lu(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=ia(Error(se(423)),t),t=wv(e,t,r,n,s);break e}else if(r!==s){s=ia(Error(se(424)),t),t=wv(e,t,r,n,s);break e}else for(Bn=Bs(t.stateNode.containerInfo.firstChild),Vn=t,wt=!0,yr=null,n=Sb(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ra(),r===s){t=as(e,t,n);break e}un(e,t,r,n)}t=t.child}return t;case 5:return Cb(t),e===null&&Rp(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,a=s.children,kp(r,s)?a=null:o!==null&&kp(r,o)&&(t.flags|=32),Jb(e,t),un(e,t,a,n),t.child;case 6:return e===null&&Rp(t),null;case 13:return e1(e,t,n);case 4:return Ig(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=sa(t,null,r,n):un(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:hr(r,s),xv(e,t,r,s,n);case 7:return un(e,t,t.pendingProps,n),t.child;case 8:return un(e,t,t.pendingProps.children,n),t.child;case 12:return un(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,a=s.value,pt(Ou,r._currentValue),r._currentValue=a,o!==null)if(_r(o.value,a)){if(o.children===s.children&&!Nn.current){t=as(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=ns(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Ip(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(se(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Ip(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}un(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Li(t,n),s=ir(s),r=r(s),t.flags|=1,un(e,t,r,n),t.child;case 14:return r=t.type,s=hr(r,t.pendingProps),s=hr(r.type,s),yv(e,t,r,s,n);case 15:return Qb(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:hr(r,s),cu(e,t),t.tag=1,kn(r)?(e=!0,Iu(t)):e=!1,Li(t,n),Gb(t,r,s),Mp(t,r,s,n),Lp(null,t,r,!0,e,n);case 19:return t1(e,t,n);case 22:return Xb(e,t,n)}throw Error(se(156,t.tag))};function x1(e,t){return V_(e,t)}function VT(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tr(e,t,n,r){return new VT(e,t,n,r)}function Gg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function WT(e){if(typeof e=="function")return Gg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===fg)return 11;if(e===hg)return 14}return 2}function qs(e,t){var n=e.alternate;return n===null?(n=tr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function fu(e,t,n,r,s,o){var a=2;if(r=e,typeof e=="function")Gg(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case bi:return Io(n.children,s,o,t);case dg:a=8,s|=8;break;case sp:return e=tr(12,n,t,s|2),e.elementType=sp,e.lanes=o,e;case op:return e=tr(13,n,t,s),e.elementType=op,e.lanes=o,e;case ip:return e=tr(19,n,t,s),e.elementType=ip,e.lanes=o,e;case C_:return Ed(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case N_:a=10;break e;case k_:a=9;break e;case fg:a=11;break e;case hg:a=14;break e;case Ns:a=16,r=null;break e}throw Error(se(130,e==null?e:typeof e,""))}return t=tr(a,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function Io(e,t,n,r){return e=tr(7,e,r,t),e.lanes=n,e}function Ed(e,t,n,r){return e=tr(22,e,r,t),e.elementType=C_,e.lanes=n,e.stateNode={isHidden:!1},e}function mh(e,t,n){return e=tr(6,e,null,t),e.lanes=n,e}function gh(e,t,n){return t=tr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qT(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qf(0),this.expirationTimes=Qf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qf(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Kg(e,t,n,r,s,o,a,l,c){return e=new qT(e,t,n,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=tr(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rg(o),e}function GT(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_i,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function y1(e){if(!e)return Xs;e=e._reactInternals;e:{if(Ko(e)!==e||e.tag!==1)throw Error(se(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(kn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(se(171))}if(e.tag===1){var n=e.type;if(kn(n))return yb(e,n,t)}return t}function v1(e,t,n,r,s,o,a,l,c){return e=Kg(n,r,!0,e,s,o,a,l,c),e.context=y1(null),n=e.current,r=hn(),s=Ws(n),o=ns(r,s),o.callback=t??null,Hs(n,o,s),e.current.lanes=s,Jl(e,s,r),Cn(e,r),e}function Pd(e,t,n,r){var s=t.current,o=hn(),a=Ws(s);return n=y1(n),t.context===null?t.context=n:t.pendingContext=n,t=ns(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Hs(s,t,a),e!==null&&(wr(e,s,a,o),iu(e,s,a)),a}function Wu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Tv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Yg(e,t){Tv(e,t),(e=e.alternate)&&Tv(e,t)}function KT(){return null}var w1=typeof reportError=="function"?reportError:function(e){console.error(e)};function Qg(e){this._internalRoot=e}Td.prototype.render=Qg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(se(409));Pd(e,t,null,null)};Td.prototype.unmount=Qg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;zo(function(){Pd(null,e,null,null)}),t[os]=null}};function Td(e){this._internalRoot=e}Td.prototype.unstable_scheduleHydration=function(e){if(e){var t=X_();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Es.length&&t!==0&&t<Es[n].priority;n++);Es.splice(n,0,e),n===0&&Z_(e)}};function Xg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Rd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Rv(){}function YT(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=Wu(a);o.call(u)}}var a=v1(t,r,e,0,null,!1,!1,"",Rv);return e._reactRootContainer=a,e[os]=a.current,kl(e.nodeType===8?e.parentNode:e),zo(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Wu(c);l.call(u)}}var c=Kg(e,0,!1,null,null,!1,!1,"",Rv);return e._reactRootContainer=c,e[os]=c.current,kl(e.nodeType===8?e.parentNode:e),zo(function(){Pd(t,c,n,r)}),c}function Id(e,t,n,r,s){var o=n._reactRootContainer;if(o){var a=o;if(typeof s=="function"){var l=s;s=function(){var c=Wu(a);l.call(c)}}Pd(t,a,e,s)}else a=YT(n,t,e,s,r);return Wu(a)}Y_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ja(t.pendingLanes);n!==0&&(gg(t,n|1),Cn(t,Pt()),!(Ze&6)&&(aa=Pt()+500,oo()))}break;case 13:zo(function(){var r=is(e,1);if(r!==null){var s=hn();wr(r,e,1,s)}}),Yg(e,1)}};xg=function(e){if(e.tag===13){var t=is(e,134217728);if(t!==null){var n=hn();wr(t,e,134217728,n)}Yg(e,134217728)}};Q_=function(e){if(e.tag===13){var t=Ws(e),n=is(e,t);if(n!==null){var r=hn();wr(n,e,t,r)}Yg(e,t)}};X_=function(){return ct};J_=function(e,t){var n=ct;try{return ct=e,t()}finally{ct=n}};gp=function(e,t,n){switch(t){case"input":if(cp(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=bd(r);if(!s)throw Error(se(90));P_(r),cp(r,s)}}}break;case"textarea":R_(e,n);break;case"select":t=n.value,t!=null&&Ai(e,!!n.multiple,t,!1)}};$_=Vg;F_=zo;var QT={usingClientEntryPoint:!1,Events:[ec,ki,bd,D_,L_,Vg]},Ba={findFiberByHostInstance:So,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},XT={bundleType:Ba.bundleType,version:Ba.version,rendererPackageName:Ba.rendererPackageName,rendererConfig:Ba.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ds.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=B_(e),e===null?null:e.stateNode},findFiberByHostInstance:Ba.findFiberByHostInstance||KT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zc.isDisabled&&zc.supportsFiber)try{yd=zc.inject(XT),$r=zc}catch{}}Gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QT;Gn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xg(t))throw Error(se(200));return GT(e,t,null,n)};Gn.createRoot=function(e,t){if(!Xg(e))throw Error(se(299));var n=!1,r="",s=w1;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Kg(e,1,!1,null,null,n,!1,r,s),e[os]=t.current,kl(e.nodeType===8?e.parentNode:e),new Qg(t)};Gn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(se(188)):(e=Object.keys(e).join(","),Error(se(268,e)));return e=B_(t),e=e===null?null:e.stateNode,e};Gn.flushSync=function(e){return zo(e)};Gn.hydrate=function(e,t,n){if(!Rd(t))throw Error(se(200));return Id(null,e,t,!0,n)};Gn.hydrateRoot=function(e,t,n){if(!Xg(e))throw Error(se(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",a=w1;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=v1(t,null,e,1,n??null,s,!1,o,a),e[os]=t.current,kl(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Td(t)};Gn.render=function(e,t,n){if(!Rd(t))throw Error(se(200));return Id(null,e,t,!1,n)};Gn.unmountComponentAtNode=function(e){if(!Rd(e))throw Error(se(40));return e._reactRootContainer?(zo(function(){Id(null,null,e,!1,function(){e._reactRootContainer=null,e[os]=null})}),!0):!1};Gn.unstable_batchedUpdates=Vg;Gn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Rd(n))throw Error(se(200));if(e==null||e._reactInternals===void 0)throw Error(se(38));return Id(e,t,n,!1,r)};Gn.version="18.3.1-next-f1338f8080-20240426";function _1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_1)}catch(e){console.error(e)}}_1(),__.exports=Gn;var va=__.exports;const b1=gd(va);var j1,Iv=va;j1=Iv.createRoot,Iv.hydrateRoot;var Av=["light","dark"],JT="(prefers-color-scheme: dark)",ZT=p.createContext(void 0),eR={setTheme:e=>{},themes:[]},tR=()=>{var e;return(e=p.useContext(ZT))!=null?e:eR};p.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:o,value:a,attrs:l,nonce:c})=>{let u=o==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?Av.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(x,g=!1,_=!0)=>{let y=a?a[x]:x,v=g?x+"|| ''":`'${y}'`,w="";return s&&_&&!g&&Av.includes(x)&&(w+=`d.style.colorScheme = '${x}';`),n==="class"?g||y?w+=`c.add(${v})`:w+="null":y&&(w+=`d[s](n,${v})`),w},m=e?`!function(){${d}${h(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${JT}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${h(a?"x[e]":"e",!0)}}${u?"":"else{"+h(o,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${h(a?"x[e]":"e",!0)}}else{${h(o,!1,!1)};}${f}}catch(t){}}();`;return p.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var nR=e=>{switch(e){case"success":return oR;case"info":return aR;case"warning":return iR;case"error":return lR;default:return null}},rR=Array(12).fill(0),sR=({visible:e})=>re.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},re.createElement("div",{className:"sonner-spinner"},rR.map((t,n)=>re.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),oR=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),iR=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),aR=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),lR=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),cR=()=>{let[e,t]=re.useState(document.hidden);return re.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},Yp=1,uR=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Yp++,o=this.toasts.find(l=>l.id===s),a=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:n}),{...l,...e,id:s,dismissible:a,title:n}):l):this.addToast({title:n,...r,dismissible:a,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=n!==void 0;return r.then(async o=>{if(fR(o)&&!o.ok){s=!1;let a=typeof t.error=="function"?await t.error(`HTTP error! status: ${o.status}`):t.error,l=typeof t.description=="function"?await t.description(`HTTP error! status: ${o.status}`):t.description;this.create({id:n,type:"error",message:a,description:l})}else if(t.success!==void 0){s=!1;let a=typeof t.success=="function"?await t.success(o):t.success,l=typeof t.description=="function"?await t.description(o):t.description;this.create({id:n,type:"success",message:a,description:l})}}).catch(async o=>{if(t.error!==void 0){s=!1;let a=typeof t.error=="function"?await t.error(o):t.error,l=typeof t.description=="function"?await t.description(o):t.description;this.create({id:n,type:"error",message:a,description:l})}}).finally(()=>{var o;s&&(this.dismiss(n),n=void 0),(o=t.finally)==null||o.call(t)}),n},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||Yp++;return this.create({jsx:e(n),id:n,...t}),n},this.subscribers=[],this.toasts=[]}},Fn=new uR,dR=(e,t)=>{let n=(t==null?void 0:t.id)||Yp++;return Fn.addToast({title:e,...t,id:n}),n},fR=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",hR=dR,pR=()=>Fn.toasts,F=Object.assign(hR,{success:Fn.success,info:Fn.info,warning:Fn.warning,error:Fn.error,custom:Fn.custom,message:Fn.message,promise:Fn.promise,dismiss:Fn.dismiss,loading:Fn.loading},{getHistory:pR});function mR(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}mR(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Uc(e){return e.label!==void 0}var gR=3,xR="32px",yR=4e3,vR=356,wR=14,_R=20,bR=200;function jR(...e){return e.filter(Boolean).join(" ")}var SR=e=>{var t,n,r,s,o,a,l,c,u,d;let{invert:f,toast:h,unstyled:m,interacting:x,setHeights:g,visibleToasts:_,heights:y,index:v,toasts:w,expanded:b,removeToast:N,defaultRichColors:j,closeButton:C,style:R,cancelButtonStyle:E,actionButtonStyle:T,className:D="",descriptionClassName:O="",duration:z,position:W,gap:A,loadingIcon:M,expandByDefault:G,classNames:P,icons:I,closeButtonAriaLabel:S="Close toast",pauseWhenPageIsHidden:H,cn:te}=e,[k,de]=re.useState(!1),[ve,ce]=re.useState(!1),[ue,Y]=re.useState(!1),[Q,ne]=re.useState(!1),[xe,Re]=re.useState(0),[Ye,Ke]=re.useState(0),Je=re.useRef(null),Z=re.useRef(null),Se=v===0,L=v+1<=_,K=h.type,oe=h.dismissible!==!1,ye=h.className||"",Ae=h.descriptionClassName||"",Me=re.useMemo(()=>y.findIndex(Pe=>Pe.toastId===h.id)||0,[y,h.id]),ke=re.useMemo(()=>{var Pe;return(Pe=h.closeButton)!=null?Pe:C},[h.closeButton,C]),Ee=re.useMemo(()=>h.duration||z||yR,[h.duration,z]),$=re.useRef(0),V=re.useRef(0),me=re.useRef(0),Ce=re.useRef(null),[qe,et]=W.split("-"),dt=re.useMemo(()=>y.reduce((Pe,at,nt)=>nt>=Me?Pe:Pe+at.height,0),[y,Me]),Ue=cR(),At=h.invert||f,vt=K==="loading";V.current=re.useMemo(()=>Me*A+dt,[Me,dt]),re.useEffect(()=>{de(!0)},[]),re.useLayoutEffect(()=>{if(!k)return;let Pe=Z.current,at=Pe.style.height;Pe.style.height="auto";let nt=Pe.getBoundingClientRect().height;Pe.style.height=at,Ke(nt),g(ln=>ln.find(Nt=>Nt.toastId===h.id)?ln.map(Nt=>Nt.toastId===h.id?{...Nt,height:nt}:Nt):[{toastId:h.id,height:nt,position:h.position},...ln])},[k,h.title,h.description,g,h.id]);let tt=re.useCallback(()=>{ce(!0),Re(V.current),g(Pe=>Pe.filter(at=>at.toastId!==h.id)),setTimeout(()=>{N(h)},bR)},[h,N,g,V]);re.useEffect(()=>{if(h.promise&&K==="loading"||h.duration===1/0||h.type==="loading")return;let Pe,at=Ee;return b||x||H&&Ue?(()=>{if(me.current<$.current){let nt=new Date().getTime()-$.current;at=at-nt}me.current=new Date().getTime()})():at!==1/0&&($.current=new Date().getTime(),Pe=setTimeout(()=>{var nt;(nt=h.onAutoClose)==null||nt.call(h,h),tt()},at)),()=>clearTimeout(Pe)},[b,x,G,h,Ee,tt,h.promise,K,H,Ue]),re.useEffect(()=>{let Pe=Z.current;if(Pe){let at=Pe.getBoundingClientRect().height;return Ke(at),g(nt=>[{toastId:h.id,height:at,position:h.position},...nt]),()=>g(nt=>nt.filter(ln=>ln.toastId!==h.id))}},[g,h.id]),re.useEffect(()=>{h.delete&&tt()},[tt,h.delete]);function $t(){return I!=null&&I.loading?re.createElement("div",{className:"sonner-loader","data-visible":K==="loading"},I.loading):M?re.createElement("div",{className:"sonner-loader","data-visible":K==="loading"},M):re.createElement(sR,{visible:K==="loading"})}return re.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Z,className:te(D,ye,P==null?void 0:P.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,P==null?void 0:P.default,P==null?void 0:P[K],(n=h==null?void 0:h.classNames)==null?void 0:n[K]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:j,"data-styled":!(h.jsx||h.unstyled||m),"data-mounted":k,"data-promise":!!h.promise,"data-removed":ve,"data-visible":L,"data-y-position":qe,"data-x-position":et,"data-index":v,"data-front":Se,"data-swiping":ue,"data-dismissible":oe,"data-type":K,"data-invert":At,"data-swipe-out":Q,"data-expanded":!!(b||G&&k),style:{"--index":v,"--toasts-before":v,"--z-index":w.length-v,"--offset":`${ve?xe:V.current}px`,"--initial-height":G?"auto":`${Ye}px`,...R,...h.style},onPointerDown:Pe=>{vt||!oe||(Je.current=new Date,Re(V.current),Pe.target.setPointerCapture(Pe.pointerId),Pe.target.tagName!=="BUTTON"&&(Y(!0),Ce.current={x:Pe.clientX,y:Pe.clientY}))},onPointerUp:()=>{var Pe,at,nt,ln;if(Q||!oe)return;Ce.current=null;let Nt=Number(((Pe=Z.current)==null?void 0:Pe.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Vr=new Date().getTime()-((at=Je.current)==null?void 0:at.getTime()),ni=Math.abs(Nt)/Vr;if(Math.abs(Nt)>=_R||ni>.11){Re(V.current),(nt=h.onDismiss)==null||nt.call(h,h),tt(),ne(!0);return}(ln=Z.current)==null||ln.style.setProperty("--swipe-amount","0px"),Y(!1)},onPointerMove:Pe=>{var at;if(!Ce.current||!oe)return;let nt=Pe.clientY-Ce.current.y,ln=Pe.clientX-Ce.current.x,Nt=(qe==="top"?Math.min:Math.max)(0,nt),Vr=Pe.pointerType==="touch"?10:2;Math.abs(Nt)>Vr?(at=Z.current)==null||at.style.setProperty("--swipe-amount",`${nt}px`):Math.abs(ln)>Vr&&(Ce.current=null)}},ke&&!h.jsx?re.createElement("button",{"aria-label":S,"data-disabled":vt,"data-close-button":!0,onClick:vt||!oe?()=>{}:()=>{var Pe;tt(),(Pe=h.onDismiss)==null||Pe.call(h,h)},className:te(P==null?void 0:P.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},re.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),re.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||re.isValidElement(h.title)?h.jsx||h.title:re.createElement(re.Fragment,null,K||h.icon||h.promise?re.createElement("div",{"data-icon":"",className:te(P==null?void 0:P.icon,(o=h==null?void 0:h.classNames)==null?void 0:o.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||$t():null,h.type!=="loading"?h.icon||(I==null?void 0:I[K])||nR(K):null):null,re.createElement("div",{"data-content":"",className:te(P==null?void 0:P.content,(a=h==null?void 0:h.classNames)==null?void 0:a.content)},re.createElement("div",{"data-title":"",className:te(P==null?void 0:P.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},h.title),h.description?re.createElement("div",{"data-description":"",className:te(O,Ae,P==null?void 0:P.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},h.description):null),re.isValidElement(h.cancel)?h.cancel:h.cancel&&Uc(h.cancel)?re.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||E,onClick:Pe=>{var at,nt;Uc(h.cancel)&&oe&&((nt=(at=h.cancel).onClick)==null||nt.call(at,Pe),tt())},className:te(P==null?void 0:P.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,re.isValidElement(h.action)?h.action:h.action&&Uc(h.action)?re.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||T,onClick:Pe=>{var at,nt;Uc(h.action)&&(Pe.defaultPrevented||((nt=(at=h.action).onClick)==null||nt.call(at,Pe),tt()))},className:te(P==null?void 0:P.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function Mv(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var NR=e=>{let{invert:t,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:o,className:a,offset:l,theme:c="light",richColors:u,duration:d,style:f,visibleToasts:h=gR,toastOptions:m,dir:x=Mv(),gap:g=wR,loadingIcon:_,icons:y,containerAriaLabel:v="Notifications",pauseWhenPageIsHidden:w,cn:b=jR}=e,[N,j]=re.useState([]),C=re.useMemo(()=>Array.from(new Set([n].concat(N.filter(H=>H.position).map(H=>H.position)))),[N,n]),[R,E]=re.useState([]),[T,D]=re.useState(!1),[O,z]=re.useState(!1),[W,A]=re.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),M=re.useRef(null),G=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),P=re.useRef(null),I=re.useRef(!1),S=re.useCallback(H=>{var te;(te=N.find(k=>k.id===H.id))!=null&&te.delete||Fn.dismiss(H.id),j(k=>k.filter(({id:de})=>de!==H.id))},[N]);return re.useEffect(()=>Fn.subscribe(H=>{if(H.dismiss){j(te=>te.map(k=>k.id===H.id?{...k,delete:!0}:k));return}setTimeout(()=>{b1.flushSync(()=>{j(te=>{let k=te.findIndex(de=>de.id===H.id);return k!==-1?[...te.slice(0,k),{...te[k],...H},...te.slice(k+1)]:[H,...te]})})})}),[]),re.useEffect(()=>{if(c!=="system"){A(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?A("dark"):A("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:H})=>{A(H?"dark":"light")})},[c]),re.useEffect(()=>{N.length<=1&&D(!1)},[N]),re.useEffect(()=>{let H=te=>{var k,de;r.every(ve=>te[ve]||te.code===ve)&&(D(!0),(k=M.current)==null||k.focus()),te.code==="Escape"&&(document.activeElement===M.current||(de=M.current)!=null&&de.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",H),()=>document.removeEventListener("keydown",H)},[r]),re.useEffect(()=>{if(M.current)return()=>{P.current&&(P.current.focus({preventScroll:!0}),P.current=null,I.current=!1)}},[M.current]),N.length?re.createElement("section",{"aria-label":`${v} ${G}`,tabIndex:-1},C.map((H,te)=>{var k;let[de,ve]=H.split("-");return re.createElement("ol",{key:H,dir:x==="auto"?Mv():x,tabIndex:-1,ref:M,className:a,"data-sonner-toaster":!0,"data-theme":W,"data-y-position":de,"data-x-position":ve,style:{"--front-toast-height":`${((k=R[0])==null?void 0:k.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||xR,"--width":`${vR}px`,"--gap":`${g}px`,...f},onBlur:ce=>{I.current&&!ce.currentTarget.contains(ce.relatedTarget)&&(I.current=!1,P.current&&(P.current.focus({preventScroll:!0}),P.current=null))},onFocus:ce=>{ce.target instanceof HTMLElement&&ce.target.dataset.dismissible==="false"||I.current||(I.current=!0,P.current=ce.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{O||D(!1)},onPointerDown:ce=>{ce.target instanceof HTMLElement&&ce.target.dataset.dismissible==="false"||z(!0)},onPointerUp:()=>z(!1)},N.filter(ce=>!ce.position&&te===0||ce.position===H).map((ce,ue)=>{var Y,Q;return re.createElement(SR,{key:ce.id,icons:y,index:ue,toast:ce,defaultRichColors:u,duration:(Y=m==null?void 0:m.duration)!=null?Y:d,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:t,visibleToasts:h,closeButton:(Q=m==null?void 0:m.closeButton)!=null?Q:o,interacting:O,position:H,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:S,toasts:N.filter(ne=>ne.position==ce.position),heights:R.filter(ne=>ne.position==ce.position),setHeights:E,expandByDefault:s,gap:g,loadingIcon:_,expanded:T,pauseWhenPageIsHidden:w,cn:b})}))})):null};const kR=({...e})=>{const{theme:t="system"}=tR();return i.jsx(NR,{theme:t,className:"toaster group",closeButton:!0,richColors:!0,duration:4e3,toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-card group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-[var(--shadow-card)] cursor-pointer rounded-[var(--radius)] transition-[var(--transition-smooth)] hover:shadow-[var(--shadow-hover)]",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground group-[.toast]:rounded-[var(--radius-sm)] group-[.toast]:transition-[var(--transition-smooth)] group-[.toast]:hover:bg-primary-hover",cancelButton:"group-[.toast]:bg-success/10 group-[.toast]:text-success group-[.toast]:border group-[.toast]:border-success/20 group-[.toast]:rounded-[var(--radius-sm)] group-[.toast]:transition-[var(--transition-smooth)] group-[.toast]:hover:bg-success/20 group-[.toast]:hover:text-success group-[.toast]:font-medium",closeButton:"group-[.toast]:bg-transparent group-[.toast]:text-muted-foreground group-[.toast]:border-none group-[.toast]:hover:bg-muted group-[.toast]:hover:text-foreground group-[.toast]:transition-[var(--transition-smooth)] group-[.toast]:rounded-[var(--radius-sm)] group-[.toast]:opacity-60 group-[.toast]:hover:opacity-100"}},...e})};function ae(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function CR(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Ad(...e){return t=>e.forEach(n=>CR(n,t))}function $e(...e){return p.useCallback(Ad(...e),e)}function ER(e,t){const n=p.createContext(t),r=o=>{const{children:a,...l}=o,c=p.useMemo(()=>l,Object.values(l));return i.jsx(n.Provider,{value:c,children:a})};r.displayName=e+"Provider";function s(o){const a=p.useContext(n);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,s]}function An(e,t=[]){let n=[];function r(o,a){const l=p.createContext(a),c=n.length;n=[...n,a];const u=f=>{var y;const{scope:h,children:m,...x}=f,g=((y=h==null?void 0:h[e])==null?void 0:y[c])||l,_=p.useMemo(()=>x,Object.values(x));return i.jsx(g.Provider,{value:_,children:m})};u.displayName=o+"Provider";function d(f,h){var g;const m=((g=h==null?void 0:h[e])==null?void 0:g[c])||l,x=p.useContext(m);if(x)return x;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=n.map(a=>p.createContext(a));return function(l){const c=(l==null?void 0:l[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,PR(s,...t)]}function PR(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var Tn=p.forwardRef((e,t)=>{const{children:n,...r}=e,s=p.Children.toArray(n),o=s.find(TR);if(o){const a=o.props.children,l=s.map(c=>c===o?p.Children.count(a)>1?p.Children.only(null):p.isValidElement(a)?a.props.children:null:c);return i.jsx(Qp,{...r,ref:t,children:p.isValidElement(a)?p.cloneElement(a,void 0,l):null})}return i.jsx(Qp,{...r,ref:t,children:n})});Tn.displayName="Slot";var Qp=p.forwardRef((e,t)=>{const{children:n,...r}=e;if(p.isValidElement(n)){const s=IR(n);return p.cloneElement(n,{...RR(r,n.props),ref:t?Ad(t,s):s})}return p.Children.count(n)>1?p.Children.only(null):null});Qp.displayName="SlotClone";var S1=({children:e})=>i.jsx(i.Fragment,{children:e});function TR(e){return p.isValidElement(e)&&e.type===S1}function RR(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...l)=>{o(...l),s(...l)}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function IR(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var AR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],be=AR.reduce((e,t)=>{const n=p.forwardRef((r,s)=>{const{asChild:o,...a}=r,l=o?Tn:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(l,{...a,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function N1(e,t){e&&va.flushSync(()=>e.dispatchEvent(t))}function It(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function MR(e,t=globalThis==null?void 0:globalThis.document){const n=It(e);p.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var OR="DismissableLayer",Xp="dismissableLayer.update",DR="dismissableLayer.pointerDownOutside",LR="dismissableLayer.focusOutside",Ov,k1=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),wa=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:a,onDismiss:l,...c}=e,u=p.useContext(k1),[d,f]=p.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=p.useState({}),x=$e(t,C=>f(C)),g=Array.from(u.layers),[_]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(_),v=d?g.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,b=v>=y,N=zR(C=>{const R=C.target,E=[...u.branches].some(T=>T.contains(R));!b||E||(s==null||s(C),a==null||a(C),C.defaultPrevented||l==null||l())},h),j=UR(C=>{const R=C.target;[...u.branches].some(T=>T.contains(R))||(o==null||o(C),a==null||a(C),C.defaultPrevented||l==null||l())},h);return MR(C=>{v===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},h),p.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Ov=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Dv(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Ov)}},[d,h,n,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Dv())},[d,u]),p.useEffect(()=>{const C=()=>m({});return document.addEventListener(Xp,C),()=>document.removeEventListener(Xp,C)},[]),i.jsx(be.div,{...c,ref:x,style:{pointerEvents:w?b?"auto":"none":void 0,...e.style},onFocusCapture:ae(e.onFocusCapture,j.onFocusCapture),onBlurCapture:ae(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:ae(e.onPointerDownCapture,N.onPointerDownCapture)})});wa.displayName=OR;var $R="DismissableLayerBranch",FR=p.forwardRef((e,t)=>{const n=p.useContext(k1),r=p.useRef(null),s=$e(t,r);return p.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),i.jsx(be.div,{...e,ref:s})});FR.displayName=$R;function zR(e,t=globalThis==null?void 0:globalThis.document){const n=It(e),r=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const o=l=>{if(l.target&&!r.current){let c=function(){C1(DR,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function UR(e,t=globalThis==null?void 0:globalThis.document){const n=It(e),r=p.useRef(!1);return p.useEffect(()=>{const s=o=>{o.target&&!r.current&&C1(LR,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Dv(){const e=new CustomEvent(Xp);document.dispatchEvent(e)}function C1(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?N1(s,o):s.dispatchEvent(o)}var Lt=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},BR=v_.useId||(()=>{}),HR=0;function En(e){const[t,n]=p.useState(BR());return Lt(()=>{n(r=>r??String(HR++))},[e]),t?`radix-${t}`:""}const VR=["top","right","bottom","left"],Js=Math.min,Un=Math.max,qu=Math.round,Bc=Math.floor,Zs=e=>({x:e,y:e}),WR={left:"right",right:"left",bottom:"top",top:"bottom"},qR={start:"end",end:"start"};function Jp(e,t,n){return Un(e,Js(t,n))}function ls(e,t){return typeof e=="function"?e(t):e}function cs(e){return e.split("-")[0]}function _a(e){return e.split("-")[1]}function Jg(e){return e==="x"?"y":"x"}function Zg(e){return e==="y"?"height":"width"}function eo(e){return["top","bottom"].includes(cs(e))?"y":"x"}function ex(e){return Jg(eo(e))}function GR(e,t,n){n===void 0&&(n=!1);const r=_a(e),s=ex(e),o=Zg(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=Gu(a)),[a,Gu(a)]}function KR(e){const t=Gu(e);return[Zp(e),t,Zp(t)]}function Zp(e){return e.replace(/start|end/g,t=>qR[t])}function YR(e,t,n){const r=["left","right"],s=["right","left"],o=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?o:a;default:return[]}}function QR(e,t,n,r){const s=_a(e);let o=YR(cs(e),n==="start",r);return s&&(o=o.map(a=>a+"-"+s),t&&(o=o.concat(o.map(Zp)))),o}function Gu(e){return e.replace(/left|right|bottom|top/g,t=>WR[t])}function XR(e){return{top:0,right:0,bottom:0,left:0,...e}}function E1(e){return typeof e!="number"?XR(e):{top:e,right:e,bottom:e,left:e}}function Ku(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function Lv(e,t,n){let{reference:r,floating:s}=e;const o=eo(t),a=ex(t),l=Zg(a),c=cs(t),u=o==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,h=r[l]/2-s[l]/2;let m;switch(c){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-s.width,y:f};break;default:m={x:r.x,y:r.y}}switch(_a(t)){case"start":m[a]-=h*(n&&u?-1:1);break;case"end":m[a]+=h*(n&&u?-1:1);break}return m}const JR=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:a}=n,l=o.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=Lv(u,r,c),h=r,m={},x=0;for(let g=0;g<l.length;g++){const{name:_,fn:y}=l[g],{x:v,y:w,data:b,reset:N}=await y({x:d,y:f,initialPlacement:r,placement:h,strategy:s,middlewareData:m,rects:u,platform:a,elements:{reference:e,floating:t}});d=v??d,f=w??f,m={...m,[_]:{...m[_],...b}},N&&x<=50&&(x++,typeof N=="object"&&(N.placement&&(h=N.placement),N.rects&&(u=N.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:s}):N.rects),{x:d,y:f}=Lv(u,h,c)),g=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:m}};async function Ol(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:a,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=ls(t,e),x=E1(m),_=l[h?f==="floating"?"reference":"floating":f],y=Ku(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(_)))==null||n?_:_.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),v=f==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),b=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},N=Ku(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:w,strategy:c}):v);return{top:(y.top-N.top+x.top)/b.y,bottom:(N.bottom-y.bottom+x.bottom)/b.y,left:(y.left-N.left+x.left)/b.x,right:(N.right-y.right+x.right)/b.x}}const ZR=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:o,platform:a,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=ls(e,t)||{};if(u==null)return{};const f=E1(d),h={x:n,y:r},m=ex(s),x=Zg(m),g=await a.getDimensions(u),_=m==="y",y=_?"top":"left",v=_?"bottom":"right",w=_?"clientHeight":"clientWidth",b=o.reference[x]+o.reference[m]-h[m]-o.floating[x],N=h[m]-o.reference[m],j=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let C=j?j[w]:0;(!C||!await(a.isElement==null?void 0:a.isElement(j)))&&(C=l.floating[w]||o.floating[x]);const R=b/2-N/2,E=C/2-g[x]/2-1,T=Js(f[y],E),D=Js(f[v],E),O=T,z=C-g[x]-D,W=C/2-g[x]/2+R,A=Jp(O,W,z),M=!c.arrow&&_a(s)!=null&&W!==A&&o.reference[x]/2-(W<O?T:D)-g[x]/2<0,G=M?W<O?W-O:W-z:0;return{[m]:h[m]+G,data:{[m]:A,centerOffset:W-A-G,...M&&{alignmentOffset:G}},reset:M}}}),eI=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:a,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:g=!0,..._}=ls(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const y=cs(s),v=eo(l),w=cs(l)===l,b=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=h||(w||!g?[Gu(l)]:KR(l)),j=x!=="none";!h&&j&&N.push(...QR(l,g,x,b));const C=[l,...N],R=await Ol(t,_),E=[];let T=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&E.push(R[y]),f){const W=GR(s,a,b);E.push(R[W[0]],R[W[1]])}if(T=[...T,{placement:s,overflows:E}],!E.every(W=>W<=0)){var D,O;const W=(((D=o.flip)==null?void 0:D.index)||0)+1,A=C[W];if(A)return{data:{index:W,overflows:T},reset:{placement:A}};let M=(O=T.filter(G=>G.overflows[0]<=0).sort((G,P)=>G.overflows[1]-P.overflows[1])[0])==null?void 0:O.placement;if(!M)switch(m){case"bestFit":{var z;const G=(z=T.filter(P=>{if(j){const I=eo(P.placement);return I===v||I==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(I=>I>0).reduce((I,S)=>I+S,0)]).sort((P,I)=>P[1]-I[1])[0])==null?void 0:z[0];G&&(M=G);break}case"initialPlacement":M=l;break}if(s!==M)return{reset:{placement:M}}}return{}}}};function $v(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Fv(e){return VR.some(t=>e[t]>=0)}const tI=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=ls(e,t);switch(r){case"referenceHidden":{const o=await Ol(t,{...s,elementContext:"reference"}),a=$v(o,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Fv(a)}}}case"escaped":{const o=await Ol(t,{...s,altBoundary:!0}),a=$v(o,n.floating);return{data:{escapedOffsets:a,escaped:Fv(a)}}}default:return{}}}}};async function nI(e,t){const{placement:n,platform:r,elements:s}=e,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=cs(n),l=_a(n),c=eo(n)==="y",u=["left","top"].includes(a)?-1:1,d=o&&c?-1:1,f=ls(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof x=="number"&&(m=l==="end"?x*-1:x),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const rI=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:a,middlewareData:l}=t,c=await nI(t,e);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:a}}}}},sI=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:l={fn:_=>{let{x:y,y:v}=_;return{x:y,y:v}}},...c}=ls(e,t),u={x:n,y:r},d=await Ol(t,c),f=eo(cs(s)),h=Jg(f);let m=u[h],x=u[f];if(o){const _=h==="y"?"top":"left",y=h==="y"?"bottom":"right",v=m+d[_],w=m-d[y];m=Jp(v,m,w)}if(a){const _=f==="y"?"top":"left",y=f==="y"?"bottom":"right",v=x+d[_],w=x-d[y];x=Jp(v,x,w)}const g=l.fn({...t,[h]:m,[f]:x});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:o,[f]:a}}}}}},oI=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:o,middlewareData:a}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=ls(e,t),d={x:n,y:r},f=eo(s),h=Jg(f);let m=d[h],x=d[f];const g=ls(l,t),_=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const w=h==="y"?"height":"width",b=o.reference[h]-o.floating[w]+_.mainAxis,N=o.reference[h]+o.reference[w]-_.mainAxis;m<b?m=b:m>N&&(m=N)}if(u){var y,v;const w=h==="y"?"width":"height",b=["top","left"].includes(cs(s)),N=o.reference[f]-o.floating[w]+(b&&((y=a.offset)==null?void 0:y[f])||0)+(b?0:_.crossAxis),j=o.reference[f]+o.reference[w]+(b?0:((v=a.offset)==null?void 0:v[f])||0)-(b?_.crossAxis:0);x<N?x=N:x>j&&(x=j)}return{[h]:m,[f]:x}}}},iI=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:o,platform:a,elements:l}=t,{apply:c=()=>{},...u}=ls(e,t),d=await Ol(t,u),f=cs(s),h=_a(s),m=eo(s)==="y",{width:x,height:g}=o.floating;let _,y;f==="top"||f==="bottom"?(_=f,y=h===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(y=f,_=h==="end"?"top":"bottom");const v=g-d.top-d.bottom,w=x-d.left-d.right,b=Js(g-d[_],v),N=Js(x-d[y],w),j=!t.middlewareData.shift;let C=b,R=N;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(R=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(C=v),j&&!h){const T=Un(d.left,0),D=Un(d.right,0),O=Un(d.top,0),z=Un(d.bottom,0);m?R=x-2*(T!==0||D!==0?T+D:Un(d.left,d.right)):C=g-2*(O!==0||z!==0?O+z:Un(d.top,d.bottom))}await c({...t,availableWidth:R,availableHeight:C});const E=await a.getDimensions(l.floating);return x!==E.width||g!==E.height?{reset:{rects:!0}}:{}}}};function Md(){return typeof window<"u"}function ba(e){return P1(e)?(e.nodeName||"").toLowerCase():"#document"}function Wn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Br(e){var t;return(t=(P1(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function P1(e){return Md()?e instanceof Node||e instanceof Wn(e).Node:!1}function br(e){return Md()?e instanceof Element||e instanceof Wn(e).Element:!1}function zr(e){return Md()?e instanceof HTMLElement||e instanceof Wn(e).HTMLElement:!1}function zv(e){return!Md()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Wn(e).ShadowRoot}function nc(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=jr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function aI(e){return["table","td","th"].includes(ba(e))}function Od(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function tx(e){const t=nx(),n=br(e)?jr(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function lI(e){let t=to(e);for(;zr(t)&&!la(t);){if(tx(t))return t;if(Od(t))return null;t=to(t)}return null}function nx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function la(e){return["html","body","#document"].includes(ba(e))}function jr(e){return Wn(e).getComputedStyle(e)}function Dd(e){return br(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function to(e){if(ba(e)==="html")return e;const t=e.assignedSlot||e.parentNode||zv(e)&&e.host||Br(e);return zv(t)?t.host:t}function T1(e){const t=to(e);return la(t)?e.ownerDocument?e.ownerDocument.body:e.body:zr(t)&&nc(t)?t:T1(t)}function Dl(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=T1(e),o=s===((r=e.ownerDocument)==null?void 0:r.body),a=Wn(s);if(o){const l=em(a);return t.concat(a,a.visualViewport||[],nc(s)?s:[],l&&n?Dl(l):[])}return t.concat(s,Dl(s,[],n))}function em(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function R1(e){const t=jr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=zr(e),o=s?e.offsetWidth:n,a=s?e.offsetHeight:r,l=qu(n)!==o||qu(r)!==a;return l&&(n=o,r=a),{width:n,height:r,$:l}}function rx(e){return br(e)?e:e.contextElement}function Fi(e){const t=rx(e);if(!zr(t))return Zs(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=R1(t);let a=(o?qu(n.width):n.width)/r,l=(o?qu(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const cI=Zs(0);function I1(e){const t=Wn(e);return!nx()||!t.visualViewport?cI:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function uI(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Wn(e)?!1:t}function Uo(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=rx(e);let a=Zs(1);t&&(r?br(r)&&(a=Fi(r)):a=Fi(e));const l=uI(o,n,r)?I1(o):Zs(0);let c=(s.left+l.x)/a.x,u=(s.top+l.y)/a.y,d=s.width/a.x,f=s.height/a.y;if(o){const h=Wn(o),m=r&&br(r)?Wn(r):r;let x=h,g=em(x);for(;g&&r&&m!==x;){const _=Fi(g),y=g.getBoundingClientRect(),v=jr(g),w=y.left+(g.clientLeft+parseFloat(v.paddingLeft))*_.x,b=y.top+(g.clientTop+parseFloat(v.paddingTop))*_.y;c*=_.x,u*=_.y,d*=_.x,f*=_.y,c+=w,u+=b,x=Wn(g),g=em(x)}}return Ku({width:d,height:f,x:c,y:u})}function dI(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o=s==="fixed",a=Br(r),l=t?Od(t.floating):!1;if(r===a||l&&o)return n;let c={scrollLeft:0,scrollTop:0},u=Zs(1);const d=Zs(0),f=zr(r);if((f||!f&&!o)&&((ba(r)!=="body"||nc(a))&&(c=Dd(r)),zr(r))){const h=Uo(r);u=Fi(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x,y:n.y*u.y-c.scrollTop*u.y+d.y}}function fI(e){return Array.from(e.getClientRects())}function tm(e,t){const n=Dd(e).scrollLeft;return t?t.left+n:Uo(Br(e)).left+n}function hI(e){const t=Br(e),n=Dd(e),r=e.ownerDocument.body,s=Un(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Un(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+tm(e);const l=-n.scrollTop;return jr(r).direction==="rtl"&&(a+=Un(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:a,y:l}}function pI(e,t){const n=Wn(e),r=Br(e),s=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,l=0,c=0;if(s){o=s.width,a=s.height;const u=nx();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:o,height:a,x:l,y:c}}function mI(e,t){const n=Uo(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=zr(e)?Fi(e):Zs(1),a=e.clientWidth*o.x,l=e.clientHeight*o.y,c=s*o.x,u=r*o.y;return{width:a,height:l,x:c,y:u}}function Uv(e,t,n){let r;if(t==="viewport")r=pI(e,n);else if(t==="document")r=hI(Br(e));else if(br(t))r=mI(t,n);else{const s=I1(e);r={...t,x:t.x-s.x,y:t.y-s.y}}return Ku(r)}function A1(e,t){const n=to(e);return n===t||!br(n)||la(n)?!1:jr(n).position==="fixed"||A1(n,t)}function gI(e,t){const n=t.get(e);if(n)return n;let r=Dl(e,[],!1).filter(l=>br(l)&&ba(l)!=="body"),s=null;const o=jr(e).position==="fixed";let a=o?to(e):e;for(;br(a)&&!la(a);){const l=jr(a),c=tx(a);!c&&l.position==="fixed"&&(s=null),(o?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||nc(a)&&!c&&A1(e,a))?r=r.filter(d=>d!==a):s=l,a=to(a)}return t.set(e,r),r}function xI(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const a=[...n==="clippingAncestors"?Od(t)?[]:gI(t,this._c):[].concat(n),r],l=a[0],c=a.reduce((u,d)=>{const f=Uv(t,d,s);return u.top=Un(f.top,u.top),u.right=Js(f.right,u.right),u.bottom=Js(f.bottom,u.bottom),u.left=Un(f.left,u.left),u},Uv(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function yI(e){const{width:t,height:n}=R1(e);return{width:t,height:n}}function vI(e,t,n){const r=zr(t),s=Br(t),o=n==="fixed",a=Uo(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=Zs(0);if(r||!r&&!o)if((ba(t)!=="body"||nc(s))&&(l=Dd(t)),r){const m=Uo(t,!0,o,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&(c.x=tm(s));let u=0,d=0;if(s&&!r&&!o){const m=s.getBoundingClientRect();d=m.top+l.scrollTop,u=m.left+l.scrollLeft-tm(s,m)}const f=a.left+l.scrollLeft-c.x-u,h=a.top+l.scrollTop-c.y-d;return{x:f,y:h,width:a.width,height:a.height}}function xh(e){return jr(e).position==="static"}function Bv(e,t){if(!zr(e)||jr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Br(e)===n&&(n=n.ownerDocument.body),n}function M1(e,t){const n=Wn(e);if(Od(e))return n;if(!zr(e)){let s=to(e);for(;s&&!la(s);){if(br(s)&&!xh(s))return s;s=to(s)}return n}let r=Bv(e,t);for(;r&&aI(r)&&xh(r);)r=Bv(r,t);return r&&la(r)&&xh(r)&&!tx(r)?n:r||lI(e)||n}const wI=async function(e){const t=this.getOffsetParent||M1,n=this.getDimensions,r=await n(e.floating);return{reference:vI(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function _I(e){return jr(e).direction==="rtl"}const bI={convertOffsetParentRelativeRectToViewportRelativeRect:dI,getDocumentElement:Br,getClippingRect:xI,getOffsetParent:M1,getElementRects:wI,getClientRects:fI,getDimensions:yI,getScale:Fi,isElement:br,isRTL:_I};function jI(e,t){let n=null,r;const s=Br(e);function o(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const{left:u,top:d,width:f,height:h}=e.getBoundingClientRect();if(l||t(),!f||!h)return;const m=Bc(d),x=Bc(s.clientWidth-(u+f)),g=Bc(s.clientHeight-(d+h)),_=Bc(u),v={rootMargin:-m+"px "+-x+"px "+-g+"px "+-_+"px",threshold:Un(0,Js(1,c))||1};let w=!0;function b(N){const j=N[0].intersectionRatio;if(j!==c){if(!w)return a();j?a(!1,j):r=setTimeout(()=>{a(!1,1e-7)},1e3)}w=!1}try{n=new IntersectionObserver(b,{...v,root:s.ownerDocument})}catch{n=new IntersectionObserver(b,v)}n.observe(e)}return a(!0),o}function SI(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=rx(e),d=s||o?[...u?Dl(u):[],...Dl(t)]:[];d.forEach(y=>{s&&y.addEventListener("scroll",n,{passive:!0}),o&&y.addEventListener("resize",n)});const f=u&&l?jI(u,n):null;let h=-1,m=null;a&&(m=new ResizeObserver(y=>{let[v]=y;v&&v.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),n()}),u&&!c&&m.observe(u),m.observe(t));let x,g=c?Uo(e):null;c&&_();function _(){const y=Uo(e);g&&(y.x!==g.x||y.y!==g.y||y.width!==g.width||y.height!==g.height)&&n(),g=y,x=requestAnimationFrame(_)}return n(),()=>{var y;d.forEach(v=>{s&&v.removeEventListener("scroll",n),o&&v.removeEventListener("resize",n)}),f==null||f(),(y=m)==null||y.disconnect(),m=null,c&&cancelAnimationFrame(x)}}const NI=rI,kI=sI,CI=eI,EI=iI,PI=tI,Hv=ZR,TI=oI,RI=(e,t,n)=>{const r=new Map,s={platform:bI,...n},o={...s.platform,_c:r};return JR(e,t,{...s,platform:o})};var hu=typeof document<"u"?p.useLayoutEffect:p.useEffect;function Yu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Yu(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!Yu(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function O1(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Vv(e,t){const n=O1(e);return Math.round(t*n)/n}function yh(e){const t=p.useRef(e);return hu(()=>{t.current=e}),t}function II(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=p.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=p.useState(r);Yu(h,r)||m(r);const[x,g]=p.useState(null),[_,y]=p.useState(null),v=p.useCallback(P=>{P!==j.current&&(j.current=P,g(P))},[]),w=p.useCallback(P=>{P!==C.current&&(C.current=P,y(P))},[]),b=o||x,N=a||_,j=p.useRef(null),C=p.useRef(null),R=p.useRef(d),E=c!=null,T=yh(c),D=yh(s),O=yh(u),z=p.useCallback(()=>{if(!j.current||!C.current)return;const P={placement:t,strategy:n,middleware:h};D.current&&(P.platform=D.current),RI(j.current,C.current,P).then(I=>{const S={...I,isPositioned:O.current!==!1};W.current&&!Yu(R.current,S)&&(R.current=S,va.flushSync(()=>{f(S)}))})},[h,t,n,D,O]);hu(()=>{u===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,f(P=>({...P,isPositioned:!1})))},[u]);const W=p.useRef(!1);hu(()=>(W.current=!0,()=>{W.current=!1}),[]),hu(()=>{if(b&&(j.current=b),N&&(C.current=N),b&&N){if(T.current)return T.current(b,N,z);z()}},[b,N,z,T,E]);const A=p.useMemo(()=>({reference:j,floating:C,setReference:v,setFloating:w}),[v,w]),M=p.useMemo(()=>({reference:b,floating:N}),[b,N]),G=p.useMemo(()=>{const P={position:n,left:0,top:0};if(!M.floating)return P;const I=Vv(M.floating,d.x),S=Vv(M.floating,d.y);return l?{...P,transform:"translate("+I+"px, "+S+"px)",...O1(M.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:I,top:S}},[n,l,M.floating,d.x,d.y]);return p.useMemo(()=>({...d,update:z,refs:A,elements:M,floatingStyles:G}),[d,z,A,M,G])}const AI=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Hv({element:r.current,padding:s}).fn(n):{}:r?Hv({element:r,padding:s}).fn(n):{}}}},MI=(e,t)=>({...NI(e),options:[e,t]}),OI=(e,t)=>({...kI(e),options:[e,t]}),DI=(e,t)=>({...TI(e),options:[e,t]}),LI=(e,t)=>({...CI(e),options:[e,t]}),$I=(e,t)=>({...EI(e),options:[e,t]}),FI=(e,t)=>({...PI(e),options:[e,t]}),zI=(e,t)=>({...AI(e),options:[e,t]});var UI="Arrow",D1=p.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...o}=e;return i.jsx(be.svg,{...o,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});D1.displayName=UI;var BI=D1;function HI(e,t=[]){let n=[];function r(o,a){const l=p.createContext(a),c=n.length;n=[...n,a];function u(f){const{scope:h,children:m,...x}=f,g=(h==null?void 0:h[e][c])||l,_=p.useMemo(()=>x,Object.values(x));return i.jsx(g.Provider,{value:_,children:m})}function d(f,h){const m=(h==null?void 0:h[e][c])||l,x=p.useContext(m);if(x)return x;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const s=()=>{const o=n.map(a=>p.createContext(a));return function(l){const c=(l==null?void 0:l[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,VI(s,...t)]}function VI(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}function Ld(e){const[t,n]=p.useState(void 0);return Lt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let a,l;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=e.offsetWidth,l=e.offsetHeight;n({width:a,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var sx="Popper",[L1,io]=HI(sx),[WI,$1]=L1(sx),F1=e=>{const{__scopePopper:t,children:n}=e,[r,s]=p.useState(null);return i.jsx(WI,{scope:t,anchor:r,onAnchorChange:s,children:n})};F1.displayName=sx;var z1="PopperAnchor",U1=p.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,o=$1(z1,n),a=p.useRef(null),l=$e(t,a);return p.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:i.jsx(be.div,{...s,ref:l})});U1.displayName=z1;var ox="PopperContent",[qI,GI]=L1(ox),B1=p.forwardRef((e,t)=>{var ue,Y,Q,ne,xe,Re;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:x,...g}=e,_=$1(ox,n),[y,v]=p.useState(null),w=$e(t,Ye=>v(Ye)),[b,N]=p.useState(null),j=Ld(b),C=(j==null?void 0:j.width)??0,R=(j==null?void 0:j.height)??0,E=r+(o!=="center"?"-"+o:""),T=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},D=Array.isArray(u)?u:[u],O=D.length>0,z={padding:T,boundary:D.filter(YI),altBoundary:O},{refs:W,floatingStyles:A,placement:M,isPositioned:G,middlewareData:P}=II({strategy:"fixed",placement:E,whileElementsMounted:(...Ye)=>SI(...Ye,{animationFrame:m==="always"}),elements:{reference:_.anchor},middleware:[MI({mainAxis:s+R,alignmentAxis:a}),c&&OI({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?DI():void 0,...z}),c&&LI({...z}),$I({...z,apply:({elements:Ye,rects:Ke,availableWidth:Je,availableHeight:Z})=>{const{width:Se,height:L}=Ke.reference,K=Ye.floating.style;K.setProperty("--radix-popper-available-width",`${Je}px`),K.setProperty("--radix-popper-available-height",`${Z}px`),K.setProperty("--radix-popper-anchor-width",`${Se}px`),K.setProperty("--radix-popper-anchor-height",`${L}px`)}}),b&&zI({element:b,padding:l}),QI({arrowWidth:C,arrowHeight:R}),h&&FI({strategy:"referenceHidden",...z})]}),[I,S]=W1(M),H=It(x);Lt(()=>{G&&(H==null||H())},[G,H]);const te=(ue=P.arrow)==null?void 0:ue.x,k=(Y=P.arrow)==null?void 0:Y.y,de=((Q=P.arrow)==null?void 0:Q.centerOffset)!==0,[ve,ce]=p.useState();return Lt(()=>{y&&ce(window.getComputedStyle(y).zIndex)},[y]),i.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...A,transform:G?A.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ve,"--radix-popper-transform-origin":[(ne=P.transformOrigin)==null?void 0:ne.x,(xe=P.transformOrigin)==null?void 0:xe.y].join(" "),...((Re=P.hide)==null?void 0:Re.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(qI,{scope:n,placedSide:I,onArrowChange:N,arrowX:te,arrowY:k,shouldHideArrow:de,children:i.jsx(be.div,{"data-side":I,"data-align":S,...g,ref:w,style:{...g.style,animation:G?void 0:"none"}})})})});B1.displayName=ox;var H1="PopperArrow",KI={top:"bottom",right:"left",bottom:"top",left:"right"},V1=p.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,o=GI(H1,r),a=KI[o.placedSide];return i.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:i.jsx(BI,{...s,ref:n,style:{...s.style,display:"block"}})})});V1.displayName=H1;function YI(e){return e!==null}var QI=e=>({name:"transformOrigin",options:e,fn(t){var _,y,v;const{placement:n,rects:r,middlewareData:s}=t,a=((_=s.arrow)==null?void 0:_.centerOffset)!==0,l=a?0:e.arrowWidth,c=a?0:e.arrowHeight,[u,d]=W1(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((y=s.arrow)==null?void 0:y.x)??0)+l/2,m=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let x="",g="";return u==="bottom"?(x=a?f:`${h}px`,g=`${-c}px`):u==="top"?(x=a?f:`${h}px`,g=`${r.floating.height+c}px`):u==="right"?(x=`${-c}px`,g=a?f:`${m}px`):u==="left"&&(x=`${r.floating.width+c}px`,g=a?f:`${m}px`),{data:{x,y:g}}}});function W1(e){const[t,n="center"]=e.split("-");return[t,n]}var $d=F1,rc=U1,Fd=B1,zd=V1,XI="Portal",sc=p.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,o]=p.useState(!1);Lt(()=>o(!0),[]);const a=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?b1.createPortal(i.jsx(be.div,{...r,ref:t}),a):null});sc.displayName=XI;function JI(e,t){return p.useReducer((n,r)=>t[n][r]??n,e)}var Wt=e=>{const{present:t,children:n}=e,r=ZI(t),s=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),o=$e(r.ref,eA(s));return typeof n=="function"||r.isPresent?p.cloneElement(s,{ref:o}):null};Wt.displayName="Presence";function ZI(e){const[t,n]=p.useState(),r=p.useRef({}),s=p.useRef(e),o=p.useRef("none"),a=e?"mounted":"unmounted",[l,c]=JI(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=Hc(r.current);o.current=l==="mounted"?u:"none"},[l]),Lt(()=>{const u=r.current,d=s.current;if(d!==e){const h=o.current,m=Hc(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Lt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const g=Hc(r.current).includes(m.animationName);if(m.target===t&&g&&(c("ANIMATION_END"),!s.current)){const _=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=_)})}},h=m=>{m.target===t&&(o.current=Hc(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Hc(e){return(e==null?void 0:e.animationName)||"none"}function eA(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Rn({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,s]=tA({defaultProp:t,onChange:n}),o=e!==void 0,a=o?e:r,l=It(n),c=p.useCallback(u=>{if(o){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else s(u)},[o,e,s,l]);return[a,c]}function tA({defaultProp:e,onChange:t}){const n=p.useState(e),[r]=n,s=p.useRef(r),o=It(t);return p.useEffect(()=>{s.current!==r&&(o(r),s.current=r)},[r,s,o]),n}var nA="VisuallyHidden",ix=p.forwardRef((e,t)=>i.jsx(be.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));ix.displayName=nA;var rA=ix,[Ud,DH]=An("Tooltip",[io]),Bd=io(),q1="TooltipProvider",sA=700,nm="tooltip.open",[oA,ax]=Ud(q1),G1=e=>{const{__scopeTooltip:t,delayDuration:n=sA,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:o}=e,[a,l]=p.useState(!0),c=p.useRef(!1),u=p.useRef(0);return p.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),i.jsx(oA,{scope:t,isOpenDelayed:a,delayDuration:n,onOpen:p.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:p.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:p.useCallback(d=>{c.current=d},[]),disableHoverableContent:s,children:o})};G1.displayName=q1;var Hd="Tooltip",[iA,Vd]=Ud(Hd),K1=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:s=!1,onOpenChange:o,disableHoverableContent:a,delayDuration:l}=e,c=ax(Hd,e.__scopeTooltip),u=Bd(t),[d,f]=p.useState(null),h=En(),m=p.useRef(0),x=a??c.disableHoverableContent,g=l??c.delayDuration,_=p.useRef(!1),[y=!1,v]=Rn({prop:r,defaultProp:s,onChange:C=>{C?(c.onOpen(),document.dispatchEvent(new CustomEvent(nm))):c.onClose(),o==null||o(C)}}),w=p.useMemo(()=>y?_.current?"delayed-open":"instant-open":"closed",[y]),b=p.useCallback(()=>{window.clearTimeout(m.current),m.current=0,_.current=!1,v(!0)},[v]),N=p.useCallback(()=>{window.clearTimeout(m.current),m.current=0,v(!1)},[v]),j=p.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{_.current=!0,v(!0),m.current=0},g)},[g,v]);return p.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),i.jsx($d,{...u,children:i.jsx(iA,{scope:t,contentId:h,open:y,stateAttribute:w,trigger:d,onTriggerChange:f,onTriggerEnter:p.useCallback(()=>{c.isOpenDelayed?j():b()},[c.isOpenDelayed,j,b]),onTriggerLeave:p.useCallback(()=>{x?N():(window.clearTimeout(m.current),m.current=0)},[N,x]),onOpen:b,onClose:N,disableHoverableContent:x,children:n})})};K1.displayName=Hd;var rm="TooltipTrigger",Y1=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Vd(rm,n),o=ax(rm,n),a=Bd(n),l=p.useRef(null),c=$e(t,l,s.onTriggerChange),u=p.useRef(!1),d=p.useRef(!1),f=p.useCallback(()=>u.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),i.jsx(rc,{asChild:!0,...a,children:i.jsx(be.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:ae(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:ae(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:ae(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ae(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:ae(e.onBlur,s.onClose),onClick:ae(e.onClick,s.onClose)})})});Y1.displayName=rm;var aA="TooltipPortal",[LH,lA]=Ud(aA,{forceMount:void 0}),ca="TooltipContent",Q1=p.forwardRef((e,t)=>{const n=lA(ca,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...o}=e,a=Vd(ca,e.__scopeTooltip);return i.jsx(Wt,{present:r||a.open,children:a.disableHoverableContent?i.jsx(X1,{side:s,...o,ref:t}):i.jsx(cA,{side:s,...o,ref:t})})}),cA=p.forwardRef((e,t)=>{const n=Vd(ca,e.__scopeTooltip),r=ax(ca,e.__scopeTooltip),s=p.useRef(null),o=$e(t,s),[a,l]=p.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:f}=r,h=p.useCallback(()=>{l(null),f(!1)},[f]),m=p.useCallback((x,g)=>{const _=x.currentTarget,y={x:x.clientX,y:x.clientY},v=hA(y,_.getBoundingClientRect()),w=pA(y,v),b=mA(g.getBoundingClientRect()),N=xA([...w,...b]);l(N),f(!0)},[f]);return p.useEffect(()=>()=>h(),[h]),p.useEffect(()=>{if(c&&d){const x=_=>m(_,d),g=_=>m(_,c);return c.addEventListener("pointerleave",x),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",g)}}},[c,d,m,h]),p.useEffect(()=>{if(a){const x=g=>{const _=g.target,y={x:g.clientX,y:g.clientY},v=(c==null?void 0:c.contains(_))||(d==null?void 0:d.contains(_)),w=!gA(y,a);v?h():w&&(h(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,d,a,u,h]),i.jsx(X1,{...e,ref:o})}),[uA,dA]=Ud(Hd,{isInside:!1}),X1=p.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:a,...l}=e,c=Vd(ca,n),u=Bd(n),{onClose:d}=c;return p.useEffect(()=>(document.addEventListener(nm,d),()=>document.removeEventListener(nm,d)),[d]),p.useEffect(()=>{if(c.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),i.jsx(wa,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:i.jsxs(Fd,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(S1,{children:r}),i.jsx(uA,{scope:n,isInside:!0,children:i.jsx(rA,{id:c.contentId,role:"tooltip",children:s||r})})]})})});Q1.displayName=ca;var J1="TooltipArrow",fA=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Bd(n);return dA(J1,n).isInside?null:i.jsx(zd,{...s,...r,ref:t})});fA.displayName=J1;function hA(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,s,o)){case o:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function pA(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function mA(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function gA(e,t){const{x:n,y:r}=e;let s=!1;for(let o=0,a=t.length-1;o<t.length;a=o++){const l=t[o].x,c=t[o].y,u=t[a].x,d=t[a].y;c>r!=d>r&&n<(u-l)*(r-c)/(d-c)+l&&(s=!s)}return s}function xA(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),yA(t)}function yA(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const o=t[t.length-1],a=t[t.length-2];if((o.x-a.x)*(s.y-a.y)>=(o.y-a.y)*(s.x-a.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const o=n[n.length-1],a=n[n.length-2];if((o.x-a.x)*(s.y-a.y)>=(o.y-a.y)*(s.x-a.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var vA=G1,wA=K1,_A=Y1,Z1=Q1;function ej(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=ej(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function tj(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=ej(e))&&(r&&(r+=" "),r+=t);return r}const lx="-",bA=e=>{const t=SA(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{const l=a.split(lx);return l[0]===""&&l.length!==1&&l.shift(),nj(l,t)||jA(a)},getConflictingClassGroupIds:(a,l)=>{const c=n[a]||[];return l&&r[a]?[...c,...r[a]]:c}}},nj=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?nj(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(lx);return(a=t.validators.find(({validator:l})=>l(o)))==null?void 0:a.classGroupId},Wv=/^\[(.+)\]$/,jA=e=>{if(Wv.test(e)){const t=Wv.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},SA=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return kA(Object.entries(e.classGroups),n).forEach(([o,a])=>{sm(a,r,o,t)}),r},sm=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:qv(t,s);o.classGroupId=n;return}if(typeof s=="function"){if(NA(s)){sm(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,a])=>{sm(a,qv(t,o),n,r)})})},qv=(e,t)=>{let n=e;return t.split(lx).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},NA=e=>e.isThemeGetter,kA=(e,t)=>t?e.map(([n,r])=>{const s=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([a,l])=>[t+a,l])):o);return[n,s]}):e,CA=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(o,a)=>{n.set(o,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return s(o,a),a},set(o,a){n.has(o)?n.set(o,a):s(o,a)}}},rj="!",EA=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],o=t.length,a=l=>{const c=[];let u=0,d=0,f;for(let _=0;_<l.length;_++){let y=l[_];if(u===0){if(y===s&&(r||l.slice(_,_+o)===t)){c.push(l.slice(d,_)),d=_+o;continue}if(y==="/"){f=_;continue}}y==="["?u++:y==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith(rj),x=m?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:x,maybePostfixModifierPosition:g}};return n?l=>n({className:l,parseClassName:a}):a},PA=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},TA=e=>({cache:CA(e.cacheSize),parseClassName:EA(e),...bA(e)}),RA=/\s+/,IA=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,o=[],a=e.trim().split(RA);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=n(u);let x=!!m,g=r(x?h.substring(0,m):h);if(!g){if(!x){l=u+(l.length>0?" "+l:l);continue}if(g=r(h),!g){l=u+(l.length>0?" "+l:l);continue}x=!1}const _=PA(d).join(":"),y=f?_+rj:_,v=y+g;if(o.includes(v))continue;o.push(v);const w=s(g,x);for(let b=0;b<w.length;++b){const N=w[b];o.push(y+N)}l=u+(l.length>0?" "+l:l)}return l};function AA(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=sj(t))&&(r&&(r+=" "),r+=n);return r}const sj=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=sj(e[r]))&&(n&&(n+=" "),n+=t);return n};function MA(e,...t){let n,r,s,o=a;function a(c){const u=t.reduce((d,f)=>f(d),e());return n=TA(u),r=n.cache.get,s=n.cache.set,o=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=IA(c,n);return s(c,d),d}return function(){return o(AA.apply(null,arguments))}}const gt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},oj=/^\[(?:([a-z-]+):)?(.+)\]$/i,OA=/^\d+\/\d+$/,DA=new Set(["px","full","screen"]),LA=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,$A=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,FA=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,zA=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,UA=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,qr=e=>zi(e)||DA.has(e)||OA.test(e),xs=e=>ja(e,"length",YA),zi=e=>!!e&&!Number.isNaN(Number(e)),vh=e=>ja(e,"number",zi),Ha=e=>!!e&&Number.isInteger(Number(e)),BA=e=>e.endsWith("%")&&zi(e.slice(0,-1)),Ve=e=>oj.test(e),ys=e=>LA.test(e),HA=new Set(["length","size","percentage"]),VA=e=>ja(e,HA,ij),WA=e=>ja(e,"position",ij),qA=new Set(["image","url"]),GA=e=>ja(e,qA,XA),KA=e=>ja(e,"",QA),Va=()=>!0,ja=(e,t,n)=>{const r=oj.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},YA=e=>$A.test(e)&&!FA.test(e),ij=()=>!1,QA=e=>zA.test(e),XA=e=>UA.test(e),JA=()=>{const e=gt("colors"),t=gt("spacing"),n=gt("blur"),r=gt("brightness"),s=gt("borderColor"),o=gt("borderRadius"),a=gt("borderSpacing"),l=gt("borderWidth"),c=gt("contrast"),u=gt("grayscale"),d=gt("hueRotate"),f=gt("invert"),h=gt("gap"),m=gt("gradientColorStops"),x=gt("gradientColorStopPositions"),g=gt("inset"),_=gt("margin"),y=gt("opacity"),v=gt("padding"),w=gt("saturate"),b=gt("scale"),N=gt("sepia"),j=gt("skew"),C=gt("space"),R=gt("translate"),E=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",Ve,t],O=()=>[Ve,t],z=()=>["",qr,xs],W=()=>["auto",zi,Ve],A=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],M=()=>["solid","dashed","dotted","double","none"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],P=()=>["start","end","center","between","around","evenly","stretch"],I=()=>["","0",Ve],S=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[zi,Ve];return{cacheSize:500,separator:":",theme:{colors:[Va],spacing:[qr,xs],blur:["none","",ys,Ve],brightness:H(),borderColor:[e],borderRadius:["none","","full",ys,Ve],borderSpacing:O(),borderWidth:z(),contrast:H(),grayscale:I(),hueRotate:H(),invert:I(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[BA,xs],inset:D(),margin:D(),opacity:H(),padding:O(),saturate:H(),scale:H(),sepia:I(),skew:H(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",Ve]}],container:["container"],columns:[{columns:[ys]}],"break-after":[{"break-after":S()}],"break-before":[{"break-before":S()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...A(),Ve]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ha,Ve]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ve]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",Ha,Ve]}],"grid-cols":[{"grid-cols":[Va]}],"col-start-end":[{col:["auto",{span:["full",Ha,Ve]},Ve]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[Va]}],"row-start-end":[{row:["auto",{span:[Ha,Ve]},Ve]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ve]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ve]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...P()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...P(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...P(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ve,t]}],"min-w":[{"min-w":[Ve,t,"min","max","fit"]}],"max-w":[{"max-w":[Ve,t,"none","full","min","max","fit","prose",{screen:[ys]},ys]}],h:[{h:[Ve,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ve,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ve,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ve,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ys,xs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",vh]}],"font-family":[{font:[Va]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ve]}],"line-clamp":[{"line-clamp":["none",zi,vh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",qr,Ve]}],"list-image":[{"list-image":["none",Ve]}],"list-style-type":[{list:["none","disc","decimal",Ve]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...M(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",qr,xs]}],"underline-offset":[{"underline-offset":["auto",qr,Ve]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...A(),WA]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",VA]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},GA]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...M(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:M()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...M()]}],"outline-offset":[{"outline-offset":[qr,Ve]}],"outline-w":[{outline:[qr,xs]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[qr,xs]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ys,KA]}],"shadow-color":[{shadow:[Va]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...G(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ys,Ve]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ve]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",Ve]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ve]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[Ha,Ve]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ve]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ve]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ve]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[qr,xs,vh]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},ZA=MA(JA),eM={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},tM=(e,t,n)=>{let r;const s=eM[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function wh(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const nM={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},rM={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},sM={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},oM={date:wh({formats:nM,defaultWidth:"full"}),time:wh({formats:rM,defaultWidth:"full"}),dateTime:wh({formats:sM,defaultWidth:"full"})},iM={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},aM=(e,t,n,r)=>iM[e];function Wa(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):a;s=e.formattingValues[l]||e.formattingValues[a]}else{const a=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[l]||e.values[a]}const o=e.argumentCallback?e.argumentCallback(t):t;return s[o]}}const lM={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},cM={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},uM={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dM={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},fM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},hM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},pM=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},mM={ordinalNumber:pM,era:Wa({values:lM,defaultWidth:"wide"}),quarter:Wa({values:cM,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Wa({values:uM,defaultWidth:"wide"}),day:Wa({values:dM,defaultWidth:"wide"}),dayPeriod:Wa({values:fM,defaultWidth:"wide",formattingValues:hM,defaultFormattingWidth:"wide"})};function qa(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;const a=o[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?xM(l,f=>f.test(a)):gM(l,f=>f.test(a));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(a.length);return{value:u,rest:d}}}function gM(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function xM(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function yM(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],o=t.match(e.parsePattern);if(!o)return null;let a=e.valueCallback?e.valueCallback(o[0]):o[0];a=n.valueCallback?n.valueCallback(a):a;const l=t.slice(s.length);return{value:a,rest:l}}}const vM=/^(\d+)(th|st|nd|rd)?/i,wM=/\d+/i,_M={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},bM={any:[/^b/i,/^(a|c)/i]},jM={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},SM={any:[/1/i,/2/i,/3/i,/4/i]},NM={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},kM={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},CM={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},EM={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},PM={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},TM={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},RM={ordinalNumber:yM({matchPattern:vM,parsePattern:wM,valueCallback:e=>parseInt(e,10)}),era:qa({matchPatterns:_M,defaultMatchWidth:"wide",parsePatterns:bM,defaultParseWidth:"any"}),quarter:qa({matchPatterns:jM,defaultMatchWidth:"wide",parsePatterns:SM,defaultParseWidth:"any",valueCallback:e=>e+1}),month:qa({matchPatterns:NM,defaultMatchWidth:"wide",parsePatterns:kM,defaultParseWidth:"any"}),day:qa({matchPatterns:CM,defaultMatchWidth:"wide",parsePatterns:EM,defaultParseWidth:"any"}),dayPeriod:qa({matchPatterns:PM,defaultMatchWidth:"any",parsePatterns:TM,defaultParseWidth:"any"})},IM={code:"en-US",formatDistance:tM,formatLong:oM,formatRelative:aM,localize:mM,match:RM,options:{weekStartsOn:0,firstWeekContainsDate:1}};let AM={};function Wd(){return AM}const aj=6048e5,MM=864e5;function Sr(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Gv(e){const t=Sr(e);return t.setHours(0,0,0,0),t}function Kv(e){const t=Sr(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function OM(e,t){const n=Gv(e),r=Gv(t),s=+n-Kv(n),o=+r-Kv(r);return Math.round((s-o)/MM)}function Bo(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function DM(e){const t=Sr(e),n=Bo(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function LM(e){const t=Sr(e);return OM(t,DM(t))+1}function Ll(e,t){var l,c,u,d;const n=Wd(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Sr(e),o=s.getDay(),a=(o<r?7:0)+o-r;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function Qu(e){return Ll(e,{weekStartsOn:1})}function lj(e){const t=Sr(e),n=t.getFullYear(),r=Bo(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Qu(r),o=Bo(e,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const a=Qu(o);return t.getTime()>=s.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function $M(e){const t=lj(e),n=Bo(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Qu(n)}function FM(e){const t=Sr(e),n=+Qu(t)-+$M(t);return Math.round(n/aj)+1}function cj(e,t){var d,f,h,m;const n=Sr(e),r=n.getFullYear(),s=Wd(),o=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(h=s.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,a=Bo(e,0);a.setFullYear(r+1,0,o),a.setHours(0,0,0,0);const l=Ll(a,t),c=Bo(e,0);c.setFullYear(r,0,o),c.setHours(0,0,0,0);const u=Ll(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function zM(e,t){var l,c,u,d;const n=Wd(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=cj(e,t),o=Bo(e,0);return o.setFullYear(s,0,r),o.setHours(0,0,0,0),Ll(o,t)}function UM(e,t){const n=Sr(e),r=+Ll(n,t)-+zM(n,t);return Math.round(r/aj)+1}function lt(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const vs={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return lt(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):lt(n+1,2)},d(e,t){return lt(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return lt(e.getHours()%12||12,t.length)},H(e,t){return lt(e.getHours(),t.length)},m(e,t){return lt(e.getMinutes(),t.length)},s(e,t){return lt(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return lt(s,t.length)}},ci={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Yv={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return vs.y(e,t)},Y:function(e,t,n,r){const s=cj(e,r),o=s>0?s:1-s;if(t==="YY"){const a=o%100;return lt(a,2)}return t==="Yo"?n.ordinalNumber(o,{unit:"year"}):lt(o,t.length)},R:function(e,t){const n=lj(e);return lt(n,t.length)},u:function(e,t){const n=e.getFullYear();return lt(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return lt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return lt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return vs.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return lt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=UM(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):lt(s,t.length)},I:function(e,t,n){const r=FM(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):lt(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):vs.d(e,t)},D:function(e,t,n){const r=LM(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):lt(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return lt(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return lt(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return lt(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=ci.noon:r===0?s=ci.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=ci.evening:r>=12?s=ci.afternoon:r>=4?s=ci.morning:s=ci.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return vs.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):vs.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):lt(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):lt(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):vs.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):vs.s(e,t)},S:function(e,t){return vs.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return Xv(r);case"XXXX":case"XX":return wo(r);case"XXXXX":case"XXX":default:return wo(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return Xv(r);case"xxxx":case"xx":return wo(r);case"xxxxx":case"xxx":default:return wo(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Qv(r,":");case"OOOO":default:return"GMT"+wo(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Qv(r,":");case"zzzz":default:return"GMT"+wo(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return lt(r,t.length)},T:function(e,t,n){const r=e.getTime();return lt(r,t.length)}};function Qv(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),o=r%60;return o===0?n+String(s):n+String(s)+t+lt(o,2)}function Xv(e,t){return e%60===0?(e>0?"-":"+")+lt(Math.abs(e)/60,2):wo(e,t)}function wo(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=lt(Math.trunc(r/60),2),o=lt(r%60,2);return n+s+t+o}const Jv=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},uj=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},BM=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return Jv(e,t);let o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",Jv(r,t)).replace("{{time}}",uj(s,t))},HM={p:uj,P:BM},VM=/^D+$/,WM=/^Y+$/,qM=["D","DD","YY","YYYY"];function GM(e){return VM.test(e)}function KM(e){return WM.test(e)}function YM(e,t,n){const r=QM(e,t,n);if(console.warn(r),qM.includes(e))throw new RangeError(r)}function QM(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}function XM(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function JM(e){if(!XM(e)&&typeof e!="number")return!1;const t=Sr(e);return!isNaN(Number(t))}const ZM=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,e4=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,t4=/^'([^]*?)'?$/,n4=/''/g,r4=/[a-zA-Z]/;function s4(e,t,n){var d,f,h,m;const r=Wd(),s=r.locale??IM,o=r.firstWeekContainsDate??((f=(d=r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,a=r.weekStartsOn??((m=(h=r.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??0,l=Sr(e);if(!JM(l))throw new RangeError("Invalid time value");let c=t.match(e4).map(x=>{const g=x[0];if(g==="p"||g==="P"){const _=HM[g];return _(x,s.formatLong)}return x}).join("").match(ZM).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const g=x[0];if(g==="'")return{isToken:!1,value:o4(x)};if(Yv[g])return{isToken:!0,value:x};if(g.match(r4))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:x}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:o,weekStartsOn:a,locale:s};return c.map(x=>{if(!x.isToken)return x.value;const g=x.value;(KM(g)||GM(g))&&YM(g,t,String(e));const _=Yv[g[0]];return _(l,g,s.localize,u)}).join("")}function o4(e){const t=e.match(t4);return t?t[1].replace(n4,"'"):e}function i4(e,t){const n=d4(t);return"formatToParts"in n?l4(n,e):c4(n,e)}const a4={year:0,month:1,day:2,hour:3,minute:4,second:5};function l4(e,t){try{const n=e.formatToParts(t),r=[];for(let s=0;s<n.length;s++){const o=a4[n[s].type];o!==void 0&&(r[o]=parseInt(n[s].value,10))}return r}catch(n){if(n instanceof RangeError)return[NaN];throw n}}function c4(e,t){const n=e.format(t),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[parseInt(r[3],10),parseInt(r[1],10),parseInt(r[2],10),parseInt(r[4],10),parseInt(r[5],10),parseInt(r[6],10)]}const _h={},Zv=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),u4=Zv==="06/25/2014, 00:00:00"||Zv==="06/25/2014 00:00:00";function d4(e){return _h[e]||(_h[e]=u4?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),_h[e]}function dj(e,t,n,r,s,o,a){const l=new Date(0);return l.setUTCFullYear(e,t,n),l.setUTCHours(r,s,o,a),l}const ew=36e5,f4=6e4,bh={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function fj(e,t,n){if(!e)return 0;let r=bh.timezoneZ.exec(e);if(r)return 0;let s,o;if(r=bh.timezoneHH.exec(e),r)return s=parseInt(r[1],10),tw(s)?-(s*ew):NaN;if(r=bh.timezoneHHMM.exec(e),r){s=parseInt(r[2],10);const a=parseInt(r[3],10);return tw(s,a)?(o=Math.abs(s)*ew+a*f4,r[1]==="+"?-o:o):NaN}if(m4(e)){t=new Date(t||Date.now());const a=n?t:h4(t),l=om(a,e);return-(n?l:p4(t,l,e))}return NaN}function h4(e){return dj(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function om(e,t){const n=i4(e,t),r=dj(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime();let s=e.getTime();const o=s%1e3;return s-=o>=0?o:1e3+o,r-s}function p4(e,t,n){let s=e.getTime()-t;const o=om(new Date(s),n);if(t===o)return t;s-=o-t;const a=om(new Date(s),n);return o===a?o:Math.max(o,a)}function tw(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}const nw={};function m4(e){if(nw[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),nw[e]=!0,!0}catch{return!1}}function rw(e){const t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+e-+t}const g4=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,jh=36e5,sw=6e4,x4=2,fn={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:g4};function y4(e,t={}){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);const n=t.additionalDigits==null?x4:Number(t.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(Object.prototype.toString.call(e)!=="[object String]")return new Date(NaN);const r=v4(e),{year:s,restDateString:o}=w4(r.date,n),a=_4(o,s);if(a===null||isNaN(a.getTime()))return new Date(NaN);if(a){const l=a.getTime();let c=0,u;if(r.time&&(c=b4(r.time),c===null||isNaN(c)))return new Date(NaN);if(r.timeZone||t.timeZone){if(u=fj(r.timeZone||t.timeZone,new Date(l+c)),isNaN(u))return new Date(NaN)}else u=rw(new Date(l+c)),u=rw(new Date(l+c+u));return new Date(l+c+u)}else return new Date(NaN)}function v4(e){const t={};let n=fn.dateTimePattern.exec(e),r;if(n?(t.date=n[1],r=n[3]):(n=fn.datePattern.exec(e),n?(t.date=n[1],r=n[2]):(t.date=null,r=e)),r){const s=fn.timeZone.exec(r);s?(t.time=r.replace(s[1],""),t.timeZone=s[1].trim()):t.time=r}return t}function w4(e,t){if(e){const n=fn.YYY[t],r=fn.YYYYY[t];let s=fn.YYYY.exec(e)||r.exec(e);if(s){const o=s[1];return{year:parseInt(o,10),restDateString:e.slice(o.length)}}if(s=fn.YY.exec(e)||n.exec(e),s){const o=s[1];return{year:parseInt(o,10)*100,restDateString:e.slice(o.length)}}}return{year:null}}function _4(e,t){if(t===null)return null;let n,r,s;if(!e||!e.length)return n=new Date(0),n.setUTCFullYear(t),n;let o=fn.MM.exec(e);if(o)return n=new Date(0),r=parseInt(o[1],10)-1,iw(t,r)?(n.setUTCFullYear(t,r),n):new Date(NaN);if(o=fn.DDD.exec(e),o){n=new Date(0);const a=parseInt(o[1],10);return N4(t,a)?(n.setUTCFullYear(t,0,a),n):new Date(NaN)}if(o=fn.MMDD.exec(e),o){n=new Date(0),r=parseInt(o[1],10)-1;const a=parseInt(o[2],10);return iw(t,r,a)?(n.setUTCFullYear(t,r,a),n):new Date(NaN)}if(o=fn.Www.exec(e),o)return s=parseInt(o[1],10)-1,aw(s)?ow(t,s):new Date(NaN);if(o=fn.WwwD.exec(e),o){s=parseInt(o[1],10)-1;const a=parseInt(o[2],10)-1;return aw(s,a)?ow(t,s,a):new Date(NaN)}return null}function b4(e){let t,n,r=fn.HH.exec(e);if(r)return t=parseFloat(r[1].replace(",",".")),Sh(t)?t%24*jh:NaN;if(r=fn.HHMM.exec(e),r)return t=parseInt(r[1],10),n=parseFloat(r[2].replace(",",".")),Sh(t,n)?t%24*jh+n*sw:NaN;if(r=fn.HHMMSS.exec(e),r){t=parseInt(r[1],10),n=parseInt(r[2],10);const s=parseFloat(r[3].replace(",","."));return Sh(t,n,s)?t%24*jh+n*sw+s*1e3:NaN}return null}function ow(e,t,n){t=t||0,n=n||0;const r=new Date(0);r.setUTCFullYear(e,0,4);const s=r.getUTCDay()||7,o=t*7+n+1-s;return r.setUTCDate(r.getUTCDate()+o),r}const j4=[31,28,31,30,31,30,31,31,30,31,30,31],S4=[31,29,31,30,31,30,31,31,30,31,30,31];function hj(e){return e%400===0||e%4===0&&e%100!==0}function iw(e,t,n){if(t<0||t>11)return!1;if(n!=null){if(n<1)return!1;const r=hj(e);if(r&&n>S4[t]||!r&&n>j4[t])return!1}return!0}function N4(e,t){if(t<1)return!1;const n=hj(e);return!(n&&t>366||!n&&t>365)}function aw(e,t){return!(e<0||e>52||t!=null&&(t<0||t>6))}function Sh(e,t,n){return!(e<0||e>=25||t!=null&&(t<0||t>=60)||n!=null&&(n<0||n>=60))}function k4(e,t,n){e=y4(e,n);const r=fj(t,e,!0),s=new Date(e.getTime()-r),o=new Date(0);return o.setFullYear(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()),o.setHours(s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds()),o}function le(...e){return ZA(tj(e))}function Sa(e,t="yyyy. MM. dd"){const n=new Date(e),r=k4(n,"Asia/Seoul");return s4(r,t)}const pj=vA,C4=wA,E4=_A,mj=p.forwardRef(({className:e,sideOffset:t=4,...n},r)=>i.jsx(Z1,{ref:r,sideOffset:t,className:le("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));mj.displayName=Z1.displayName;var qd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Gd=typeof window>"u"||"Deno"in globalThis;function pr(){}function P4(e,t){return typeof e=="function"?e(t):e}function T4(e){return typeof e=="number"&&e>=0&&e!==1/0}function R4(e,t){return Math.max(e+(t||0)-Date.now(),0)}function lw(e,t){return typeof e=="function"?e(t):e}function I4(e,t){return typeof e=="function"?e(t):e}function cw(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:o,queryKey:a,stale:l}=e;if(a){if(r){if(t.queryHash!==cx(a,t.options))return!1}else if(!Fl(t.queryKey,a))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||o&&!o(t))}function uw(e,t){const{exact:n,status:r,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if($l(t.options.mutationKey)!==$l(o))return!1}else if(!Fl(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function cx(e,t){return((t==null?void 0:t.queryKeyHashFn)||$l)(e)}function $l(e){return JSON.stringify(e,(t,n)=>im(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Fl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!Fl(e[n],t[n])):!1}function gj(e,t){if(e===t)return e;const n=dw(e)&&dw(t);if(n||im(e)&&im(t)){const r=n?e:Object.keys(e),s=r.length,o=n?t:Object.keys(t),a=o.length,l=n?[]:{};let c=0;for(let u=0;u<a;u++){const d=n?u:o[u];(!n&&r.includes(d)||n)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,c++):(l[d]=gj(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&c++)}return s===a&&c===s?e:l}return t}function dw(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function im(e){if(!fw(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!fw(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function fw(e){return Object.prototype.toString.call(e)==="[object Object]"}function A4(e){return new Promise(t=>{setTimeout(t,e)})}function M4(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?gj(e,t):t}function O4(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function D4(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var ux=Symbol();function xj(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===ux?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Co,Rs,qi,t_,L4=(t_=class extends qd{constructor(){super();it(this,Co);it(this,Rs);it(this,qi);Ge(this,qi,t=>{if(!Gd&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){X(this,Rs)||this.setEventListener(X(this,qi))}onUnsubscribe(){var t;this.hasListeners()||((t=X(this,Rs))==null||t.call(this),Ge(this,Rs,void 0))}setEventListener(t){var n;Ge(this,qi,t),(n=X(this,Rs))==null||n.call(this),Ge(this,Rs,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){X(this,Co)!==t&&(Ge(this,Co,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof X(this,Co)=="boolean"?X(this,Co):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Co=new WeakMap,Rs=new WeakMap,qi=new WeakMap,t_),yj=new L4,Gi,Is,Ki,n_,$4=(n_=class extends qd{constructor(){super();it(this,Gi,!0);it(this,Is);it(this,Ki);Ge(this,Ki,t=>{if(!Gd&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){X(this,Is)||this.setEventListener(X(this,Ki))}onUnsubscribe(){var t;this.hasListeners()||((t=X(this,Is))==null||t.call(this),Ge(this,Is,void 0))}setEventListener(t){var n;Ge(this,Ki,t),(n=X(this,Is))==null||n.call(this),Ge(this,Is,t(this.setOnline.bind(this)))}setOnline(t){X(this,Gi)!==t&&(Ge(this,Gi,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return X(this,Gi)}},Gi=new WeakMap,Is=new WeakMap,Ki=new WeakMap,n_),Xu=new $4;function F4(){let e,t;const n=new Promise((s,o)=>{e=s,t=o});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function z4(e){return Math.min(1e3*2**e,3e4)}function vj(e){return(e??"online")==="online"?Xu.isOnline():!0}var wj=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Nh(e){return e instanceof wj}function _j(e){let t=!1,n=0,r=!1,s;const o=F4(),a=g=>{var _;r||(h(new wj(g)),(_=e.abort)==null||_.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>yj.isFocused()&&(e.networkMode==="always"||Xu.isOnline())&&e.canRun(),d=()=>vj(e.networkMode)&&e.canRun(),f=g=>{var _;r||(r=!0,(_=e.onSuccess)==null||_.call(e,g),s==null||s(),o.resolve(g))},h=g=>{var _;r||(r=!0,(_=e.onError)==null||_.call(e,g),s==null||s(),o.reject(g))},m=()=>new Promise(g=>{var _;s=y=>{(r||u())&&g(y)},(_=e.onPause)==null||_.call(e)}).then(()=>{var g;s=void 0,r||(g=e.onContinue)==null||g.call(e)}),x=()=>{if(r)return;let g;const _=n===0?e.initialPromise:void 0;try{g=_??e.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(f).catch(y=>{var j;if(r)return;const v=e.retry??(Gd?0:3),w=e.retryDelay??z4,b=typeof w=="function"?w(n,y):w,N=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,y);if(t||!N){h(y);return}n++,(j=e.onFail)==null||j.call(e,n,y),A4(b).then(()=>u()?void 0:m()).then(()=>{t?h(y):x()})})};return{promise:o,cancel:a,continue:()=>(s==null||s(),o),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?x():m().then(x),o)}}function U4(){let e=[],t=0,n=l=>{l()},r=l=>{l()},s=l=>setTimeout(l,0);const o=l=>{t?e.push(l):s(()=>{n(l)})},a=()=>{const l=e;e=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||a()}return c},batchCalls:l=>(...c)=>{o(()=>{l(...c)})},schedule:o,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var dn=U4(),Eo,r_,bj=(r_=class{constructor(){it(this,Eo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),T4(this.gcTime)&&Ge(this,Eo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Gd?1/0:5*60*1e3))}clearGcTimeout(){X(this,Eo)&&(clearTimeout(X(this,Eo)),Ge(this,Eo,void 0))}},Eo=new WeakMap,r_),Yi,Qi,Qn,tn,Yl,Po,mr,Gr,s_,B4=(s_=class extends bj{constructor(t){super();it(this,mr);it(this,Yi);it(this,Qi);it(this,Qn);it(this,tn);it(this,Yl);it(this,Po);Ge(this,Po,!1),Ge(this,Yl,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ge(this,Qn,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ge(this,Yi,V4(this.options)),this.state=t.state??X(this,Yi),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=X(this,tn))==null?void 0:t.promise}setOptions(t){this.options={...X(this,Yl),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&X(this,Qn).remove(this)}setData(t,n){const r=M4(this.state.data,t,this.options);return Xt(this,mr,Gr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Xt(this,mr,Gr).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=X(this,tn))==null?void 0:r.promise;return(s=X(this,tn))==null||s.cancel(t),n?n.then(pr).catch(pr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(X(this,Yi))}isActive(){return this.observers.some(t=>I4(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ux||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!R4(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=X(this,tn))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=X(this,tn))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),X(this,Qn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(X(this,tn)&&(X(this,Po)?X(this,tn).cancel({revert:!0}):X(this,tn).cancelRetry()),this.scheduleGc()),X(this,Qn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Xt(this,mr,Gr).call(this,{type:"invalidate"})}fetch(t,n){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(X(this,tn))return X(this,tn).continueRetry(),X(this,tn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(Ge(this,Po,!0),r.signal)})},o=()=>{const f=xj(this.options,n),h={queryKey:this.queryKey,meta:this.meta};return s(h),Ge(this,Po,!1),this.options.persister?this.options.persister(f,h,this):f(h)},a={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(a),(c=this.options.behavior)==null||c.onFetch(a,this),Ge(this,Qi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&Xt(this,mr,Gr).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta});const l=f=>{var h,m,x,g;Nh(f)&&f.silent||Xt(this,mr,Gr).call(this,{type:"error",error:f}),Nh(f)||((m=(h=X(this,Qn).config).onError)==null||m.call(h,f,this),(g=(x=X(this,Qn).config).onSettled)==null||g.call(x,this.state.data,f,this)),this.scheduleGc()};return Ge(this,tn,_j({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var h,m,x,g;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(_){l(_);return}(m=(h=X(this,Qn).config).onSuccess)==null||m.call(h,f,this),(g=(x=X(this,Qn).config).onSettled)==null||g.call(x,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,h)=>{Xt(this,mr,Gr).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{Xt(this,mr,Gr).call(this,{type:"pause"})},onContinue:()=>{Xt(this,mr,Gr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),X(this,tn).start()}},Yi=new WeakMap,Qi=new WeakMap,Qn=new WeakMap,tn=new WeakMap,Yl=new WeakMap,Po=new WeakMap,mr=new WeakSet,Gr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...H4(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Nh(s)&&s.revert&&X(this,Qi)?{...X(this,Qi),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),dn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),X(this,Qn).notify({query:this,type:"updated",action:t})})},s_);function H4(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:vj(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function V4(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Rr,o_,W4=(o_=class extends qd{constructor(t={}){super();it(this,Rr);this.config=t,Ge(this,Rr,new Map)}build(t,n,r){const s=n.queryKey,o=n.queryHash??cx(s,n);let a=this.get(o);return a||(a=new B4({cache:this,queryKey:s,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){X(this,Rr).has(t.queryHash)||(X(this,Rr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=X(this,Rr).get(t.queryHash);n&&(t.destroy(),n===t&&X(this,Rr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){dn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return X(this,Rr).get(t)}getAll(){return[...X(this,Rr).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>cw(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>cw(t,r)):n}notify(t){dn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){dn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){dn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Rr=new WeakMap,o_),Ir,cn,To,Ar,bs,i_,q4=(i_=class extends bj{constructor(t){super();it(this,Ar);it(this,Ir);it(this,cn);it(this,To);this.mutationId=t.mutationId,Ge(this,cn,t.mutationCache),Ge(this,Ir,[]),this.state=t.state||G4(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){X(this,Ir).includes(t)||(X(this,Ir).push(t),this.clearGcTimeout(),X(this,cn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ge(this,Ir,X(this,Ir).filter(n=>n!==t)),this.scheduleGc(),X(this,cn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){X(this,Ir).length||(this.state.status==="pending"?this.scheduleGc():X(this,cn).remove(this))}continue(){var t;return((t=X(this,To))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,o,a,l,c,u,d,f,h,m,x,g,_,y,v,w,b,N,j,C;Ge(this,To,_j({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(R,E)=>{Xt(this,Ar,bs).call(this,{type:"failed",failureCount:R,error:E})},onPause:()=>{Xt(this,Ar,bs).call(this,{type:"pause"})},onContinue:()=>{Xt(this,Ar,bs).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>X(this,cn).canRun(this)}));const n=this.state.status==="pending",r=!X(this,To).canStart();try{if(!n){Xt(this,Ar,bs).call(this,{type:"pending",variables:t,isPaused:r}),await((o=(s=X(this,cn).config).onMutate)==null?void 0:o.call(s,t,this));const E=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,t));E!==this.state.context&&Xt(this,Ar,bs).call(this,{type:"pending",context:E,variables:t,isPaused:r})}const R=await X(this,To).start();return await((u=(c=X(this,cn).config).onSuccess)==null?void 0:u.call(c,R,t,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,R,t,this.state.context)),await((m=(h=X(this,cn).config).onSettled)==null?void 0:m.call(h,R,null,this.state.variables,this.state.context,this)),await((g=(x=this.options).onSettled)==null?void 0:g.call(x,R,null,t,this.state.context)),Xt(this,Ar,bs).call(this,{type:"success",data:R}),R}catch(R){try{throw await((y=(_=X(this,cn).config).onError)==null?void 0:y.call(_,R,t,this.state.context,this)),await((w=(v=this.options).onError)==null?void 0:w.call(v,R,t,this.state.context)),await((N=(b=X(this,cn).config).onSettled)==null?void 0:N.call(b,void 0,R,this.state.variables,this.state.context,this)),await((C=(j=this.options).onSettled)==null?void 0:C.call(j,void 0,R,t,this.state.context)),R}finally{Xt(this,Ar,bs).call(this,{type:"error",error:R})}}finally{X(this,cn).runNext(this)}}},Ir=new WeakMap,cn=new WeakMap,To=new WeakMap,Ar=new WeakSet,bs=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),dn.batch(()=>{X(this,Ir).forEach(r=>{r.onMutationUpdate(t)}),X(this,cn).notify({mutation:this,type:"updated",action:t})})},i_);function G4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var $n,Ql,a_,K4=(a_=class extends qd{constructor(t={}){super();it(this,$n);it(this,Ql);this.config=t,Ge(this,$n,new Map),Ge(this,Ql,Date.now())}build(t,n,r){const s=new q4({mutationCache:this,mutationId:++jc(this,Ql)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){const n=Vc(t),r=X(this,$n).get(n)??[];r.push(t),X(this,$n).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=Vc(t);if(X(this,$n).has(n)){const s=(r=X(this,$n).get(n))==null?void 0:r.filter(o=>o!==t);s&&(s.length===0?X(this,$n).delete(n):X(this,$n).set(n,s))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=X(this,$n).get(Vc(t)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=X(this,$n).get(Vc(t)))==null?void 0:r.find(s=>s!==t&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){dn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...X(this,$n).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>uw(n,r))}findAll(t={}){return this.getAll().filter(n=>uw(t,n))}notify(t){dn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return dn.batch(()=>Promise.all(t.map(n=>n.continue().catch(pr))))}},$n=new WeakMap,Ql=new WeakMap,a_);function Vc(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function hw(e){return{onFetch:(t,n)=>{var d,f,h,m,x;const r=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,o=((m=t.state.data)==null?void 0:m.pages)||[],a=((x=t.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const _=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},y=xj(t.options,t.fetchOptions),v=async(w,b,N)=>{if(g)return Promise.reject();if(b==null&&w.pages.length)return Promise.resolve(w);const j={queryKey:t.queryKey,pageParam:b,direction:N?"backward":"forward",meta:t.options.meta};_(j);const C=await y(j),{maxPages:R}=t.options,E=N?D4:O4;return{pages:E(w.pages,C,R),pageParams:E(w.pageParams,b,R)}};if(s&&o.length){const w=s==="backward",b=w?Y4:pw,N={pages:o,pageParams:a},j=b(r,N);l=await v(N,j,w)}else{const w=e??o.length;do{const b=c===0?a[0]??r.initialPageParam:pw(r,l);if(c>0&&b==null)break;l=await v(l,b),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var g,_;return(_=(g=t.options).persister)==null?void 0:_.call(g,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function pw(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Y4(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Ct,As,Ms,Xi,Ji,Os,Zi,ea,l_,Q4=(l_=class{constructor(e={}){it(this,Ct);it(this,As);it(this,Ms);it(this,Xi);it(this,Ji);it(this,Os);it(this,Zi);it(this,ea);Ge(this,Ct,e.queryCache||new W4),Ge(this,As,e.mutationCache||new K4),Ge(this,Ms,e.defaultOptions||{}),Ge(this,Xi,new Map),Ge(this,Ji,new Map),Ge(this,Os,0)}mount(){jc(this,Os)._++,X(this,Os)===1&&(Ge(this,Zi,yj.subscribe(async e=>{e&&(await this.resumePausedMutations(),X(this,Ct).onFocus())})),Ge(this,ea,Xu.subscribe(async e=>{e&&(await this.resumePausedMutations(),X(this,Ct).onOnline())})))}unmount(){var e,t;jc(this,Os)._--,X(this,Os)===0&&((e=X(this,Zi))==null||e.call(this),Ge(this,Zi,void 0),(t=X(this,ea))==null||t.call(this),Ge(this,ea,void 0))}isFetching(e){return X(this,Ct).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return X(this,As).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=X(this,Ct).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=X(this,Ct).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(lw(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return X(this,Ct).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=X(this,Ct).get(r.queryHash),o=s==null?void 0:s.state.data,a=P4(t,o);if(a!==void 0)return X(this,Ct).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return dn.batch(()=>X(this,Ct).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=X(this,Ct).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=X(this,Ct);dn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=X(this,Ct),r={type:"active",...e};return dn.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=dn.batch(()=>X(this,Ct).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(pr).catch(pr)}invalidateQueries(e={},t={}){return dn.batch(()=>{if(X(this,Ct).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=dn.batch(()=>X(this,Ct).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(pr)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(pr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=X(this,Ct).build(this,t);return n.isStaleByTime(lw(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(pr).catch(pr)}fetchInfiniteQuery(e){return e.behavior=hw(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(pr).catch(pr)}ensureInfiniteQueryData(e){return e.behavior=hw(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Xu.isOnline()?X(this,As).resumePausedMutations():Promise.resolve()}getQueryCache(){return X(this,Ct)}getMutationCache(){return X(this,As)}getDefaultOptions(){return X(this,Ms)}setDefaultOptions(e){Ge(this,Ms,e)}setQueryDefaults(e,t){X(this,Xi).set($l(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...X(this,Xi).values()];let n={};return t.forEach(r=>{Fl(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){X(this,Ji).set($l(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...X(this,Ji).values()];let n={};return t.forEach(r=>{Fl(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...X(this,Ms).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=cx(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===ux&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...X(this,Ms).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){X(this,Ct).clear(),X(this,As).clear()}},Ct=new WeakMap,As=new WeakMap,Ms=new WeakMap,Xi=new WeakMap,Ji=new WeakMap,Os=new WeakMap,Zi=new WeakMap,ea=new WeakMap,l_),X4=p.createContext(void 0),J4=({client:e,children:t})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(X4.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zl(){return zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zl.apply(this,arguments)}var $s;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})($s||($s={}));const mw="popstate";function Z4(e){e===void 0&&(e={});function t(r,s){let{pathname:o,search:a,hash:l}=r.location;return am("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Ju(s)}return tO(t,n,null,e)}function jt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function jj(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function eO(){return Math.random().toString(36).substr(2,8)}function gw(e,t){return{usr:e.state,key:e.key,idx:t}}function am(e,t,n,r){return n===void 0&&(n=null),zl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Na(t):t,{state:n,key:t&&t.key||r||eO()})}function Ju(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Na(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function tO(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,a=s.history,l=$s.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(zl({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function f(){l=$s.Pop;let _=d(),y=_==null?null:_-u;u=_,c&&c({action:l,location:g.location,delta:y})}function h(_,y){l=$s.Push;let v=am(g.location,_,y);u=d()+1;let w=gw(v,u),b=g.createHref(v);try{a.pushState(w,"",b)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(b)}o&&c&&c({action:l,location:g.location,delta:1})}function m(_,y){l=$s.Replace;let v=am(g.location,_,y);u=d();let w=gw(v,u),b=g.createHref(v);a.replaceState(w,"",b),o&&c&&c({action:l,location:g.location,delta:0})}function x(_){let y=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof _=="string"?_:Ju(_);return v=v.replace(/ $/,"%20"),jt(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let g={get action(){return l},get location(){return e(s,a)},listen(_){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(mw,f),c=_,()=>{s.removeEventListener(mw,f),c=null}},createHref(_){return t(s,_)},createURL:x,encodeLocation(_){let y=x(_);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:m,go(_){return a.go(_)}};return g}var xw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(xw||(xw={}));function nO(e,t,n){return n===void 0&&(n="/"),rO(e,t,n,!1)}function rO(e,t,n,r){let s=typeof t=="string"?Na(t):t,o=ua(s.pathname||"/",n);if(o==null)return null;let a=Sj(e);sO(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=mO(o);l=hO(a[c],u,r)}return l}function Sj(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,a,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};c.relativePath.startsWith("/")&&(jt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Gs([r,c.relativePath]),d=n.concat(c);o.children&&o.children.length>0&&(jt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Sj(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:dO(u,o.index),routesMeta:d})};return e.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,a);else for(let c of Nj(o.path))s(o,a,c)}),t}function Nj(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let a=Nj(r.join("/")),l=[];return l.push(...a.map(c=>c===""?o:[o,c].join("/"))),s&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function sO(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:fO(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const oO=/^:[\w-]+$/,iO=3,aO=2,lO=1,cO=10,uO=-2,yw=e=>e==="*";function dO(e,t){let n=e.split("/"),r=n.length;return n.some(yw)&&(r+=uO),t&&(r+=aO),n.filter(s=>!yw(s)).reduce((s,o)=>s+(oO.test(o)?iO:o===""?lO:cO),r)}function fO(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function hO(e,t,n){let{routesMeta:r}=e,s={},o="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=Zu({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=Zu({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:Gs([o,f.pathname]),pathnameBase:vO(Gs([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=Gs([o,f.pathnameBase]))}return a}function Zu(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=pO(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],a=o.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let g=l[f]||"";a=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const x=l[f];return m&&!x?u[h]=void 0:u[h]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:e}}function pO(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),jj(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function mO(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return jj(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ua(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function gO(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Na(e):e;return{pathname:n?n.startsWith("/")?n:xO(n,t):t,search:wO(r),hash:_O(s)}}function xO(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function kh(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function yO(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function dx(e,t){let n=yO(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function fx(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Na(e):(s=zl({},e),jt(!s.pathname||!s.pathname.includes("?"),kh("?","pathname","search",s)),jt(!s.pathname||!s.pathname.includes("#"),kh("#","pathname","hash",s)),jt(!s.search||!s.search.includes("#"),kh("#","search","hash",s)));let o=e===""||s.pathname==="",a=o?"/":s.pathname,l;if(a==null)l=n;else{let f=t.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=gO(s,l),u=a&&a!=="/"&&a.endsWith("/"),d=(o||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Gs=e=>e.join("/").replace(/\/\/+/g,"/"),vO=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),wO=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,_O=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function bO(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const kj=["post","put","patch","delete"];new Set(kj);const jO=["get",...kj];new Set(jO);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ul(){return Ul=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ul.apply(this,arguments)}const Kd=p.createContext(null),Cj=p.createContext(null),fs=p.createContext(null),Yd=p.createContext(null),hs=p.createContext({outlet:null,matches:[],isDataRoute:!1}),Ej=p.createContext(null);function SO(e,t){let{relative:n}=t===void 0?{}:t;ka()||jt(!1);let{basename:r,navigator:s}=p.useContext(fs),{hash:o,pathname:a,search:l}=Xd(e,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:Gs([r,a])),s.createHref({pathname:c,search:l,hash:o})}function ka(){return p.useContext(Yd)!=null}function Yn(){return ka()||jt(!1),p.useContext(Yd).location}function Pj(e){p.useContext(fs).static||p.useLayoutEffect(e)}function Qt(){let{isDataRoute:e}=p.useContext(hs);return e?LO():NO()}function NO(){ka()||jt(!1);let e=p.useContext(Kd),{basename:t,future:n,navigator:r}=p.useContext(fs),{matches:s}=p.useContext(hs),{pathname:o}=Yn(),a=JSON.stringify(dx(s,n.v7_relativeSplatPath)),l=p.useRef(!1);return Pj(()=>{l.current=!0}),p.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=fx(u,JSON.parse(a),o,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Gs([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,a,o,e])}function Qd(){let{matches:e}=p.useContext(hs),t=e[e.length-1];return t?t.params:{}}function Xd(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=p.useContext(fs),{matches:s}=p.useContext(hs),{pathname:o}=Yn(),a=JSON.stringify(dx(s,r.v7_relativeSplatPath));return p.useMemo(()=>fx(e,JSON.parse(a),o,n==="path"),[e,a,o,n])}function kO(e,t){return CO(e,t)}function CO(e,t,n,r){ka()||jt(!1);let{navigator:s}=p.useContext(fs),{matches:o}=p.useContext(hs),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=Yn(),d;if(t){var f;let _=typeof t=="string"?Na(t):t;c==="/"||(f=_.pathname)!=null&&f.startsWith(c)||jt(!1),d=_}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let _=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(_.length).join("/")}let x=nO(e,{pathname:m}),g=IO(x&&x.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:Gs([c,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?c:Gs([c,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),o,n,r);return t&&g?p.createElement(Yd.Provider,{value:{location:Ul({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:$s.Pop}},g):g}function EO(){let e=DO(),t=bO(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),n?p.createElement("pre",{style:s},n):null,null)}const PO=p.createElement(EO,null);class TO extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?p.createElement(hs.Provider,{value:this.props.routeContext},p.createElement(Ej.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RO(e){let{routeContext:t,match:n,children:r}=e,s=p.useContext(Kd);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(hs.Provider,{value:t},r)}function IO(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=a.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||jt(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=n,x=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||x){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,f,h)=>{let m,x=!1,g=null,_=null;n&&(m=l&&f.route.id?l[f.route.id]:void 0,g=f.route.errorElement||PO,c&&(u<0&&h===0?(x=!0,_=null):u===h&&(x=!0,_=f.route.hydrateFallbackElement||null)));let y=t.concat(a.slice(0,h+1)),v=()=>{let w;return m?w=g:x?w=_:f.route.Component?w=p.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,p.createElement(RO,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:w})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?p.createElement(TO,{location:n.location,revalidation:n.revalidation,component:g,error:m,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var Tj=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Tj||{}),ed=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ed||{});function AO(e){let t=p.useContext(Kd);return t||jt(!1),t}function MO(e){let t=p.useContext(Cj);return t||jt(!1),t}function OO(e){let t=p.useContext(hs);return t||jt(!1),t}function Rj(e){let t=OO(),n=t.matches[t.matches.length-1];return n.route.id||jt(!1),n.route.id}function DO(){var e;let t=p.useContext(Ej),n=MO(ed.UseRouteError),r=Rj(ed.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function LO(){let{router:e}=AO(Tj.UseNavigateStable),t=Rj(ed.UseNavigateStable),n=p.useRef(!1);return Pj(()=>{n.current=!0}),p.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Ul({fromRouteId:t},o)))},[e,t])}function hx(e){let{to:t,replace:n,state:r,relative:s}=e;ka()||jt(!1);let{future:o,static:a}=p.useContext(fs),{matches:l}=p.useContext(hs),{pathname:c}=Yn(),u=Qt(),d=fx(t,dx(l,o.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return p.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function kt(e){jt(!1)}function $O(e){let{basename:t="/",children:n=null,location:r,navigationType:s=$s.Pop,navigator:o,static:a=!1,future:l}=e;ka()&&jt(!1);let c=t.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:o,static:a,future:Ul({v7_relativeSplatPath:!1},l)}),[c,l,o,a]);typeof r=="string"&&(r=Na(r));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:x="default"}=r,g=p.useMemo(()=>{let _=ua(d,c);return _==null?null:{location:{pathname:_,search:f,hash:h,state:m,key:x},navigationType:s}},[c,d,f,h,m,x,s]);return g==null?null:p.createElement(fs.Provider,{value:u},p.createElement(Yd.Provider,{children:n,value:g}))}function FO(e){let{children:t,location:n}=e;return kO(lm(t),n)}new Promise(()=>{});function lm(e,t){t===void 0&&(t=[]);let n=[];return p.Children.forEach(e,(r,s)=>{if(!p.isValidElement(r))return;let o=[...t,s];if(r.type===p.Fragment){n.push.apply(n,lm(r.props.children,o));return}r.type!==kt&&jt(!1),!r.props.index||!r.props.children||jt(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=lm(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function td(){return td=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},td.apply(this,arguments)}function Ij(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,o;for(o=0;o<r.length;o++)s=r[o],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function zO(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function UO(e,t){return e.button===0&&(!t||t==="_self")&&!zO(e)}function cm(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function BO(e,t){let n=cm(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(o=>{n.append(s,o)})}),n}const HO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],VO=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],WO="6";try{window.__reactRouterVersion=WO}catch{}const qO=p.createContext({isTransitioning:!1}),GO="startTransition",vw=v_[GO];function KO(e){let{basename:t,children:n,future:r,window:s}=e,o=p.useRef();o.current==null&&(o.current=Z4({window:s,v5Compat:!0}));let a=o.current,[l,c]=p.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=p.useCallback(f=>{u&&vw?vw(()=>c(f)):c(f)},[c,u]);return p.useLayoutEffect(()=>a.listen(d),[a,d]),p.createElement($O,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const YO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",QO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,px=p.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:o,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=Ij(t,HO),{basename:m}=p.useContext(fs),x,g=!1;if(typeof u=="string"&&QO.test(u)&&(x=u,YO))try{let w=new URL(window.location.href),b=u.startsWith("//")?new URL(w.protocol+u):new URL(u),N=ua(b.pathname,m);b.origin===w.origin&&N!=null?u=N+b.search+b.hash:g=!0}catch{}let _=SO(u,{relative:s}),y=JO(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function v(w){r&&r(w),w.defaultPrevented||y(w)}return p.createElement("a",td({},h,{href:x||_,onClick:g||o?r:v,ref:n,target:c}))}),Ch=p.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:s=!1,className:o="",end:a=!1,style:l,to:c,viewTransition:u,children:d}=t,f=Ij(t,VO),h=Xd(c,{relative:f.relative}),m=Yn(),x=p.useContext(Cj),{navigator:g,basename:_}=p.useContext(fs),y=x!=null&&eD(h)&&u===!0,v=g.encodeLocation?g.encodeLocation(h).pathname:h.pathname,w=m.pathname,b=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;s||(w=w.toLowerCase(),b=b?b.toLowerCase():null,v=v.toLowerCase()),b&&_&&(b=ua(b,_)||b);const N=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let j=w===v||!a&&w.startsWith(v)&&w.charAt(N)==="/",C=b!=null&&(b===v||!a&&b.startsWith(v)&&b.charAt(v.length)==="/"),R={isActive:j,isPending:C,isTransitioning:y},E=j?r:void 0,T;typeof o=="function"?T=o(R):T=[o,j?"active":null,C?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let D=typeof l=="function"?l(R):l;return p.createElement(px,td({},f,{"aria-current":E,className:T,ref:n,style:D,to:c,viewTransition:u}),typeof d=="function"?d(R):d)});var um;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(um||(um={}));var ww;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ww||(ww={}));function XO(e){let t=p.useContext(Kd);return t||jt(!1),t}function JO(e,t){let{target:n,replace:r,state:s,preventScrollReset:o,relative:a,viewTransition:l}=t===void 0?{}:t,c=Qt(),u=Yn(),d=Xd(e,{relative:a});return p.useCallback(f=>{if(UO(f,n)){f.preventDefault();let h=r!==void 0?r:Ju(u)===Ju(d);c(e,{replace:h,state:s,preventScrollReset:o,relative:a,viewTransition:l})}},[u,c,d,r,s,n,e,o,a,l])}function ZO(e){let t=p.useRef(cm(e)),n=p.useRef(!1),r=Yn(),s=p.useMemo(()=>BO(r.search,n.current?null:t.current),[r.search]),o=Qt(),a=p.useCallback((l,c)=>{const u=cm(typeof l=="function"?l(s):l);n.current=!0,o("?"+u,c)},[o,s]);return[s,a]}function eD(e,t){t===void 0&&(t={});let n=p.useContext(qO);n==null&&jt(!1);let{basename:r}=XO(um.useViewTransitionState),s=Xd(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=ua(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=ua(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Zu(s.pathname,a)!=null||Zu(s.pathname,o)!=null}const tD="modulepreload",nD=function(e){return"/"+e},_w={},oc=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=nD(c),c in _w)return;_w[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":tD,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})},rD=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>oc(async()=>{const{default:r}=await Promise.resolve().then(()=>Ca);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class mx extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class sD extends mx{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class bw extends mx{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class jw extends mx{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var dm;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(dm||(dm={}));var oD=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class iD{constructor(t,{headers:n={},customFetch:r,region:s=dm.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=rD(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return oD(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:a}=n;let l={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(l["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(l["Content-Type"]="application/json",d=JSON.stringify(a)));const f=yield this.fetch(u.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(g=>{throw new sD(g)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new bw(f);if(!f.ok)throw new jw(f);let m=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),x;return m==="application/json"?x=yield f.json():m==="application/octet-stream"?x=yield f.blob():m==="text/event-stream"?x=f:m==="multipart/form-data"?x=yield f.formData():x=yield f.text(),{data:x,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof jw||s instanceof bw?s.context:void 0}}})}}var jn={},gx={},Jd={},ic={},Zd={},ef={},aD=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},da=aD();const lD=da.fetch,Aj=da.fetch.bind(da),Mj=da.Headers,cD=da.Request,uD=da.Response,Ca=Object.freeze(Object.defineProperty({__proto__:null,Headers:Mj,Request:cD,Response:uD,default:Aj,fetch:lD},Symbol.toStringTag,{value:"Module"})),dD=kE(Ca);var tf={};Object.defineProperty(tf,"__esModule",{value:!0});let fD=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};tf.default=fD;var Oj=sn&&sn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ef,"__esModule",{value:!0});const hD=Oj(dD),pD=Oj(tf);let mD=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=hD.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var a,l,c;let u=null,d=null,f=null,h=o.status,m=o.statusText;if(o.ok){if(this.method!=="HEAD"){const y=await o.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=y:d=JSON.parse(y))}const g=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),_=(l=o.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");g&&_&&_.length>1&&(f=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const g=await o.text();try{u=JSON.parse(g),Array.isArray(u)&&o.status===404&&(d=[],u=null,h=200,m="OK")}catch{o.status===404&&g===""?(h=204,m="No Content"):u={message:g}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,m="OK"),u&&this.shouldThrowOnError)throw new pD.default(u)}return{error:u,data:d,count:f,status:h,statusText:m}});return this.shouldThrowOnError||(s=s.catch(o=>{var a,l,c;return{error:{message:`${(a=o==null?void 0:o.name)!==null&&a!==void 0?a:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(l=o==null?void 0:o.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};ef.default=mD;var gD=sn&&sn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zd,"__esModule",{value:!0});const xD=gD(ef);let yD=class extends xD.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:o=s}={}){const a=o?`${o}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const o=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(a,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:o=!1,format:a="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${c};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Zd.default=yD;var vD=sn&&sn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ic,"__esModule",{value:!0});const wD=vD(Zd);let _D=class extends wD.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${a}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};ic.default=_D;var bD=sn&&sn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jd,"__esModule",{value:!0});const Ga=bD(ic);let jD=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let o=!1;const a=(t??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",a),r&&(this.headers.Prefer=`count=${r}`),new Ga.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const a=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Ga.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:o=!0}={}){const a="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Ga.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Ga.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Ga.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Jd.default=jD;var nf={},rf={};Object.defineProperty(rf,"__esModule",{value:!0});rf.version=void 0;rf.version="0.0.0-automated";Object.defineProperty(nf,"__esModule",{value:!0});nf.DEFAULT_HEADERS=void 0;const SD=rf;nf.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${SD.version}`};var Dj=sn&&sn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gx,"__esModule",{value:!0});const ND=Dj(Jd),kD=Dj(ic),CD=nf;let ED=class Lj{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},CD.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new ND.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Lj(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:o}={}){let a;const l=new URL(`${this.url}/rpc/${t}`);let c;r||s?(a=r?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(a="POST",c=n);const u=Object.assign({},this.headers);return o&&(u.Prefer=`count=${o}`),new kD.default({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};gx.default=ED;var Ea=sn&&sn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jn,"__esModule",{value:!0});jn.PostgrestError=jn.PostgrestBuilder=jn.PostgrestTransformBuilder=jn.PostgrestFilterBuilder=jn.PostgrestQueryBuilder=jn.PostgrestClient=void 0;const $j=Ea(gx);jn.PostgrestClient=$j.default;const Fj=Ea(Jd);jn.PostgrestQueryBuilder=Fj.default;const zj=Ea(ic);jn.PostgrestFilterBuilder=zj.default;const Uj=Ea(Zd);jn.PostgrestTransformBuilder=Uj.default;const Bj=Ea(ef);jn.PostgrestBuilder=Bj.default;const Hj=Ea(tf);jn.PostgrestError=Hj.default;var PD=jn.default={PostgrestClient:$j.default,PostgrestQueryBuilder:Fj.default,PostgrestFilterBuilder:zj.default,PostgrestTransformBuilder:Uj.default,PostgrestBuilder:Bj.default,PostgrestError:Hj.default};const{PostgrestClient:TD,PostgrestQueryBuilder:HH,PostgrestFilterBuilder:VH,PostgrestTransformBuilder:WH,PostgrestBuilder:qH,PostgrestError:GH}=PD;function RD(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const ID=RD(),AD="2.11.15",MD=`realtime-js/${AD}`,OD="1.0.0",Vj=1e4,DD=1e3;var fl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(fl||(fl={}));var en;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(en||(en={}));var xr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(xr||(xr={}));var fm;(function(e){e.websocket="websocket"})(fm||(fm={}));var bo;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(bo||(bo={}));class LD{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),o=n.getUint8(2);let a=this.HEADER_LENGTH+2;const l=r.decode(t.slice(a,a+s));a=a+s;const c=r.decode(t.slice(a,a+o));a=a+o;const u=JSON.parse(r.decode(t.slice(a,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class Wj{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ft;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ft||(ft={}));const Sw=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((o,a)=>(o[a]=$D(a,e,t,s),o),{})},$D=(e,t,n,r)=>{const s=t.find(l=>l.name===e),o=s==null?void 0:s.type,a=n[e];return o&&!r.includes(o)?qj(o,a):hm(a)},qj=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return BD(t,n)}switch(e){case ft.bool:return FD(t);case ft.float4:case ft.float8:case ft.int2:case ft.int4:case ft.int8:case ft.numeric:case ft.oid:return zD(t);case ft.json:case ft.jsonb:return UD(t);case ft.timestamp:return HD(t);case ft.abstime:case ft.date:case ft.daterange:case ft.int4range:case ft.int8range:case ft.money:case ft.reltime:case ft.text:case ft.time:case ft.timestamptz:case ft.timetz:case ft.tsrange:case ft.tstzrange:return hm(t);default:return hm(t)}},hm=e=>e,FD=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},zD=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},UD=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},BD=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const a=e.slice(1,n);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(l=>qj(t,l))}return e},HD=e=>typeof e=="string"?e.replace(" ","T"):e,Gj=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Eh{constructor(t,n,r={},s=Vj){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Nw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Nw||(Nw={}));class hl{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:o,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=hl.syncState(this.state,s,o,a),this.pendingDiffs.forEach(c=>{this.state=hl.syncDiff(this.state,c,o,a)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:o,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=hl.syncDiff(this.state,s,o,a),l())}),this.onJoin((s,o,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:a})}),this.onLeave((s,o,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const o=this.cloneDeep(t),a=this.transformState(n),l={},c={};return this.map(o,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const f=o[u];if(f){const h=d.map(_=>_.presence_ref),m=f.map(_=>_.presence_ref),x=d.filter(_=>m.indexOf(_.presence_ref)<0),g=f.filter(_=>h.indexOf(_.presence_ref)<0);x.length>0&&(l[u]=x),g.length>0&&(c[u]=g)}else l[u]=d}),this.syncDiff(o,{joins:l,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:o,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}r(l,d,c)}),this.map(a,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var kw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(kw||(kw={}));var Cw;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Cw||(Cw={}));var Qr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Qr||(Qr={}));class xx{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=en.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Eh(this,xr.join,this.params,this.timeout),this.rejoinTimer=new Wj(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=en.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=en.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=en.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=en.errored,this.rejoinTimer.scheduleTimeout())}),this._on(xr.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new hl(this),this.broadcastEndpointURL=Gj(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==en.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params;this._onError(d=>t==null?void 0:t(Qr.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Qr.CLOSED));const c={},u={broadcast:o,presence:a,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(Qr.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,m=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,x=[];for(let g=0;g<m;g++){const _=h[g],{filter:{event:y,schema:v,table:w,filter:b}}=_,N=d&&d[g];if(N&&N.event===y&&N.schema===v&&N.table===w&&N.filter===b)x.push(Object.assign(Object.assign({},_),{id:N.id}));else{this.unsubscribe(),this.state=en.errored,t==null||t(Qr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(Qr.SUBSCRIBED);return}}).receive("error",d=>{this.state=en.errored,t==null||t(Qr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Qr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=en.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(xr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Eh(this,xr.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Eh(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,o;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=xr;if(r&&[l,c,u,d].indexOf(a)>=0&&r!==this._joinRef())return;let h=this._onMessage(a,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var x,g,_;return((x=m.filter)===null||x===void 0?void 0:x.event)==="*"||((_=(g=m.filter)===null||g===void 0?void 0:g.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===a}).map(m=>m.callback(h,r)):(o=this.bindings[a])===null||o===void 0||o.filter(m=>{var x,g,_,y,v,w;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const b=m.id,N=(x=m.filter)===null||x===void 0?void 0:x.event;return b&&((g=n.ids)===null||g===void 0?void 0:g.includes(b))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const b=(v=(y=m==null?void 0:m.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return b==="*"||b===((w=n==null?void 0:n.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof h=="object"&&"ids"in h){const x=h.data,{schema:g,table:_,commit_timestamp:y,type:v,errors:w}=x;h=Object.assign(Object.assign({},{schema:g,table:_,commit_timestamp:y,eventType:v,new:{},old:{},errors:w}),this._getPayloadRecords(x))}m.callback(h,r)})}_isClosed(){return this.state===en.closed}_isJoined(){return this.state===en.joined}_isJoining(){return this.state===en.joining}_isLeaving(){return this.state===en.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),o={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&xx.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(xr.close,{},t)}_onError(t){this._on(xr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=en.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Sw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Sw(t.columns,t.old_record)),n}}const Ew=()=>{},VD=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class WD{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Vj,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ew,this.ref=0,this.logger=Ew,this.conn=null,this.sendBuffer=[],this.serializer=new LD,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let a;return o?a=o:typeof fetch>"u"?a=(...l)=>oc(async()=>{const{default:c}=await Promise.resolve().then(()=>Ca);return{default:c}},void 0).then(({default:c})=>c(...l)):a=fetch,(...l)=>a(...l)},this.endPoint=`${t}/${fm.websocket}`,this.httpEndpoint=Gj(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(o,a)=>a(JSON.stringify(o)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Wj(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=ID),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:OD}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case fl.connecting:return bo.Connecting;case fl.open:return bo.Open;case fl.closing:return bo.Closing;default:return bo.Closed}}isConnected(){return this.connectionState()===bo.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===r);if(s)return s;{const o=new xx(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:s,ref:o}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${o})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:MD};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(xr.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(DD,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:o,ref:a}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${s} ${a&&"("+a+")"||""}`,o),Array.from(this.channels).filter(l=>l._isMember(r)).forEach(l=>l._trigger(s,o,a)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(xr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([VD],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class yx extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function zt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class qD extends yx{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class pm extends yx{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var GD=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const Kj=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>oc(async()=>{const{default:r}=await Promise.resolve().then(()=>Ca);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},KD=()=>GD(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield oc(()=>Promise.resolve().then(()=>Ca),void 0)).Response:Response}),mm=e=>{if(Array.isArray(e))return e.map(n=>mm(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=mm(r)}),t};var Yo=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const Ph=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),YD=(e,t,n)=>Yo(void 0,void 0,void 0,function*(){const r=yield KD();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new qD(Ph(s),e.status||500))}).catch(s=>{t(new pm(Ph(s),s))}):t(new pm(Ph(e),e))}),QD=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function ac(e,t,n,r,s,o){return Yo(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(n,QD(t,r,s,o)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>YD(c,l,r))})})}function nd(e,t,n,r){return Yo(this,void 0,void 0,function*(){return ac(e,"GET",t,n,r)})}function Cs(e,t,n,r,s){return Yo(this,void 0,void 0,function*(){return ac(e,"POST",t,r,s,n)})}function XD(e,t,n,r,s){return Yo(this,void 0,void 0,function*(){return ac(e,"PUT",t,r,s,n)})}function JD(e,t,n,r){return Yo(this,void 0,void 0,function*(){return ac(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Yj(e,t,n,r,s){return Yo(this,void 0,void 0,function*(){return ac(e,"DELETE",t,r,s,n)})}var wn=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const ZD={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Pw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class eL{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=Kj(s)}uploadOrUpdate(t,n,r,s){return wn(this,void 0,void 0,function*(){try{let o;const a=Object.assign(Object.assign({},Pw),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",a.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=r,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:o,headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(o){if(zt(o))return{data:null,error:o};throw o}})}upload(t,n,r){return wn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return wn(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),a=this._getFinalPath(o),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:Pw.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),h=yield f.json();return f.ok?{data:{path:o,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(zt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return wn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const o=yield Cs(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),a=new URL(this.url+o.url),l=a.searchParams.get("token");if(!l)throw new yx("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:l},error:null}}catch(r){if(zt(r))return{data:null,error:r};throw r}})}update(t,n,r){return wn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return wn(this,void 0,void 0,function*(){try{return{data:yield Cs(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(zt(s))return{data:null,error:s};throw s}})}copy(t,n,r){return wn(this,void 0,void 0,function*(){try{return{data:{path:(yield Cs(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(zt(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return wn(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield Cs(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${a}`)},{data:o,error:null}}catch(s){if(zt(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return wn(this,void 0,void 0,function*(){try{const s=yield Cs(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${o}`):null})),error:null}}catch(s){if(zt(s))return{data:null,error:s};throw s}})}download(t,n){return wn(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=o?`?${o}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield nd(this.fetch,`${this.url}/${s}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(zt(l))return{data:null,error:l};throw l}})}info(t){return wn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield nd(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:mm(r),error:null}}catch(r){if(zt(r))return{data:null,error:r};throw r}})}exists(t){return wn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield JD(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(zt(r)&&r instanceof pm){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&s.push(o);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(t){return wn(this,void 0,void 0,function*(){try{return{data:yield Yj(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(zt(n))return{data:null,error:n};throw n}})}list(t,n,r){return wn(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},ZD),n),{prefix:t||""});return{data:yield Cs(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(zt(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const tL="2.7.1",nL={"X-Client-Info":`storage-js/${tL}`};var ui=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class rL{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},nL),n),this.fetch=Kj(r)}listBuckets(){return ui(this,void 0,void 0,function*(){try{return{data:yield nd(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(zt(t))return{data:null,error:t};throw t}})}getBucket(t){return ui(this,void 0,void 0,function*(){try{return{data:yield nd(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(zt(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return ui(this,void 0,void 0,function*(){try{return{data:yield Cs(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(zt(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return ui(this,void 0,void 0,function*(){try{return{data:yield XD(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(zt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return ui(this,void 0,void 0,function*(){try{return{data:yield Cs(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(zt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ui(this,void 0,void 0,function*(){try{return{data:yield Yj(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(zt(n))return{data:null,error:n};throw n}})}}class sL extends rL{constructor(t,n={},r){super(t,n,r)}from(t){return new eL(this.url,this.headers,t,this.fetch)}}const oL="2.52.0";let el="";typeof Deno<"u"?el="deno":typeof document<"u"?el="web":typeof navigator<"u"&&navigator.product==="ReactNative"?el="react-native":el="node";const iL={"X-Client-Info":`supabase-js-${el}/${oL}`},aL={headers:iL},lL={schema:"public"},cL={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},uL={};var dL=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const fL=e=>{let t;return e?t=e:typeof fetch>"u"?t=Aj:t=fetch,(...n)=>t(...n)},hL=()=>typeof Headers>"u"?Mj:Headers,pL=(e,t,n)=>{const r=fL(n),s=hL();return(o,a)=>dL(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(o,Object.assign(Object.assign({},a),{headers:u}))})};var mL=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};function gL(e){return e.endsWith("/")?e:e+"/"}function xL(e,t){var n,r;const{db:s,auth:o,realtime:a,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},d),a),global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>mL(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const Qj="2.71.1",vi=30*1e3,gm=3,Th=gm*vi,yL="http://localhost:9999",vL="supabase.auth.token",wL={"X-Client-Info":`gotrue-js/${Qj}`},xm="X-Supabase-Api-Version",Xj={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},_L=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,bL=10*60*1e3;class vx extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function He(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class jL extends vx{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function SL(e){return He(e)&&e.name==="AuthApiError"}class Jj extends vx{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ao extends vx{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class js extends ao{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function NL(e){return He(e)&&e.name==="AuthSessionMissingError"}class Wc extends ao{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class qc extends ao{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Gc extends ao{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function kL(e){return He(e)&&e.name==="AuthImplicitGrantRedirectError"}class Tw extends ao{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ym extends ao{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Rh(e){return He(e)&&e.name==="AuthRetryableFetchError"}class Rw extends ao{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class vm extends ao{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const rd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Iw=` 	
\r=`.split(""),CL=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Iw.length;t+=1)e[Iw[t].charCodeAt(0)]=-2;for(let t=0;t<rd.length;t+=1)e[rd[t].charCodeAt(0)]=t;return e})();function Aw(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(rd[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(rd[r]),t.queuedBits-=6}}function Zj(e,t,n){const r=CL[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Mw(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=a=>{TL(a,r,n)};for(let a=0;a<e.length;a+=1)Zj(e.charCodeAt(a),s,o);return t.join("")}function EL(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function PL(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}EL(r,t)}}function TL(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function RL(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Zj(e.charCodeAt(s),n,r);return new Uint8Array(t)}function IL(e){const t=[];return PL(e,n=>t.push(n)),new Uint8Array(t)}function AL(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>Aw(s,n,r)),Aw(null,n,r),t.join("")}function ML(e){return Math.round(Date.now()/1e3)+e}function OL(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const dr=()=>typeof window<"u"&&typeof document<"u",mo={tested:!1,writable:!1},eS=()=>{if(!dr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(mo.tested)return mo.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),mo.tested=!0,mo.writable=!0}catch{mo.tested=!0,mo.writable=!1}return mo.writable};function DL(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const tS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>oc(async()=>{const{default:r}=await Promise.resolve().then(()=>Ca);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},LL=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",wi=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},go=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ws=async(e,t)=>{await e.removeItem(t)};class sf{constructor(){this.promise=new sf.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}sf.promiseConstructor=Promise;function Ih(e){const t=e.split(".");if(t.length!==3)throw new vm("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!_L.test(t[r]))throw new vm("JWT not in base64url format");return{header:JSON.parse(Mw(t[0])),payload:JSON.parse(Mw(t[1])),signature:RL(t[2]),raw:{header:t[0],payload:t[1]}}}async function $L(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function FL(e,t){return new Promise((r,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await e(o);if(!t(o,null,a)){r(a);return}}catch(a){if(!t(o,a)){s(a);return}}})()})}function zL(e){return("0"+e.toString(16)).substr(-2)}function UL(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,zL).join("")}async function BL(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function HL(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await BL(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function di(e,t,n=!1){const r=UL();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await wi(e,`${t}-code-verifier`,s);const o=await HL(r);return[o,r===o?"plain":"s256"]}const VL=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function WL(e){const t=e.headers.get(xm);if(!t||!t.match(VL))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function qL(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function GL(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const KL=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function fi(e){if(!KL.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ah(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ow(e){return JSON.parse(JSON.stringify(e))}var YL=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const _o=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),QL=[502,503,504];async function Dw(e){var t;if(!LL(e))throw new ym(_o(e),0);if(QL.includes(e.status))throw new ym(_o(e),e.status);let n;try{n=await e.json()}catch(o){throw new Jj(_o(o),o)}let r;const s=WL(e);if(s&&s.getTime()>=Xj["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Rw(_o(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new js}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new Rw(_o(n),e.status,n.weak_password.reasons);throw new jL(_o(n),e.status||500,r)}const XL=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Qe(e,t,n,r){var s;const o=Object.assign({},r==null?void 0:r.headers);o[xm]||(o[xm]=Xj["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const a=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await JL(e,t,n+l,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function JL(e,t,n,r,s,o){const a=XL(t,r,s,o);let l;try{l=await e(n,Object.assign({},a))}catch(c){throw console.error(c),new ym(_o(c),0)}if(l.ok||await Dw(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await Dw(c)}}function Kr(e){var t;let n=null;n3(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=ML(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Lw(e){const t=Kr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ts(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function ZL(e){return{data:e,error:null}}function e3(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o}=e,a=YL(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function t3(e){return e}function n3(e){return e.access_token&&e.refresh_token&&e.expires_in}const Mh=["global","local","others"];var r3=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class s3{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=tS(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=Mh[0]){if(Mh.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Mh.join(", ")}`);try{return await Qe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(He(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Qe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ts})}catch(r){if(He(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=r3(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Qe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:e3,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(He(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Qe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ts})}catch(n){if(He(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,o,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Qe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:t3});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(x=>{const g=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(x.split(";")[1].split("=")[1]);u[`${_}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(He(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){fi(t);try{return await Qe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ts})}catch(n){if(He(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){fi(t);try{return await Qe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ts})}catch(r){if(He(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){fi(t);try{return await Qe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ts})}catch(r){if(He(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){fi(t.userId);try{const{data:n,error:r}=await Qe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(He(n))return{data:null,error:n};throw n}}async _deleteFactor(t){fi(t.userId),fi(t.id);try{return{data:await Qe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(He(n))return{data:null,error:n};throw n}}}function $w(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function o3(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const hi={debug:!!(globalThis&&eS()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class nS extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class i3 extends nS{}async function a3(e,t,n){hi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),hi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){hi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{hi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw hi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new i3(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(hi.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}o3();const l3={url:yL,storageKey:vL,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:wL,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Fw(e,t,n){return await n()}const pi={};class Bl{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Bl.nextInstanceID,Bl.nextInstanceID+=1,this.instanceID>0&&dr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},l3),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new s3({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=tS(s.fetch),this.lock=s.lock||Fw,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:dr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=a3:this.lock=Fw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:eS()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=$w(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=$w(this.memoryStorage)),dr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=pi[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){pi[this.storageKey]=Object.assign(Object.assign({},pi[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=pi[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){pi[this.storageKey]=Object.assign(Object.assign({},pi[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Qj}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=DL(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),dr()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),kL(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return He(n)?{error:n}:{error:new Jj("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const o=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Kr}),{data:a,error:l}=o;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(He(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,r,s;try{let o;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,x=null;this.flowType==="pkce"&&([m,x]=await di(this.storage,this.storageKey)),o=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:x},xform:Kr})}else if("phone"in t){const{phone:d,password:f,options:h}=t;o=await Qe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Kr})}else throw new qc("You must provide either an email or phone number and a password");const{data:a,error:l}=o;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(He(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:a,options:l}=t;n=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Lw})}else if("phone"in t){const{phone:o,password:a,options:l}=t;n=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Lw})}else throw new qc("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Wc}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(He(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,s,o,a,l,c,u,d,f,h,m;let x,g;if("message"in t)x=t.message,g=t.signature;else{const{chain:_,wallet:y,statement:v,options:w}=t;let b;if(dr())if(typeof y=="object")b=y;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))b=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=y}const N=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in b&&b.signIn){const j=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),v?{statement:v}:null));let C;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")C=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)C=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)x=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),g=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${N.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(s=(r=w==null?void 0:w.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const j=await b.signMessage(new TextEncoder().encode(x),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=j}}try{const{data:_,error:y}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:AL(g)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Kr});if(y)throw y;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new Wc}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:y})}catch(_){if(He(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(t){const n=await go(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:o,error:a}=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Kr});if(await ws(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Wc}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:a})}catch(o){if(He(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:o,nonce:a}=t,l=await Qe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Kr}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Wc}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(He(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,o,a;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await di(this.storage,this.storageKey));const{error:f}=await Qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Qe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new qc("You must provide either an email or phone number.")}catch(l){if(He(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let s,o;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:l}=await Qe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Kr});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(He(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let o=null,a=null;return this.flowType==="pkce"&&([o,a]=await di(this.storage,this.storageKey)),await Qe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:a}),headers:this.headers,xform:ZL})}catch(o){if(He(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new js;const{error:s}=await Qe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(He(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:o}=t,{error:a}=await Qe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:r,type:s,options:o}=t,{data:a,error:l}=await Qe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new qc("You must provide either an email or phone number and a type")}catch(n){if(He(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await go(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Th:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const a=await go(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=Ah()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ts}):await this._useSession(async n=>{var r,s,o;const{data:a,error:l}=n;if(l)throw l;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new js}:await Qe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Ts})})}catch(n){if(He(n))return NL(n)&&(await this._removeSession(),await ws(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:o}=r;if(o)throw o;if(!s.session)throw new js;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await di(this.storage,this.storageKey));const{data:u,error:d}=await Qe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:Ts});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(He(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new js;const n=Date.now()/1e3;let r=n,s=!0,o=null;const{payload:a}=Ih(t.access_token);if(a.exp&&(r=a.exp,s=r<=n),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(He(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:l}=n;if(l)throw l;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new js;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(He(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!dr())throw new Gc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Gc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Tw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Gc("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Tw("No code detected.");const{data:v,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:o,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!o||!l||!a||!u)throw new Gc("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=vi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const x=h-f;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,h,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,h,d);const{data:g,error:_}=await this._getUser(o);if(_)throw _;const y={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:h,refresh_token:a,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(r){if(He(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await go(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{error:o};const a=(r=s.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(SL(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await ws(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=OL(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:o},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await di(this.storage,this.storageKey,!0));try{return await Qe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(He(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(He(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async o=>{var a,l,c,u,d;const{data:f,error:h}=o;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Qe(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return dr()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(He(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:a}=n;if(a)throw a;return await Qe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(He(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await FL(async s=>(s>0&&await $L(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Qe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Kr})),(s,o)=>{const a=200*Math.pow(2,s);return o&&Rh(o)&&Date.now()+a-r<vi})}catch(r){if(this._debug(n,"error",r),He(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),dr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await go(this.storage,this.storageKey);if(s&&this.userStorage){let a=await go(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await wi(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:Ah()}else if(s&&!s.user&&!s.user){const a=await go(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await ws(this.storage,this.storageKey+"-user"),await wi(this.storage,this.storageKey,s)):s.user=Ah()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const o=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Th;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Th}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),Rh(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(s.access_token);!l&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new js;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new sf;const{data:o,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!o.session)throw new js;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={session:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(s,"error",o),He(o)){const a={session:null,error:o};return Rh(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){o.push(c)}});if(await Promise.all(a),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await wi(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const o=Ow(s);await wi(this.storage,this.storageKey,o)}else{const s=Ow(n);await wi(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await ws(this.storage,this.storageKey),await ws(this.storage,this.storageKey+"-code-verifier"),await ws(this.storage,this.storageKey+"-user"),this.userStorage&&await ws(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&dr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),vi);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/vi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${vi}ms, refresh threshold is ${gm} ticks`),s<=gm&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof nS)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!dr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,a]=await di(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await Qe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(He(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:a}=n;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Qe(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(He(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{data:null,error:o};const{data:a,error:l}=await Qe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(n){if(He(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await Qe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(He(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(a=>a.factor_type==="totp"&&a.status==="verified"),o=r.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:r,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Ih(s.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+bL>s)return r;const{data:o,error:a}=await Qe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,r=o.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:m,error:x}=await this.getSession();if(x||!m.session)return{data:null,error:x};r=m.session.access_token}const{header:s,payload:o,signature:a,raw:{header:l,payload:c}}=Ih(r);n!=null&&n.allowExpired||qL(o.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:o,header:s,signature:a},error:null}}const d=GL(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,IL(`${l}.${c}`)))throw new vm("Invalid JWT signature");return{data:{claims:o,header:s,signature:a},error:null}}catch(r){if(He(r))return{data:null,error:r};throw r}}}Bl.nextInstanceID=0;const c3=Bl;class u3 extends c3{constructor(t){super(t)}}var d3=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(d){try{u(r.next(d))}catch(f){a(f)}}function c(d){try{u(r.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class f3{constructor(t,n,r){var s,o,a;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=gL(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:lL,realtime:uL,auth:Object.assign(Object.assign({},cL),{storageKey:u}),global:aL},f=xL(r??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=f.global.headers)!==null&&o!==void 0?o:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=f.auth)!==null&&a!==void 0?a:{},this.headers,f.global.fetch),this.fetch=pL(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new TD(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new iD(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new sL(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return d3(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:o,flowType:a,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new u3({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:a,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new WD(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const h3=(e,t,n)=>new f3(e,t,n),wm={url:"https://zcxknllsrqipcrkffdla.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpjeGtubGxzcnFpcGNya2ZmZGxhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTcxNDQwNjMsImV4cCI6MjA3MjcyMDA2M30.jeIVQhSJKVo3ZX84P-sEcVdXTjCaYXeXzPKp3ERyTak",projectId:"zcxknllsrqipcrkffdla"},q=h3(wm.url,wm.anonKey,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),rS=p.createContext(void 0);function p3({children:e}){const[t,n]=p.useState(null),[r,s]=p.useState(null),[o,a]=p.useState(!0);p.useEffect(()=>{console.log("Auth: Setting up auth state listener...");let c=!0;const{data:{subscription:u}}=q.auth.onAuthStateChange((d,f)=>{if(!c)return;console.log("Auth: Auth state changed:",d,!!f);const h=localStorage.getItem("mango_auto_login")==="true";if(f&&!h&&d==="INITIAL_SESSION"){console.log("Auth: Auto login disabled, clearing session"),setTimeout(()=>{q.auth.signOut({scope:"local"})},0);return}s(f),n((f==null?void 0:f.user)??null),a(!1)});return q.auth.getSession().then(({data:{session:d}})=>{if(!c)return;console.log("Auth: Initial session check:",!!d);const f=localStorage.getItem("mango_auto_login")==="true";if(d&&!f){console.log("Auth: Auto login disabled, clearing existing session"),q.auth.signOut({scope:"local"}),s(null),n(null),a(!1);return}s(d),n((d==null?void 0:d.user)??null),a(!1)}).catch(d=>{c&&(console.error("Auth: Error getting session:",d),a(!1))}),()=>{c=!1,u.unsubscribe()}},[]);const l=async()=>{console.log("Starting signOut process..."),s(null),n(null),a(!1),localStorage.removeItem("sb-adetmyygcdayioqvmphg-auth-token"),localStorage.removeItem("mango_auto_login");try{const{error:c}=await q.auth.signOut({scope:"local"});c?console.log("Supabase signOut error (non-critical):",c):console.log("Supabase signOut successful")}catch(c){console.log("Supabase signOut exception (non-critical):",c)}console.log("SignOut process completed")};return i.jsx(rS.Provider,{value:{user:t,session:r,loading:o,signOut:l},children:e})}function gn(){const e=p.useContext(rS);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const zw=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Uw=tj,lc=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Uw(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=t,a=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=o==null?void 0:o[u];if(d===null)return null;const h=zw(d)||zw(f);return s[u][h]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(x=>{let[g,_]=x;return Array.isArray(_)?_.includes({...o,...l}[g]):{...o,...l}[g]===_})?[...u,f,h]:u},[]);return Uw(e,a,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sS=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var g3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:a,...l},c)=>p.createElement("svg",{ref:c,...g3,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:sS("lucide",s),...l},[...a.map(([u,d])=>p.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=(e,t)=>{const n=p.forwardRef(({className:r,...s},o)=>p.createElement(x3,{ref:o,iconNode:t,className:sS(`lucide-${m3(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=ge("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=ge("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=ge("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=ge("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=ge("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=ge("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=ge("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bw=ge("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=ge("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const of=ge("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=ge("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=ge("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=ge("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=ge("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=ge("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=ge("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=ge("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=ge("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=ge("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=ge("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=ge("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=ge("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=ge("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=ge("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=ge("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=ge("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=ge("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=ge("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=ge("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=ge("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=ge("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=ge("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=ge("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=ge("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=ge("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=ge("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=ge("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=ge("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=ge("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=ge("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=ge("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=ge("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=ge("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oh=ge("Move",[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=ge("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=ge("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=ge("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=ge("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=ge("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=ge("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=ge("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=ge("Presentation",[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=ge("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=ge("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=ge("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=ge("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=ge("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=ge("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=ge("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qw=ge("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=ge("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=ge("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=ge("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=ge("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=ge("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=ge("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=ge("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=ge("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=ge("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=ge("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=ge("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Dh=768;function V3(){const[e,t]=p.useState(void 0);return p.useEffect(()=>{const n=window.matchMedia(`(max-width: ${Dh-1}px)`),r=()=>{t(window.innerWidth<Dh)};return n.addEventListener("change",r),t(window.innerWidth<Dh),()=>n.removeEventListener("change",r)},[]),!!e}const pS=lc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-sm hover:shadow-md",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-sm hover:shadow-md",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground shadow-sm hover:shadow-md",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 shadow-sm hover:shadow-md",ghost:"hover:bg-accent hover:text-accent-foreground shadow-sm hover:shadow-md",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),J=p.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},o)=>{const a=r?Tn:"button";return i.jsx(a,{className:le(pS({variant:t,size:n,className:e})),ref:o,...s})});J.displayName="Button";const Te=p.forwardRef(({className:e,type:t,...n},r)=>i.jsx("input",{type:t,className:le("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));Te.displayName="Input";var W3="Separator",Gw="horizontal",q3=["horizontal","vertical"],mS=p.forwardRef((e,t)=>{const{decorative:n,orientation:r=Gw,...s}=e,o=G3(r)?r:Gw,l=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return i.jsx(be.div,{"data-orientation":o,...l,...s,ref:t})});mS.displayName=W3;function G3(e){return q3.includes(e)}var gS=mS;const Mr=p.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},s)=>i.jsx(gS,{ref:s,decorative:n,orientation:t,className:le("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));Mr.displayName=gS.displayName;var Lh="focusScope.autoFocusOnMount",$h="focusScope.autoFocusOnUnmount",Kw={bubbles:!1,cancelable:!0},K3="FocusScope",fc=p.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...a}=e,[l,c]=p.useState(null),u=It(s),d=It(o),f=p.useRef(null),h=$e(t,g=>c(g)),m=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let g=function(w){if(m.paused||!l)return;const b=w.target;l.contains(b)?f.current=b:Ss(f.current,{select:!0})},_=function(w){if(m.paused||!l)return;const b=w.relatedTarget;b!==null&&(l.contains(b)||Ss(f.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const N of w)N.removedNodes.length>0&&Ss(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",_);const v=new MutationObserver(y);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",_),v.disconnect()}}},[r,l,m.paused]),p.useEffect(()=>{if(l){Qw.add(m);const g=document.activeElement;if(!l.contains(g)){const y=new CustomEvent(Lh,Kw);l.addEventListener(Lh,u),l.dispatchEvent(y),y.defaultPrevented||(Y3(e5(xS(l)),{select:!0}),document.activeElement===g&&Ss(l))}return()=>{l.removeEventListener(Lh,u),setTimeout(()=>{const y=new CustomEvent($h,Kw);l.addEventListener($h,d),l.dispatchEvent(y),y.defaultPrevented||Ss(g??document.body,{select:!0}),l.removeEventListener($h,d),Qw.remove(m)},0)}}},[l,u,d,m]);const x=p.useCallback(g=>{if(!n&&!r||m.paused)return;const _=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(_&&y){const v=g.currentTarget,[w,b]=Q3(v);w&&b?!g.shiftKey&&y===b?(g.preventDefault(),n&&Ss(w,{select:!0})):g.shiftKey&&y===w&&(g.preventDefault(),n&&Ss(b,{select:!0})):y===v&&g.preventDefault()}},[n,r,m.paused]);return i.jsx(be.div,{tabIndex:-1,...a,ref:h,onKeyDown:x})});fc.displayName=K3;function Y3(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ss(r,{select:t}),document.activeElement!==n)return}function Q3(e){const t=xS(e),n=Yw(t,e),r=Yw(t.reverse(),e);return[n,r]}function xS(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Yw(e,t){for(const n of e)if(!X3(n,{upTo:t}))return n}function X3(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function J3(e){return e instanceof HTMLInputElement&&"select"in e}function Ss(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&J3(e)&&t&&e.select()}}var Qw=Z3();function Z3(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Xw(e,t),e.unshift(t)},remove(t){var n;e=Xw(e,t),(n=e[0])==null||n.resume()}}}function Xw(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function e5(e){return e.filter(t=>t.tagName!=="A")}var Fh=0;function lf(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Jw()),document.body.insertAdjacentElement("beforeend",e[1]??Jw()),Fh++,()=>{Fh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Fh--}},[])}function Jw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Dr=function(){return Dr=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Dr.apply(this,arguments)};function yS(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function t5(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var xu="right-scroll-bar-position",yu="width-before-scroll-bar",n5="with-scroll-bars-hidden",r5="--removed-body-scroll-bar-size";function zh(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function s5(e,t){var n=p.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var o5=typeof window<"u"?p.useLayoutEffect:p.useEffect,Zw=new WeakMap;function i5(e,t){var n=s5(null,function(r){return e.forEach(function(s){return zh(s,r)})});return o5(function(){var r=Zw.get(n);if(r){var s=new Set(r),o=new Set(e),a=n.current;s.forEach(function(l){o.has(l)||zh(l,null)}),o.forEach(function(l){s.has(l)||zh(l,a)})}Zw.set(n,e)},[e]),n}function a5(e){return e}function l5(e,t){t===void 0&&(t=a5);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var a=t(o,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(o){for(r=!0;n.length;){var a=n;n=[],a.forEach(o)}n={push:function(l){return o(l)},filter:function(){return n}}},assignMedium:function(o){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(o),a=n}var c=function(){var d=a;a=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return s}function c5(e){e===void 0&&(e={});var t=l5(null);return t.options=Dr({async:!0,ssr:!1},e),t}var vS=function(e){var t=e.sideCar,n=yS(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,Dr({},n))};vS.isSideCarExport=!0;function u5(e,t){return e.useMedium(t),vS}var wS=c5(),Uh=function(){},cf=p.forwardRef(function(e,t){var n=p.useRef(null),r=p.useState({onScrollCapture:Uh,onWheelCapture:Uh,onTouchMoveCapture:Uh}),s=r[0],o=r[1],a=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noIsolation,x=e.inert,g=e.allowPinchZoom,_=e.as,y=_===void 0?"div":_,v=e.gapMode,w=yS(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=h,N=i5([n,t]),j=Dr(Dr({},w),s);return p.createElement(p.Fragment,null,d&&p.createElement(b,{sideCar:wS,removeScrollBar:u,shards:f,noIsolation:m,inert:x,setCallbacks:o,allowPinchZoom:!!g,lockRef:n,gapMode:v}),a?p.cloneElement(p.Children.only(l),Dr(Dr({},j),{ref:N})):p.createElement(y,Dr({},j,{className:c,ref:N}),l))});cf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};cf.classNames={fullWidth:yu,zeroRight:xu};var d5=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function f5(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=d5();return t&&e.setAttribute("nonce",t),e}function h5(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function p5(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var m5=function(){var e=0,t=null;return{add:function(n){e==0&&(t=f5())&&(h5(t,n),p5(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},g5=function(){var e=m5();return function(t,n){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},_S=function(){var e=g5(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},x5={left:0,top:0,right:0,gap:0},Bh=function(e){return parseInt(e||"",10)||0},y5=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Bh(n),Bh(r),Bh(s)]},v5=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return x5;var t=y5(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},w5=_S(),Ui="data-scroll-locked",_5=function(e,t,n,r){var s=e.left,o=e.top,a=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(n5,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Ui,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(xu,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(yu,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(xu," .").concat(xu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(yu," .").concat(yu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ui,`] {
    `).concat(r5,": ").concat(l,`px;
  }
`)},e0=function(){var e=parseInt(document.body.getAttribute(Ui)||"0",10);return isFinite(e)?e:0},b5=function(){p.useEffect(function(){return document.body.setAttribute(Ui,(e0()+1).toString()),function(){var e=e0()-1;e<=0?document.body.removeAttribute(Ui):document.body.setAttribute(Ui,e.toString())}},[])},j5=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;b5();var o=p.useMemo(function(){return v5(s)},[s]);return p.createElement(w5,{styles:_5(o,!t,s,n?"":"!important")})},Cm=!1;if(typeof window<"u")try{var Kc=Object.defineProperty({},"passive",{get:function(){return Cm=!0,!0}});window.addEventListener("test",Kc,Kc),window.removeEventListener("test",Kc,Kc)}catch{Cm=!1}var mi=Cm?{passive:!1}:!1,S5=function(e){return e.tagName==="TEXTAREA"},bS=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!S5(e)&&n[t]==="visible")},N5=function(e){return bS(e,"overflowY")},k5=function(e){return bS(e,"overflowX")},t0=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=jS(e,r);if(s){var o=SS(e,r),a=o[1],l=o[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},C5=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},E5=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},jS=function(e,t){return e==="v"?N5(t):k5(t)},SS=function(e,t){return e==="v"?C5(t):E5(t)},P5=function(e,t){return e==="h"&&t==="rtl"?-1:1},T5=function(e,t,n,r,s){var o=P5(e,window.getComputedStyle(t).direction),a=o*r,l=n.target,c=t.contains(l),u=!1,d=a>0,f=0,h=0;do{var m=SS(e,l),x=m[0],g=m[1],_=m[2],y=g-_-o*x;(x||y)&&jS(e,l)&&(f+=y,h+=x),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(u=!0),u},Yc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},n0=function(e){return[e.deltaX,e.deltaY]},r0=function(e){return e&&"current"in e?e.current:e},R5=function(e,t){return e[0]===t[0]&&e[1]===t[1]},I5=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},A5=0,gi=[];function M5(e){var t=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),s=p.useState(A5++)[0],o=p.useState(_S)[0],a=p.useRef(e);p.useEffect(function(){a.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=t5([e.lockRef.current],(e.shards||[]).map(r0),!0).filter(Boolean);return g.forEach(function(_){return _.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(g,_){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!a.current.allowPinchZoom;var y=Yc(g),v=n.current,w="deltaX"in g?g.deltaX:v[0]-y[0],b="deltaY"in g?g.deltaY:v[1]-y[1],N,j=g.target,C=Math.abs(w)>Math.abs(b)?"h":"v";if("touches"in g&&C==="h"&&j.type==="range")return!1;var R=t0(C,j);if(!R)return!0;if(R?N=C:(N=C==="v"?"h":"v",R=t0(C,j)),!R)return!1;if(!r.current&&"changedTouches"in g&&(w||b)&&(r.current=N),!N)return!0;var E=r.current||N;return T5(E,_,g,E==="h"?w:b,!0)},[]),c=p.useCallback(function(g){var _=g;if(!(!gi.length||gi[gi.length-1]!==o)){var y="deltaY"in _?n0(_):Yc(_),v=t.current.filter(function(N){return N.name===_.type&&(N.target===_.target||_.target===N.shadowParent)&&R5(N.delta,y)})[0];if(v&&v.should){_.cancelable&&_.preventDefault();return}if(!v){var w=(a.current.shards||[]).map(r0).filter(Boolean).filter(function(N){return N.contains(_.target)}),b=w.length>0?l(_,w[0]):!a.current.noIsolation;b&&_.cancelable&&_.preventDefault()}}},[]),u=p.useCallback(function(g,_,y,v){var w={name:g,delta:_,target:y,should:v,shadowParent:O5(y)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(b){return b!==w})},1)},[]),d=p.useCallback(function(g){n.current=Yc(g),r.current=void 0},[]),f=p.useCallback(function(g){u(g.type,n0(g),g.target,l(g,e.lockRef.current))},[]),h=p.useCallback(function(g){u(g.type,Yc(g),g.target,l(g,e.lockRef.current))},[]);p.useEffect(function(){return gi.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,mi),document.addEventListener("touchmove",c,mi),document.addEventListener("touchstart",d,mi),function(){gi=gi.filter(function(g){return g!==o}),document.removeEventListener("wheel",c,mi),document.removeEventListener("touchmove",c,mi),document.removeEventListener("touchstart",d,mi)}},[]);var m=e.removeScrollBar,x=e.inert;return p.createElement(p.Fragment,null,x?p.createElement(o,{styles:I5(s)}):null,m?p.createElement(j5,{gapMode:e.gapMode}):null)}function O5(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const D5=u5(wS,M5);var hc=p.forwardRef(function(e,t){return p.createElement(cf,Dr({},e,{ref:t,sideCar:D5}))});hc.classNames=cf.classNames;var L5=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},xi=new WeakMap,Qc=new WeakMap,Xc={},Hh=0,NS=function(e){return e&&(e.host||NS(e.parentNode))},$5=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=NS(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},F5=function(e,t,n,r){var s=$5(t,Array.isArray(e)?e:[e]);Xc[n]||(Xc[n]=new WeakMap);var o=Xc[n],a=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(r),x=m!==null&&m!=="false",g=(xi.get(h)||0)+1,_=(o.get(h)||0)+1;xi.set(h,g),o.set(h,_),a.push(h),g===1&&x&&Qc.set(h,!0),_===1&&h.setAttribute(n,"true"),x||h.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return d(t),l.clear(),Hh++,function(){a.forEach(function(f){var h=xi.get(f)-1,m=o.get(f)-1;xi.set(f,h),o.set(f,m),h||(Qc.has(f)||f.removeAttribute(r),Qc.delete(f)),m||f.removeAttribute(n)}),Hh--,Hh||(xi=new WeakMap,xi=new WeakMap,Qc=new WeakMap,Xc={})}},uf=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=L5(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),F5(r,s,n,"aria-hidden")):function(){return null}},Sx="Dialog",[kS,KH]=An(Sx),[z5,Nr]=kS(Sx),CS=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:a=!0}=e,l=p.useRef(null),c=p.useRef(null),[u=!1,d]=Rn({prop:r,defaultProp:s,onChange:o});return i.jsx(z5,{scope:t,triggerRef:l,contentRef:c,contentId:En(),titleId:En(),descriptionId:En(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(f=>!f),[d]),modal:a,children:n})};CS.displayName=Sx;var ES="DialogTrigger",PS=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Nr(ES,n),o=$e(t,s.triggerRef);return i.jsx(be.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Cx(s.open),...r,ref:o,onClick:ae(e.onClick,s.onOpenToggle)})});PS.displayName=ES;var Nx="DialogPortal",[U5,TS]=kS(Nx,{forceMount:void 0}),RS=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,o=Nr(Nx,t);return i.jsx(U5,{scope:t,forceMount:n,children:p.Children.map(r,a=>i.jsx(Wt,{present:n||o.open,children:i.jsx(sc,{asChild:!0,container:s,children:a})}))})};RS.displayName=Nx;var id="DialogOverlay",IS=p.forwardRef((e,t)=>{const n=TS(id,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=Nr(id,e.__scopeDialog);return o.modal?i.jsx(Wt,{present:r||o.open,children:i.jsx(B5,{...s,ref:t})}):null});IS.displayName=id;var B5=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Nr(id,n);return i.jsx(hc,{as:Tn,allowPinchZoom:!0,shards:[s.contentRef],children:i.jsx(be.div,{"data-state":Cx(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Vo="DialogContent",AS=p.forwardRef((e,t)=>{const n=TS(Vo,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=Nr(Vo,e.__scopeDialog);return i.jsx(Wt,{present:r||o.open,children:o.modal?i.jsx(H5,{...s,ref:t}):i.jsx(V5,{...s,ref:t})})});AS.displayName=Vo;var H5=p.forwardRef((e,t)=>{const n=Nr(Vo,e.__scopeDialog),r=p.useRef(null),s=$e(t,n.contentRef,r);return p.useEffect(()=>{const o=r.current;if(o)return uf(o)},[]),i.jsx(MS,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ae(e.onCloseAutoFocus,o=>{var a;o.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:ae(e.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&o.preventDefault()}),onFocusOutside:ae(e.onFocusOutside,o=>o.preventDefault())})}),V5=p.forwardRef((e,t)=>{const n=Nr(Vo,e.__scopeDialog),r=p.useRef(!1),s=p.useRef(!1);return i.jsx(MS,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,o),o.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),MS=p.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...a}=e,l=Nr(Vo,n),c=p.useRef(null),u=$e(t,c);return lf(),i.jsxs(i.Fragment,{children:[i.jsx(fc,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:i.jsx(wa,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Cx(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(W5,{titleId:l.titleId}),i.jsx(G5,{contentRef:c,descriptionId:l.descriptionId})]})]})}),kx="DialogTitle",OS=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Nr(kx,n);return i.jsx(be.h2,{id:s.titleId,...r,ref:t})});OS.displayName=kx;var DS="DialogDescription",LS=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Nr(DS,n);return i.jsx(be.p,{id:s.descriptionId,...r,ref:t})});LS.displayName=DS;var $S="DialogClose",FS=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Nr($S,n);return i.jsx(be.button,{type:"button",...r,ref:t,onClick:ae(e.onClick,()=>s.onOpenChange(!1))})});FS.displayName=$S;function Cx(e){return e?"open":"closed"}var zS="DialogTitleWarning",[YH,US]=ER(zS,{contentName:Vo,titleName:kx,docsSlug:"dialog"}),W5=({titleId:e})=>{const t=US(zS),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},q5="DialogDescriptionWarning",G5=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${US(q5).contentName}}.`;return p.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},BS=CS,K5=PS,HS=RS,df=IS,ff=AS,hf=OS,pf=LS,VS=FS;const Y5=BS,Q5=HS,WS=p.forwardRef(({className:e,...t},n)=>i.jsx(df,{className:le("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));WS.displayName=df.displayName;const X5=lc("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),qS=p.forwardRef(({side:e="right",className:t,children:n,...r},s)=>i.jsxs(Q5,{children:[i.jsx(WS,{}),i.jsxs(ff,{ref:s,className:le(X5({side:e}),t),...r,children:[n,i.jsxs(VS,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[i.jsx(no,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));qS.displayName=ff.displayName;const J5=p.forwardRef(({className:e,...t},n)=>i.jsx(hf,{ref:n,className:le("text-lg font-semibold text-foreground",e),...t}));J5.displayName=hf.displayName;const Z5=p.forwardRef(({className:e,...t},n)=>i.jsx(pf,{ref:n,className:le("text-sm text-muted-foreground",e),...t}));Z5.displayName=pf.displayName;function er({className:e,...t}){return i.jsx("div",{className:le("animate-pulse rounded-md bg-muted",e),...t})}const e$="sidebar:state",t$=60*60*24*7,n$="16rem",r$="18rem",s$="3rem",o$="b",GS=p.createContext(null);function pc(){const e=p.useContext(GS);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const KS=p.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:n,className:r,style:s,children:o,...a},l)=>{const c=V3(),[u,d]=p.useState(!1),[f,h]=p.useState(e),m=t??f,x=p.useCallback(v=>{const w=typeof v=="function"?v(m):v;n?n(w):h(w),document.cookie=`${e$}=${w}; path=/; max-age=${t$}`},[n,m]),g=p.useCallback(()=>c?d(v=>!v):x(v=>!v),[c,x,d]);p.useEffect(()=>{const v=w=>{w.key===o$&&(w.metaKey||w.ctrlKey)&&(w.preventDefault(),g())};return window.addEventListener("keydown",v),()=>window.removeEventListener("keydown",v)},[g]);const _=m?"expanded":"collapsed",y=p.useMemo(()=>({state:_,open:m,setOpen:x,isMobile:c,openMobile:u,setOpenMobile:d,toggleSidebar:g}),[_,m,x,c,u,d,g]);return i.jsx(GS.Provider,{value:y,children:i.jsx(pj,{delayDuration:0,children:i.jsx("div",{style:{"--sidebar-width":n$,"--sidebar-width-icon":s$,...s},className:le("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",r),ref:l,...a,children:o})})})});KS.displayName="SidebarProvider";const YS=p.forwardRef(({side:e="left",variant:t="sidebar",collapsible:n="offcanvas",className:r,children:s,...o},a)=>{const{isMobile:l,state:c,openMobile:u,setOpenMobile:d}=pc();return n==="none"?i.jsx("div",{className:le("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",r),ref:a,...o,children:s}):l?i.jsx(Y5,{open:u,onOpenChange:d,...o,children:i.jsx(qS,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":r$},side:e,children:i.jsx("div",{className:"flex h-full w-full flex-col",children:s})})}):i.jsxs("div",{ref:a,className:"group peer hidden md:block text-sidebar-foreground","data-state":c,"data-collapsible":c==="collapsed"?n:"","data-variant":t,"data-side":e,children:[i.jsx("div",{className:le("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),i.jsx("div",{className:le("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...o,children:i.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:s})})]})});YS.displayName="Sidebar";const QS=p.forwardRef(({className:e,onClick:t,...n},r)=>{const{toggleSidebar:s}=pc();return i.jsxs(J,{ref:r,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:le("h-7 w-7",e),onClick:o=>{t==null||t(o),s()},...n,children:[i.jsx(O3,{}),i.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});QS.displayName="SidebarTrigger";const i$=p.forwardRef(({className:e,...t},n)=>{const{toggleSidebar:r}=pc();return i.jsx("button",{ref:n,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:le("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});i$.displayName="SidebarRail";const XS=p.forwardRef(({className:e,...t},n)=>i.jsx("main",{ref:n,className:le("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));XS.displayName="SidebarInset";const a$=p.forwardRef(({className:e,...t},n)=>i.jsx(Te,{ref:n,"data-sidebar":"input",className:le("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));a$.displayName="SidebarInput";const JS=p.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,"data-sidebar":"header",className:le("flex flex-col gap-2 p-2",e),...t}));JS.displayName="SidebarHeader";const ZS=p.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,"data-sidebar":"footer",className:le("flex flex-col gap-2 p-2",e),...t}));ZS.displayName="SidebarFooter";const l$=p.forwardRef(({className:e,...t},n)=>i.jsx(Mr,{ref:n,"data-sidebar":"separator",className:le("mx-2 w-auto bg-sidebar-border",e),...t}));l$.displayName="SidebarSeparator";const eN=p.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,"data-sidebar":"content",className:le("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));eN.displayName="SidebarContent";const Em=p.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,"data-sidebar":"group",className:le("relative flex w-full min-w-0 flex-col p-2",e),...t}));Em.displayName="SidebarGroup";const Pm=p.forwardRef(({className:e,asChild:t=!1,...n},r)=>{const s=t?Tn:"div";return i.jsx(s,{ref:r,"data-sidebar":"group-label",className:le("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...n})});Pm.displayName="SidebarGroupLabel";const c$=p.forwardRef(({className:e,asChild:t=!1,...n},r)=>{const s=t?Tn:"button";return i.jsx(s,{ref:r,"data-sidebar":"group-action",className:le("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...n})});c$.displayName="SidebarGroupAction";const Tm=p.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,"data-sidebar":"group-content",className:le("w-full text-sm",e),...t}));Tm.displayName="SidebarGroupContent";const Rm=p.forwardRef(({className:e,...t},n)=>i.jsx("ul",{ref:n,"data-sidebar":"menu",className:le("flex w-full min-w-0 flex-col gap-1",e),...t}));Rm.displayName="SidebarMenu";const Im=p.forwardRef(({className:e,...t},n)=>i.jsx("li",{ref:n,"data-sidebar":"menu-item",className:le("group/menu-item relative",e),...t}));Im.displayName="SidebarMenuItem";const u$=lc("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),Am=p.forwardRef(({asChild:e=!1,isActive:t=!1,variant:n="default",size:r="default",tooltip:s,className:o,...a},l)=>{const c=e?Tn:"button",{isMobile:u,state:d}=pc(),f=i.jsx(c,{ref:l,"data-sidebar":"menu-button","data-size":r,"data-active":t,className:le(u$({variant:n,size:r}),o),...a});return s?(typeof s=="string"&&(s={children:s}),i.jsxs(C4,{children:[i.jsx(E4,{asChild:!0,children:f}),i.jsx(mj,{side:"right",align:"center",hidden:d!=="collapsed"||u,...s})]})):f});Am.displayName="SidebarMenuButton";const d$=p.forwardRef(({className:e,asChild:t=!1,showOnHover:n=!1,...r},s)=>{const o=t?Tn:"button";return i.jsx(o,{ref:s,"data-sidebar":"menu-action",className:le("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",n&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...r})});d$.displayName="SidebarMenuAction";const f$=p.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,"data-sidebar":"menu-badge",className:le("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));f$.displayName="SidebarMenuBadge";const h$=p.forwardRef(({className:e,showIcon:t=!1,...n},r)=>{const s=p.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return i.jsxs("div",{ref:r,"data-sidebar":"menu-skeleton",className:le("rounded-md h-8 flex gap-2 px-2 items-center",e),...n,children:[t&&i.jsx(er,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),i.jsx(er,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":s}})]})});h$.displayName="SidebarMenuSkeleton";const p$=p.forwardRef(({className:e,...t},n)=>i.jsx("ul",{ref:n,"data-sidebar":"menu-sub",className:le("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));p$.displayName="SidebarMenuSub";const m$=p.forwardRef(({...e},t)=>i.jsx("li",{ref:t,...e}));m$.displayName="SidebarMenuSubItem";const g$=p.forwardRef(({asChild:e=!1,size:t="md",isActive:n,className:r,...s},o)=>{const a=e?Tn:"a";return i.jsx(a,{ref:o,"data-sidebar":"menu-sub-button","data-size":t,"data-active":n,className:le("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",r),...s})});g$.displayName="SidebarMenuSubButton";const x$="/assets/mango-logo-OapeC_0d.png",y$=[{title:"",url:"/",icon:bx},{title:" ",url:"/generate",icon:rn},{title:"  v2",url:"/generate-v2/upload",icon:rn},{title:"  v2",url:"/generate-v2/generate",icon:rn},{title:" ",url:"/generate-v2/edit",icon:Nm},{title:"",url:"/gallery",icon:C3},{title:" ",url:"/history",icon:lS},{title:" ",url:"/settings",icon:Nm}],v$=[{title:" ",url:"/support",icon:aS},{title:"",url:"/billing",icon:pl}];function w$(){const{state:e}=pc(),n=Yn().pathname,r=o=>n===o,s=o=>o?"bg-primary/10 text-primary font-medium border-r-2 border-primary":"hover:bg-accent/50";return i.jsxs(YS,{className:"border-r border-border/40",children:[i.jsx(JS,{className:"p-6 border-b border-border/40",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 flex items-center justify-center flex-shrink-0",children:i.jsx("img",{src:x$,alt:"MangoFactory Logo",className:"w-full h-full object-contain"})}),e==="expanded"&&i.jsx("div",{children:i.jsx("h1",{className:"font-gilroy font-bold text-lg text-foreground",children:"MangoFactory"})})]})}),i.jsxs(eN,{className:"px-3 py-4",children:[i.jsxs(Em,{children:[i.jsx(Pm,{children:" "}),i.jsx(Tm,{children:i.jsx(Rm,{children:y$.map(o=>i.jsx(Im,{children:i.jsx(Am,{asChild:!0,className:s(r(o.url)),children:i.jsxs(Ch,{to:o.url,className:"flex items-center gap-3 px-3 py-2 rounded-lg transition-all",children:[i.jsx(o.icon,{className:"h-4 w-4"}),e==="expanded"&&i.jsx("span",{children:o.title})]})})},o.title))})})]}),i.jsxs(Em,{className:"mt-8",children:[i.jsx(Pm,{children:""}),i.jsx(Tm,{children:i.jsx(Rm,{children:v$.map(o=>i.jsx(Im,{children:i.jsx(Am,{asChild:!0,className:s(r(o.url)),children:i.jsxs(Ch,{to:o.url,className:"flex items-center gap-3 px-3 py-2 rounded-lg transition-all",children:[i.jsx(o.icon,{className:"h-4 w-4"}),e==="expanded"&&i.jsx("span",{children:o.title})]})})},o.title))})})]})]}),e==="expanded"&&i.jsx(ZS,{className:"p-4 border-t border-border/40",children:i.jsxs("div",{className:"mf-premium-upgrade-container",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"w-6 h-6 bg-white/20 rounded-full flex items-center justify-center",children:i.jsx(rn,{className:"h-3 w-3 text-white"})}),i.jsx("span",{className:"text-sm font-medium text-white",children:" "})]}),i.jsx("p",{className:"text-xs text-white/80 mb-3",children:"     !"}),i.jsx(Ch,{to:"/billing",className:"block w-full",children:i.jsx("button",{className:"mf-premium-upgrade-button",children:""})})]})})]})}function _$(e,t=[]){let n=[];function r(o,a){const l=p.createContext(a),c=n.length;n=[...n,a];function u(f){const{scope:h,children:m,...x}=f,g=(h==null?void 0:h[e][c])||l,_=p.useMemo(()=>x,Object.values(x));return i.jsx(g.Provider,{value:_,children:m})}function d(f,h){const m=(h==null?void 0:h[e][c])||l,x=p.useContext(m);if(x)return x;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const s=()=>{const o=n.map(a=>p.createContext(a));return function(l){const c=(l==null?void 0:l[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,b$(s,...t)]}function b$(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}function mc(e){const t=e+"CollectionProvider",[n,r]=_$(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=m=>{const{scope:x,children:g}=m,_=re.useRef(null),y=re.useRef(new Map).current;return i.jsx(s,{scope:x,itemMap:y,collectionRef:_,children:g})};a.displayName=t;const l=e+"CollectionSlot",c=re.forwardRef((m,x)=>{const{scope:g,children:_}=m,y=o(l,g),v=$e(x,y.collectionRef);return i.jsx(Tn,{ref:v,children:_})});c.displayName=l;const u=e+"CollectionItemSlot",d="data-radix-collection-item",f=re.forwardRef((m,x)=>{const{scope:g,children:_,...y}=m,v=re.useRef(null),w=$e(x,v),b=o(u,g);return re.useEffect(()=>(b.itemMap.set(v,{ref:v,...y}),()=>void b.itemMap.delete(v))),i.jsx(Tn,{[d]:"",ref:w,children:_})});f.displayName=u;function h(m){const x=o(e+"CollectionConsumer",m);return re.useCallback(()=>{const _=x.collectionRef.current;if(!_)return[];const y=Array.from(_.querySelectorAll(`[${d}]`));return Array.from(x.itemMap.values()).sort((b,N)=>y.indexOf(b.ref.current)-y.indexOf(N.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:a,Slot:c,ItemSlot:f},h,r]}var j$=p.createContext(void 0);function Xo(e){const t=p.useContext(j$);return e||t||"ltr"}function S$(e,t=[]){let n=[];function r(o,a){const l=p.createContext(a),c=n.length;n=[...n,a];function u(f){const{scope:h,children:m,...x}=f,g=(h==null?void 0:h[e][c])||l,_=p.useMemo(()=>x,Object.values(x));return i.jsx(g.Provider,{value:_,children:m})}function d(f,h){const m=(h==null?void 0:h[e][c])||l,x=p.useContext(m);if(x)return x;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const s=()=>{const o=n.map(a=>p.createContext(a));return function(l){const c=(l==null?void 0:l[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,N$(s,...t)]}function N$(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var Vh="rovingFocusGroup.onEntryFocus",k$={bubbles:!1,cancelable:!0},mf="RovingFocusGroup",[Mm,tN,C$]=mc(mf),[E$,gf]=S$(mf,[C$]),[P$,T$]=E$(mf),nN=p.forwardRef((e,t)=>i.jsx(Mm.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(Mm.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(R$,{...e,ref:t})})}));nN.displayName=mf;var R$=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=p.useRef(null),m=$e(t,h),x=Xo(o),[g=null,_]=Rn({prop:a,defaultProp:l,onChange:c}),[y,v]=p.useState(!1),w=It(u),b=tN(n),N=p.useRef(!1),[j,C]=p.useState(0);return p.useEffect(()=>{const R=h.current;if(R)return R.addEventListener(Vh,w),()=>R.removeEventListener(Vh,w)},[w]),i.jsx(P$,{scope:n,orientation:r,dir:x,loop:s,currentTabStopId:g,onItemFocus:p.useCallback(R=>_(R),[_]),onItemShiftTab:p.useCallback(()=>v(!0),[]),onFocusableItemAdd:p.useCallback(()=>C(R=>R+1),[]),onFocusableItemRemove:p.useCallback(()=>C(R=>R-1),[]),children:i.jsx(be.div,{tabIndex:y||j===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:ae(e.onMouseDown,()=>{N.current=!0}),onFocus:ae(e.onFocus,R=>{const E=!N.current;if(R.target===R.currentTarget&&E&&!y){const T=new CustomEvent(Vh,k$);if(R.currentTarget.dispatchEvent(T),!T.defaultPrevented){const D=b().filter(M=>M.focusable),O=D.find(M=>M.active),z=D.find(M=>M.id===g),A=[O,z,...D].filter(Boolean).map(M=>M.ref.current);oN(A,d)}}N.current=!1}),onBlur:ae(e.onBlur,()=>v(!1))})})}),rN="RovingFocusGroupItem",sN=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,...a}=e,l=En(),c=o||l,u=T$(rN,n),d=u.currentTabStopId===c,f=tN(n),{onFocusableItemAdd:h,onFocusableItemRemove:m}=u;return p.useEffect(()=>{if(r)return h(),()=>m()},[r,h,m]),i.jsx(Mm.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:i.jsx(be.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...a,ref:t,onMouseDown:ae(e.onMouseDown,x=>{r?u.onItemFocus(c):x.preventDefault()}),onFocus:ae(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:ae(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){u.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const g=M$(x,u.orientation,u.dir);if(g!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let y=f().filter(v=>v.focusable).map(v=>v.ref.current);if(g==="last")y.reverse();else if(g==="prev"||g==="next"){g==="prev"&&y.reverse();const v=y.indexOf(x.currentTarget);y=u.loop?O$(y,v+1):y.slice(v+1)}setTimeout(()=>oN(y))}})})})});sN.displayName=rN;var I$={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function A$(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function M$(e,t,n){const r=A$(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return I$[r]}function oN(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function O$(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var iN=nN,aN=sN,Om=["Enter"," "],D$=["ArrowDown","PageUp","Home"],lN=["ArrowUp","PageDown","End"],L$=[...D$,...lN],$$={ltr:[...Om,"ArrowRight"],rtl:[...Om,"ArrowLeft"]},F$={ltr:["ArrowLeft"],rtl:["ArrowRight"]},gc="Menu",[Wl,z$,U$]=mc(gc),[Jo,cN]=An(gc,[U$,io,gf]),xf=io(),uN=gf(),[B$,Zo]=Jo(gc),[H$,xc]=Jo(gc),dN=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:o,modal:a=!0}=e,l=xf(t),[c,u]=p.useState(null),d=p.useRef(!1),f=It(o),h=Xo(s);return p.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),i.jsx($d,{...l,children:i.jsx(B$,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:u,children:i.jsx(H$,{scope:t,onClose:p.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:a,children:r})})})};dN.displayName=gc;var V$="MenuAnchor",Ex=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=xf(n);return i.jsx(rc,{...s,...r,ref:t})});Ex.displayName=V$;var Px="MenuPortal",[W$,fN]=Jo(Px,{forceMount:void 0}),hN=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,o=Zo(Px,t);return i.jsx(W$,{scope:t,forceMount:n,children:i.jsx(Wt,{present:n||o.open,children:i.jsx(sc,{asChild:!0,container:s,children:r})})})};hN.displayName=Px;var rr="MenuContent",[q$,Tx]=Jo(rr),pN=p.forwardRef((e,t)=>{const n=fN(rr,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,o=Zo(rr,e.__scopeMenu),a=xc(rr,e.__scopeMenu);return i.jsx(Wl.Provider,{scope:e.__scopeMenu,children:i.jsx(Wt,{present:r||o.open,children:i.jsx(Wl.Slot,{scope:e.__scopeMenu,children:a.modal?i.jsx(G$,{...s,ref:t}):i.jsx(K$,{...s,ref:t})})})})}),G$=p.forwardRef((e,t)=>{const n=Zo(rr,e.__scopeMenu),r=p.useRef(null),s=$e(t,r);return p.useEffect(()=>{const o=r.current;if(o)return uf(o)},[]),i.jsx(Rx,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ae(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),K$=p.forwardRef((e,t)=>{const n=Zo(rr,e.__scopeMenu);return i.jsx(Rx,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Rx=p.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:x,...g}=e,_=Zo(rr,n),y=xc(rr,n),v=xf(n),w=uN(n),b=z$(n),[N,j]=p.useState(null),C=p.useRef(null),R=$e(t,C,_.onContentChange),E=p.useRef(0),T=p.useRef(""),D=p.useRef(0),O=p.useRef(null),z=p.useRef("right"),W=p.useRef(0),A=x?hc:p.Fragment,M=x?{as:Tn,allowPinchZoom:!0}:void 0,G=I=>{var ue,Y;const S=T.current+I,H=b().filter(Q=>!Q.disabled),te=document.activeElement,k=(ue=H.find(Q=>Q.ref.current===te))==null?void 0:ue.textValue,de=H.map(Q=>Q.textValue),ve=iF(de,S,k),ce=(Y=H.find(Q=>Q.textValue===ve))==null?void 0:Y.ref.current;(function Q(ne){T.current=ne,window.clearTimeout(E.current),ne!==""&&(E.current=window.setTimeout(()=>Q(""),1e3))})(S),ce&&setTimeout(()=>ce.focus())};p.useEffect(()=>()=>window.clearTimeout(E.current),[]),lf();const P=p.useCallback(I=>{var H,te;return z.current===((H=O.current)==null?void 0:H.side)&&lF(I,(te=O.current)==null?void 0:te.area)},[]);return i.jsx(q$,{scope:n,searchRef:T,onItemEnter:p.useCallback(I=>{P(I)&&I.preventDefault()},[P]),onItemLeave:p.useCallback(I=>{var S;P(I)||((S=C.current)==null||S.focus(),j(null))},[P]),onTriggerLeave:p.useCallback(I=>{P(I)&&I.preventDefault()},[P]),pointerGraceTimerRef:D,onPointerGraceIntentChange:p.useCallback(I=>{O.current=I},[]),children:i.jsx(A,{...M,children:i.jsx(fc,{asChild:!0,trapped:s,onMountAutoFocus:ae(o,I=>{var S;I.preventDefault(),(S=C.current)==null||S.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:i.jsx(wa,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:i.jsx(iN,{asChild:!0,...w,dir:y.dir,orientation:"vertical",loop:r,currentTabStopId:N,onCurrentTabStopIdChange:j,onEntryFocus:ae(c,I=>{y.isUsingKeyboardRef.current||I.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(Fd,{role:"menu","aria-orientation":"vertical","data-state":TN(_.open),"data-radix-menu-content":"",dir:y.dir,...v,...g,ref:R,style:{outline:"none",...g.style},onKeyDown:ae(g.onKeyDown,I=>{const H=I.target.closest("[data-radix-menu-content]")===I.currentTarget,te=I.ctrlKey||I.altKey||I.metaKey,k=I.key.length===1;H&&(I.key==="Tab"&&I.preventDefault(),!te&&k&&G(I.key));const de=C.current;if(I.target!==de||!L$.includes(I.key))return;I.preventDefault();const ce=b().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);lN.includes(I.key)&&ce.reverse(),sF(ce)}),onBlur:ae(e.onBlur,I=>{I.currentTarget.contains(I.target)||(window.clearTimeout(E.current),T.current="")}),onPointerMove:ae(e.onPointerMove,ql(I=>{const S=I.target,H=W.current!==I.clientX;if(I.currentTarget.contains(S)&&H){const te=I.clientX>W.current?"right":"left";z.current=te,W.current=I.clientX}}))})})})})})})});pN.displayName=rr;var Y$="MenuGroup",Ix=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return i.jsx(be.div,{role:"group",...r,ref:t})});Ix.displayName=Y$;var Q$="MenuLabel",mN=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return i.jsx(be.div,{...r,ref:t})});mN.displayName=Q$;var ad="MenuItem",s0="menu.itemSelect",yf=p.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,o=p.useRef(null),a=xc(ad,e.__scopeMenu),l=Tx(ad,e.__scopeMenu),c=$e(t,o),u=p.useRef(!1),d=()=>{const f=o.current;if(!n&&f){const h=new CustomEvent(s0,{bubbles:!0,cancelable:!0});f.addEventListener(s0,m=>r==null?void 0:r(m),{once:!0}),N1(f,h),h.defaultPrevented?u.current=!1:a.onClose()}};return i.jsx(gN,{...s,ref:c,disabled:n,onClick:ae(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:ae(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:ae(e.onKeyDown,f=>{const h=l.searchRef.current!=="";n||h&&f.key===" "||Om.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});yf.displayName=ad;var gN=p.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...o}=e,a=Tx(ad,n),l=uN(n),c=p.useRef(null),u=$e(t,c),[d,f]=p.useState(!1),[h,m]=p.useState("");return p.useEffect(()=>{const x=c.current;x&&m((x.textContent??"").trim())},[o.children]),i.jsx(Wl.ItemSlot,{scope:n,disabled:r,textValue:s??h,children:i.jsx(aN,{asChild:!0,...l,focusable:!r,children:i.jsx(be.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:u,onPointerMove:ae(e.onPointerMove,ql(x=>{r?a.onItemLeave(x):(a.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ae(e.onPointerLeave,ql(x=>a.onItemLeave(x))),onFocus:ae(e.onFocus,()=>f(!0)),onBlur:ae(e.onBlur,()=>f(!1))})})})}),X$="MenuCheckboxItem",xN=p.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return i.jsx(bN,{scope:e.__scopeMenu,checked:n,children:i.jsx(yf,{role:"menuitemcheckbox","aria-checked":ld(n)?"mixed":n,...s,ref:t,"data-state":Mx(n),onSelect:ae(s.onSelect,()=>r==null?void 0:r(ld(n)?!0:!n),{checkForDefaultPrevented:!1})})})});xN.displayName=X$;var yN="MenuRadioGroup",[J$,Z$]=Jo(yN,{value:void 0,onValueChange:()=>{}}),vN=p.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,o=It(r);return i.jsx(J$,{scope:e.__scopeMenu,value:n,onValueChange:o,children:i.jsx(Ix,{...s,ref:t})})});vN.displayName=yN;var wN="MenuRadioItem",_N=p.forwardRef((e,t)=>{const{value:n,...r}=e,s=Z$(wN,e.__scopeMenu),o=n===s.value;return i.jsx(bN,{scope:e.__scopeMenu,checked:o,children:i.jsx(yf,{role:"menuitemradio","aria-checked":o,...r,ref:t,"data-state":Mx(o),onSelect:ae(r.onSelect,()=>{var a;return(a=s.onValueChange)==null?void 0:a.call(s,n)},{checkForDefaultPrevented:!1})})})});_N.displayName=wN;var Ax="MenuItemIndicator",[bN,eF]=Jo(Ax,{checked:!1}),jN=p.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,o=eF(Ax,n);return i.jsx(Wt,{present:r||ld(o.checked)||o.checked===!0,children:i.jsx(be.span,{...s,ref:t,"data-state":Mx(o.checked)})})});jN.displayName=Ax;var tF="MenuSeparator",SN=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return i.jsx(be.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});SN.displayName=tF;var nF="MenuArrow",NN=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=xf(n);return i.jsx(zd,{...s,...r,ref:t})});NN.displayName=nF;var rF="MenuSub",[QH,kN]=Jo(rF),tl="MenuSubTrigger",CN=p.forwardRef((e,t)=>{const n=Zo(tl,e.__scopeMenu),r=xc(tl,e.__scopeMenu),s=kN(tl,e.__scopeMenu),o=Tx(tl,e.__scopeMenu),a=p.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=o,u={__scopeMenu:e.__scopeMenu},d=p.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return p.useEffect(()=>d,[d]),p.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),i.jsx(Ex,{asChild:!0,...u,children:i.jsx(gN,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":TN(n.open),...e,ref:Ad(t,s.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ae(e.onPointerMove,ql(f=>{o.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!a.current&&(o.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:ae(e.onPointerLeave,ql(f=>{var m,x;d();const h=(m=n.content)==null?void 0:m.getBoundingClientRect();if(h){const g=(x=n.content)==null?void 0:x.dataset.side,_=g==="right",y=_?-5:5,v=h[_?"left":"right"],w=h[_?"right":"left"];o.onPointerGraceIntentChange({area:[{x:f.clientX+y,y:f.clientY},{x:v,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x:v,y:h.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(f),f.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:ae(e.onKeyDown,f=>{var m;const h=o.searchRef.current!=="";e.disabled||h&&f.key===" "||$$[r.dir].includes(f.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),f.preventDefault())})})})});CN.displayName=tl;var EN="MenuSubContent",PN=p.forwardRef((e,t)=>{const n=fN(rr,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,o=Zo(rr,e.__scopeMenu),a=xc(rr,e.__scopeMenu),l=kN(EN,e.__scopeMenu),c=p.useRef(null),u=$e(t,c);return i.jsx(Wl.Provider,{scope:e.__scopeMenu,children:i.jsx(Wt,{present:r||o.open,children:i.jsx(Wl.Slot,{scope:e.__scopeMenu,children:i.jsx(Rx,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;a.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:ae(e.onFocusOutside,d=>{d.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:ae(e.onEscapeKeyDown,d=>{a.onClose(),d.preventDefault()}),onKeyDown:ae(e.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=F$[a.dir].includes(d.key);f&&h&&(o.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});PN.displayName=EN;function TN(e){return e?"open":"closed"}function ld(e){return e==="indeterminate"}function Mx(e){return ld(e)?"indeterminate":e?"checked":"unchecked"}function sF(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function oF(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function iF(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let a=oF(e,Math.max(o,0));s.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function aF(e,t){const{x:n,y:r}=e;let s=!1;for(let o=0,a=t.length-1;o<t.length;a=o++){const l=t[o].x,c=t[o].y,u=t[a].x,d=t[a].y;c>r!=d>r&&n<(u-l)*(r-c)/(d-c)+l&&(s=!s)}return s}function lF(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return aF(n,t)}function ql(e){return t=>t.pointerType==="mouse"?e(t):void 0}var cF=dN,uF=Ex,dF=hN,fF=pN,hF=Ix,pF=mN,mF=yf,gF=xN,xF=vN,yF=_N,vF=jN,wF=SN,_F=NN,bF=CN,jF=PN,Ox="DropdownMenu",[SF,XH]=An(Ox,[cN]),xn=cN(),[NF,RN]=SF(Ox),IN=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:o,onOpenChange:a,modal:l=!0}=e,c=xn(t),u=p.useRef(null),[d=!1,f]=Rn({prop:s,defaultProp:o,onChange:a});return i.jsx(NF,{scope:t,triggerId:En(),triggerRef:u,contentId:En(),open:d,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(h=>!h),[f]),modal:l,children:i.jsx(cF,{...c,open:d,onOpenChange:f,dir:r,modal:l,children:n})})};IN.displayName=Ox;var AN="DropdownMenuTrigger",MN=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,o=RN(AN,n),a=xn(n);return i.jsx(uF,{asChild:!0,...a,children:i.jsx(be.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Ad(t,o.triggerRef),onPointerDown:ae(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(o.onOpenToggle(),o.open||l.preventDefault())}),onKeyDown:ae(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&o.onOpenToggle(),l.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});MN.displayName=AN;var kF="DropdownMenuPortal",ON=e=>{const{__scopeDropdownMenu:t,...n}=e,r=xn(t);return i.jsx(dF,{...r,...n})};ON.displayName=kF;var DN="DropdownMenuContent",LN=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=RN(DN,n),o=xn(n),a=p.useRef(!1);return i.jsx(fF,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...r,ref:t,onCloseAutoFocus:ae(e.onCloseAutoFocus,l=>{var c;a.current||(c=s.triggerRef.current)==null||c.focus(),a.current=!1,l.preventDefault()}),onInteractOutside:ae(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(a.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});LN.displayName=DN;var CF="DropdownMenuGroup",EF=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=xn(n);return i.jsx(hF,{...s,...r,ref:t})});EF.displayName=CF;var PF="DropdownMenuLabel",$N=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=xn(n);return i.jsx(pF,{...s,...r,ref:t})});$N.displayName=PF;var TF="DropdownMenuItem",FN=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=xn(n);return i.jsx(mF,{...s,...r,ref:t})});FN.displayName=TF;var RF="DropdownMenuCheckboxItem",zN=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=xn(n);return i.jsx(gF,{...s,...r,ref:t})});zN.displayName=RF;var IF="DropdownMenuRadioGroup",AF=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=xn(n);return i.jsx(xF,{...s,...r,ref:t})});AF.displayName=IF;var MF="DropdownMenuRadioItem",UN=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=xn(n);return i.jsx(yF,{...s,...r,ref:t})});UN.displayName=MF;var OF="DropdownMenuItemIndicator",BN=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=xn(n);return i.jsx(vF,{...s,...r,ref:t})});BN.displayName=OF;var DF="DropdownMenuSeparator",HN=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=xn(n);return i.jsx(wF,{...s,...r,ref:t})});HN.displayName=DF;var LF="DropdownMenuArrow",$F=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=xn(n);return i.jsx(_F,{...s,...r,ref:t})});$F.displayName=LF;var FF="DropdownMenuSubTrigger",VN=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=xn(n);return i.jsx(bF,{...s,...r,ref:t})});VN.displayName=FF;var zF="DropdownMenuSubContent",WN=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=xn(n);return i.jsx(jF,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});WN.displayName=zF;var UF=IN,BF=MN,HF=ON,qN=LN,GN=$N,KN=FN,YN=zN,QN=UN,XN=BN,JN=HN,ZN=VN,ek=WN;const tk=UF,nk=BF,VF=p.forwardRef(({className:e,inset:t,children:n,...r},s)=>i.jsxs(ZN,{ref:s,className:le("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,i.jsx(af,{className:"ml-auto h-4 w-4"})]}));VF.displayName=ZN.displayName;const WF=p.forwardRef(({className:e,...t},n)=>i.jsx(ek,{ref:n,className:le("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));WF.displayName=ek.displayName;const Dx=p.forwardRef(({className:e,sideOffset:t=4,...n},r)=>i.jsx(HF,{children:i.jsx(qN,{ref:r,sideOffset:t,className:le("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Dx.displayName=qN.displayName;const Bi=p.forwardRef(({className:e,inset:t,...n},r)=>i.jsx(KN,{ref:r,className:le("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));Bi.displayName=KN.displayName;const qF=p.forwardRef(({className:e,children:t,checked:n,...r},s)=>i.jsxs(YN,{ref:s,className:le("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(XN,{children:i.jsx(dc,{className:"h-4 w-4"})})}),t]}));qF.displayName=YN.displayName;const GF=p.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(QN,{ref:r,className:le("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(XN,{children:i.jsx(_3,{className:"h-2 w-2 fill-current"})})}),t]}));GF.displayName=QN.displayName;const KF=p.forwardRef(({className:e,inset:t,...n},r)=>i.jsx(GN,{ref:r,className:le("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));KF.displayName=GN.displayName;const rk=p.forwardRef(({className:e,...t},n)=>i.jsx(JN,{ref:n,className:le("-mx-1 my-1 h-px bg-muted",e),...t}));rk.displayName=JN.displayName;function sk({currentPhotoPath:e,altText:t}){const[n,r]=p.useState("/placeholder.svg"),[s,o]=p.useState(!0);return p.useEffect(()=>{if(!e){r("/placeholder.svg"),o(!1);return}return(async()=>{try{o(!0);let l=e;e.includes(".s3.ap-northeast-2.amazonaws.com/")&&(l=e.split(".s3.ap-northeast-2.amazonaws.com/")[1]||e);const{data:{session:c}}=await q.auth.getSession();if(!c)throw new Error("Not authenticated");const{data:u,error:d}=await q.functions.invoke("secure-download",{body:{filePath:l,fileType:"personal-photo"},headers:{Authorization:`Bearer ${c.access_token}`}});if(d)throw console.error("Error fetching secure image:",d),d;if(u.success&&u.downloadUrl){const f=await fetch(u.downloadUrl);if(!f.ok)throw new Error(`Failed to fetch image: ${f.status}`);const h=await f.blob(),m=URL.createObjectURL(h);r(m),console.log("Profile image loaded successfully via secure download")}else throw new Error(u.error||"Failed to get download URL")}catch(l){console.error("Failed to load profile image:",l),r("/placeholder.svg")}finally{o(!1)}})(),()=>{n&&n.startsWith("blob:")&&URL.revokeObjectURL(n)}},[e]),s?i.jsx("div",{className:"w-full h-full bg-muted animate-pulse flex items-center justify-center",children:i.jsx("div",{className:"text-xs text-muted-foreground",children:"Loading..."})}):i.jsx("img",{src:n,alt:t,className:"w-full h-full object-cover",onError:a=>{console.error("Profile image failed to display"),a.currentTarget.src="/placeholder.svg"}})}function In({children:e}){var u;const{user:t,signOut:n}=gn(),r=Qt(),[s,o]=p.useState("");p.useEffect(()=>{(async()=>{if(t)try{const{data:f,error:h}=await q.from("teacher_info").select("personal_photo_path").eq("user_id",t.id).maybeSingle();if(h){console.error("   :",h);return}f!=null&&f.personal_photo_path&&o(f.personal_photo_path)}catch(f){console.error("   :",f)}})()},[t]);const a=async()=>{await n()},l=()=>{r("/settings?tab=account")},c=()=>{r("/settings?tab=materials")};return i.jsx(KS,{children:i.jsxs("div",{className:"min-h-screen flex w-full",children:[i.jsx(w$,{}),i.jsxs(XS,{children:[i.jsxs("header",{className:"flex h-16 items-center justify-between px-6 border-b border-border/40 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:[i.jsx("div",{className:"flex items-center gap-4",children:i.jsx(QS,{})}),i.jsx("div",{className:"flex items-center gap-3",children:t?i.jsxs(tk,{children:[i.jsx(nk,{asChild:!0,children:i.jsxs(J,{variant:"ghost",className:"gap-2 h-10",children:[s?i.jsx("div",{className:"w-6 h-6 rounded-full overflow-hidden flex-shrink-0",children:i.jsx(sk,{currentPhotoPath:s,altText:" "})}):i.jsx(pl,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:((u=t==null?void 0:t.user_metadata)==null?void 0:u.full_name)||(t==null?void 0:t.email)||""}),i.jsx(of,{className:"h-4 w-4"})]})}),i.jsxs(Dx,{align:"end",className:"w-56",children:[i.jsxs(Bi,{onClick:l,children:[i.jsx(pl,{className:"h-4 w-4 mr-2"}),""]}),i.jsxs(Bi,{onClick:c,children:[i.jsx(oS,{className:"h-4 w-4 mr-2"})," "]}),i.jsx(rk,{}),i.jsxs(Bi,{onClick:a,children:[i.jsx(R3,{className:"h-4 w-4 mr-2"}),""]})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs(J,{variant:"ghost",size:"sm",className:"gap-2",onClick:()=>r("/auth"),children:[i.jsx(pl,{className:"h-4 w-4"}),""]}),i.jsx(J,{className:"mf-button-primary text-sm",onClick:()=>r("/auth"),children:""})]})})]}),i.jsx("main",{className:"flex-1",children:e})]})]})})}const je=p.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:le("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));je.displayName="Card";const Ie=p.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:le("flex flex-col space-y-1.5 p-6",e),...t}));Ie.displayName="CardHeader";const De=p.forwardRef(({className:e,...t},n)=>i.jsx("h3",{ref:n,className:le("text-2xl font-semibold leading-none tracking-tight",e),...t}));De.displayName="CardTitle";const rt=p.forwardRef(({className:e,...t},n)=>i.jsx("p",{ref:n,className:le("text-sm text-muted-foreground",e),...t}));rt.displayName="CardDescription";const Ne=p.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:le("p-6 pt-0",e),...t}));Ne.displayName="CardContent";const YF=p.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:le("flex items-center p-6 pt-0",e),...t}));YF.displayName="CardFooter";const QF=lc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Le({className:e,variant:t,...n}){return i.jsx("div",{className:le(QF({variant:t}),e),...n})}const XF="/assets/hero-illustration-EVLFHyDI.jpg";function JF(){const e=Qt(),{user:t}=gn(),n=()=>{e(t?"/generate":"/auth")},r=[{icon:iS,title:"AI  ",description:"      AI  ."},{icon:S3,title:" ",description:"         ."},{icon:H3,title:" ",description:"       ."},{icon:rn,title:" ",description:", PPT,       ."}],s=[{name:"",price:"0",period:"/",description:"    ",features:[" 5  ","  "," "," "],popular:!1,buttonText:" "},{name:"",price:"29,000",period:"/",description:"    ",features:["  "," "," AI ","  ","   "],popular:!0,buttonText:" "},{name:"",price:"",period:"",description:"   ",features:["  ","  "," ","  "," "],popular:!1,buttonText:""}];return i.jsxs("div",{className:"w-full",children:[i.jsx("section",{className:"mf-hero-gradient relative px-6 py-20 lg:py-32",children:i.jsx("div",{className:"container mx-auto max-w-6xl",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[i.jsxs("div",{className:"space-y-8 animate-fade-in",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs(Le,{variant:"secondary",className:"w-fit",children:[i.jsx(rn,{className:"w-3 h-3 mr-1"}),"AI    "]}),i.jsxs("h1",{className:"text-5xl lg:text-7xl font-bold leading-tight",children:[i.jsx("span",{className:"text-foreground",children:""})," ",i.jsx("span",{className:"bg-gradient-to-r from-primary to-primary-hover bg-clip-text text-transparent",children:" "})," ",i.jsx("span",{className:"text-foreground",children:" AI "})]}),i.jsx("p",{className:"text-xl text-muted-foreground max-w-md",children:"    AI  .        ."})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[i.jsxs(J,{size:"lg",className:"mf-button-primary group",onClick:n,children:["  ",i.jsx(us,{className:"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform"})]}),i.jsx(J,{variant:"outline",size:"lg",className:"mf-button-white",onClick:n,children:" "})]}),i.jsxs("div",{className:"flex items-center gap-6 text-base text-muted-foreground",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(es,{className:"w-4 h-4 text-success"}),"  "]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(es,{className:"w-4 h-4 text-success"}),"  "]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(es,{className:"w-4 h-4 text-success"}),"  "]})]})]}),i.jsx("div",{className:"relative animate-float",children:i.jsx("img",{src:XF,alt:"MangoFactory AI  ",className:"w-full h-auto rounded-[var(--radius-lg)] mf-soft-shadow"})})]})})}),i.jsx("section",{className:"px-6 py-20 bg-background",children:i.jsxs("div",{className:"container mx-auto max-w-6xl",children:[i.jsxs("div",{className:"text-center mb-16 animate-slide-up",children:[i.jsx(Le,{variant:"outline",className:"mb-4",children:" "}),i.jsx("h2",{className:"text-4xl lg:text-5xl font-bold mb-4",children:"MangoFactory  "}),i.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"    AI      ."})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:r.map((o,a)=>i.jsxs(je,{className:"mf-card mf-hover-lift",style:{animationDelay:`${a*.1}s`},children:[i.jsxs(Ie,{className:"pb-4",children:[i.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-[var(--radius)] flex items-center justify-center mb-4",children:i.jsx(o.icon,{className:"w-6 h-6 text-primary"})}),i.jsx(De,{className:"text-xl",children:o.title})]}),i.jsx(Ne,{children:i.jsx(rt,{className:"text-base",children:o.description})})]},o.title))})]})}),i.jsx("section",{className:"px-6 py-20 bg-secondary/30",children:i.jsxs("div",{className:"container mx-auto max-w-6xl",children:[i.jsxs("div",{className:"text-center mb-16",children:[i.jsx(Le,{variant:"outline",className:"mb-4",children:""}),i.jsx("h2",{className:"text-4xl lg:text-5xl font-bold mb-4",children:"   "}),i.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:" ,      ."})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:s.map((o,a)=>i.jsxs(je,{className:`mf-card relative ${o.popular?"mf-mango-border scale-105":""}`,style:{animationDelay:`${a*.1}s`},children:[o.popular&&i.jsxs(Le,{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 mf-mango-badge",children:[i.jsx(hS,{className:"w-3 h-3 mr-1"}),""]}),i.jsxs(Ie,{className:"text-center pb-8",children:[i.jsx(De,{className:"text-2xl",children:o.name}),i.jsxs("div",{className:"mt-4",children:[i.jsx("span",{className:"text-4xl font-bold",children:o.price}),i.jsx("span",{className:"text-muted-foreground",children:o.period})]}),i.jsx(rt,{className:"mt-2",children:o.description})]}),i.jsxs(Ne,{className:"space-y-6",children:[i.jsx("ul",{className:"space-y-3",children:o.features.map(l=>i.jsxs("li",{className:"flex items-center gap-3",children:[i.jsx(es,{className:"w-4 h-4 text-success flex-shrink-0"}),i.jsx("span",{className:"text-base",children:l})]},l))}),i.jsx(J,{className:`w-full ${o.popular?"mf-mango-button":"mf-button-primary"}`,size:"lg",onClick:()=>{o.buttonText===" "?n():o.buttonText===" "?e(t?"/billing":"/auth"):o.buttonText===""&&e("/support?tab=inquiry")},children:o.buttonText})]})]},o.name))})]})}),i.jsx("section",{className:"px-6 py-20 bg-gradient-to-br from-primary/5 via-primary-light/10 to-background",children:i.jsx("div",{className:"container mx-auto max-w-4xl text-center",children:i.jsxs("div",{className:"space-y-8",children:[i.jsx("h2",{className:"text-4xl lg:text-5xl font-bold",children:"  "}),i.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"MangoFactory     ,     ."}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[i.jsxs(J,{size:"lg",className:"mf-button-primary group",onClick:n,children:["  ",i.jsx(us,{className:"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform"})]}),i.jsx(J,{variant:"outline",size:"lg",className:"mf-button-white",children:"  "})]})]})})})]})}const ZF=()=>i.jsx(In,{children:i.jsx(JF,{})});var ez="Label",ok=p.forwardRef((e,t)=>i.jsx(be.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));ok.displayName=ez;var ik=ok;const tz=lc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),fe=p.forwardRef(({className:e,...t},n)=>i.jsx(ik,{ref:n,className:le(tz(),e),...t}));fe.displayName=ik.displayName;function Gl(e,[t,n]){return Math.min(n,Math.max(t,e))}function vf(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var nz=[" ","Enter","ArrowUp","ArrowDown"],rz=[" ","Enter"],yc="Select",[wf,_f,sz]=mc(yc),[Pa,JH]=An(yc,[sz,io]),bf=io(),[oz,lo]=Pa(yc),[iz,az]=Pa(yc),ak=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:o,value:a,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:x}=e,g=bf(t),[_,y]=p.useState(null),[v,w]=p.useState(null),[b,N]=p.useState(!1),j=Xo(u),[C=!1,R]=Rn({prop:r,defaultProp:s,onChange:o}),[E,T]=Rn({prop:a,defaultProp:l,onChange:c}),D=p.useRef(null),O=_?x||!!_.closest("form"):!0,[z,W]=p.useState(new Set),A=Array.from(z).map(M=>M.props.value).join(";");return i.jsx($d,{...g,children:i.jsxs(oz,{required:m,scope:t,trigger:_,onTriggerChange:y,valueNode:v,onValueNodeChange:w,valueNodeHasChildren:b,onValueNodeHasChildrenChange:N,contentId:En(),value:E,onValueChange:T,open:C,onOpenChange:R,dir:j,triggerPointerDownPosRef:D,disabled:h,children:[i.jsx(wf.Provider,{scope:t,children:i.jsx(iz,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(M=>{W(G=>new Set(G).add(M))},[]),onNativeOptionRemove:p.useCallback(M=>{W(G=>{const P=new Set(G);return P.delete(M),P})},[]),children:n})}),O?i.jsxs(Ik,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:E,onChange:M=>T(M.target.value),disabled:h,form:x,children:[E===void 0?i.jsx("option",{value:""}):null,Array.from(z)]},A):null]})})};ak.displayName=yc;var lk="SelectTrigger",ck=p.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,o=bf(n),a=lo(lk,n),l=a.disabled||r,c=$e(t,a.onTriggerChange),u=_f(n),d=p.useRef("touch"),[f,h,m]=Ak(g=>{const _=u().filter(w=>!w.disabled),y=_.find(w=>w.value===a.value),v=Mk(_,g,y);v!==void 0&&a.onValueChange(v.value)}),x=g=>{l||(a.onOpenChange(!0),m()),g&&(a.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return i.jsx(rc,{asChild:!0,...o,children:i.jsx(be.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Rk(a.value)?"":void 0,...s,ref:c,onClick:ae(s.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&x(g)}),onPointerDown:ae(s.onPointerDown,g=>{d.current=g.pointerType;const _=g.target;_.hasPointerCapture(g.pointerId)&&_.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(x(g),g.preventDefault())}),onKeyDown:ae(s.onKeyDown,g=>{const _=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(_&&g.key===" ")&&nz.includes(g.key)&&(x(),g.preventDefault())})})})});ck.displayName=lk;var uk="SelectValue",dk=p.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:a="",...l}=e,c=lo(uk,n),{onValueNodeHasChildrenChange:u}=c,d=o!==void 0,f=$e(t,c.onValueNodeChange);return Lt(()=>{u(d)},[u,d]),i.jsx(be.span,{...l,ref:f,style:{pointerEvents:"none"},children:Rk(c.value)?i.jsx(i.Fragment,{children:a}):o})});dk.displayName=uk;var lz="SelectIcon",fk=p.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return i.jsx(be.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});fk.displayName=lz;var cz="SelectPortal",hk=e=>i.jsx(sc,{asChild:!0,...e});hk.displayName=cz;var Wo="SelectContent",pk=p.forwardRef((e,t)=>{const n=lo(Wo,e.__scopeSelect),[r,s]=p.useState();if(Lt(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?va.createPortal(i.jsx(mk,{scope:e.__scopeSelect,children:i.jsx(wf.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),o):null}return i.jsx(gk,{...e,ref:t})});pk.displayName=Wo;var fr=10,[mk,co]=Pa(Wo),uz="SelectContentImpl",gk=p.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:x,hideWhenDetached:g,avoidCollisions:_,...y}=e,v=lo(Wo,n),[w,b]=p.useState(null),[N,j]=p.useState(null),C=$e(t,ue=>b(ue)),[R,E]=p.useState(null),[T,D]=p.useState(null),O=_f(n),[z,W]=p.useState(!1),A=p.useRef(!1);p.useEffect(()=>{if(w)return uf(w)},[w]),lf();const M=p.useCallback(ue=>{const[Y,...Q]=O().map(Re=>Re.ref.current),[ne]=Q.slice(-1),xe=document.activeElement;for(const Re of ue)if(Re===xe||(Re==null||Re.scrollIntoView({block:"nearest"}),Re===Y&&N&&(N.scrollTop=0),Re===ne&&N&&(N.scrollTop=N.scrollHeight),Re==null||Re.focus(),document.activeElement!==xe))return},[O,N]),G=p.useCallback(()=>M([R,w]),[M,R,w]);p.useEffect(()=>{z&&G()},[z,G]);const{onOpenChange:P,triggerPointerDownPosRef:I}=v;p.useEffect(()=>{if(w){let ue={x:0,y:0};const Y=ne=>{var xe,Re;ue={x:Math.abs(Math.round(ne.pageX)-(((xe=I.current)==null?void 0:xe.x)??0)),y:Math.abs(Math.round(ne.pageY)-(((Re=I.current)==null?void 0:Re.y)??0))}},Q=ne=>{ue.x<=10&&ue.y<=10?ne.preventDefault():w.contains(ne.target)||P(!1),document.removeEventListener("pointermove",Y),I.current=null};return I.current!==null&&(document.addEventListener("pointermove",Y),document.addEventListener("pointerup",Q,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Y),document.removeEventListener("pointerup",Q,{capture:!0})}}},[w,P,I]),p.useEffect(()=>{const ue=()=>P(!1);return window.addEventListener("blur",ue),window.addEventListener("resize",ue),()=>{window.removeEventListener("blur",ue),window.removeEventListener("resize",ue)}},[P]);const[S,H]=Ak(ue=>{const Y=O().filter(xe=>!xe.disabled),Q=Y.find(xe=>xe.ref.current===document.activeElement),ne=Mk(Y,ue,Q);ne&&setTimeout(()=>ne.ref.current.focus())}),te=p.useCallback((ue,Y,Q)=>{const ne=!A.current&&!Q;(v.value!==void 0&&v.value===Y||ne)&&(E(ue),ne&&(A.current=!0))},[v.value]),k=p.useCallback(()=>w==null?void 0:w.focus(),[w]),de=p.useCallback((ue,Y,Q)=>{const ne=!A.current&&!Q;(v.value!==void 0&&v.value===Y||ne)&&D(ue)},[v.value]),ve=r==="popper"?Dm:xk,ce=ve===Dm?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:x,hideWhenDetached:g,avoidCollisions:_}:{};return i.jsx(mk,{scope:n,content:w,viewport:N,onViewportChange:j,itemRefCallback:te,selectedItem:R,onItemLeave:k,itemTextRefCallback:de,focusSelectedItem:G,selectedItemText:T,position:r,isPositioned:z,searchRef:S,children:i.jsx(hc,{as:Tn,allowPinchZoom:!0,children:i.jsx(fc,{asChild:!0,trapped:v.open,onMountAutoFocus:ue=>{ue.preventDefault()},onUnmountAutoFocus:ae(s,ue=>{var Y;(Y=v.trigger)==null||Y.focus({preventScroll:!0}),ue.preventDefault()}),children:i.jsx(wa,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:ue=>ue.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:i.jsx(ve,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:ue=>ue.preventDefault(),...y,...ce,onPlaced:()=>W(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:ae(y.onKeyDown,ue=>{const Y=ue.ctrlKey||ue.altKey||ue.metaKey;if(ue.key==="Tab"&&ue.preventDefault(),!Y&&ue.key.length===1&&H(ue.key),["ArrowUp","ArrowDown","Home","End"].includes(ue.key)){let ne=O().filter(xe=>!xe.disabled).map(xe=>xe.ref.current);if(["ArrowUp","End"].includes(ue.key)&&(ne=ne.slice().reverse()),["ArrowUp","ArrowDown"].includes(ue.key)){const xe=ue.target,Re=ne.indexOf(xe);ne=ne.slice(Re+1)}setTimeout(()=>M(ne)),ue.preventDefault()}})})})})})})});gk.displayName=uz;var dz="SelectItemAlignedPosition",xk=p.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,o=lo(Wo,n),a=co(Wo,n),[l,c]=p.useState(null),[u,d]=p.useState(null),f=$e(t,C=>d(C)),h=_f(n),m=p.useRef(!1),x=p.useRef(!0),{viewport:g,selectedItem:_,selectedItemText:y,focusSelectedItem:v}=a,w=p.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&u&&g&&_&&y){const C=o.trigger.getBoundingClientRect(),R=u.getBoundingClientRect(),E=o.valueNode.getBoundingClientRect(),T=y.getBoundingClientRect();if(o.dir!=="rtl"){const xe=T.left-R.left,Re=E.left-xe,Ye=C.left-Re,Ke=C.width+Ye,Je=Math.max(Ke,R.width),Z=window.innerWidth-fr,Se=Gl(Re,[fr,Math.max(fr,Z-Je)]);l.style.minWidth=Ke+"px",l.style.left=Se+"px"}else{const xe=R.right-T.right,Re=window.innerWidth-E.right-xe,Ye=window.innerWidth-C.right-Re,Ke=C.width+Ye,Je=Math.max(Ke,R.width),Z=window.innerWidth-fr,Se=Gl(Re,[fr,Math.max(fr,Z-Je)]);l.style.minWidth=Ke+"px",l.style.right=Se+"px"}const D=h(),O=window.innerHeight-fr*2,z=g.scrollHeight,W=window.getComputedStyle(u),A=parseInt(W.borderTopWidth,10),M=parseInt(W.paddingTop,10),G=parseInt(W.borderBottomWidth,10),P=parseInt(W.paddingBottom,10),I=A+M+z+P+G,S=Math.min(_.offsetHeight*5,I),H=window.getComputedStyle(g),te=parseInt(H.paddingTop,10),k=parseInt(H.paddingBottom,10),de=C.top+C.height/2-fr,ve=O-de,ce=_.offsetHeight/2,ue=_.offsetTop+ce,Y=A+M+ue,Q=I-Y;if(Y<=de){const xe=D.length>0&&_===D[D.length-1].ref.current;l.style.bottom="0px";const Re=u.clientHeight-g.offsetTop-g.offsetHeight,Ye=Math.max(ve,ce+(xe?k:0)+Re+G),Ke=Y+Ye;l.style.height=Ke+"px"}else{const xe=D.length>0&&_===D[0].ref.current;l.style.top="0px";const Ye=Math.max(de,A+g.offsetTop+(xe?te:0)+ce)+Q;l.style.height=Ye+"px",g.scrollTop=Y-de+g.offsetTop}l.style.margin=`${fr}px 0`,l.style.minHeight=S+"px",l.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[h,o.trigger,o.valueNode,l,u,g,_,y,o.dir,r]);Lt(()=>w(),[w]);const[b,N]=p.useState();Lt(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const j=p.useCallback(C=>{C&&x.current===!0&&(w(),v==null||v(),x.current=!1)},[w,v]);return i.jsx(hz,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:j,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:i.jsx(be.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});xk.displayName=dz;var fz="SelectPopperPosition",Dm=p.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=fr,...o}=e,a=bf(n);return i.jsx(Fd,{...a,...o,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Dm.displayName=fz;var[hz,Lx]=Pa(Wo,{}),Lm="SelectViewport",yk=p.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,o=co(Lm,n),a=Lx(Lm,n),l=$e(t,o.onViewportChange),c=p.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),i.jsx(wf.Slot,{scope:n,children:i.jsx(be.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ae(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=a;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const x=window.innerHeight-fr*2,g=parseFloat(f.style.minHeight),_=parseFloat(f.style.height),y=Math.max(g,_);if(y<x){const v=y+m,w=Math.min(x,v),b=v-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=b>0?b:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});yk.displayName=Lm;var vk="SelectGroup",[pz,mz]=Pa(vk),gz=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=En();return i.jsx(pz,{scope:n,id:s,children:i.jsx(be.div,{role:"group","aria-labelledby":s,...r,ref:t})})});gz.displayName=vk;var wk="SelectLabel",_k=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=mz(wk,n);return i.jsx(be.div,{id:s.id,...r,ref:t})});_k.displayName=wk;var cd="SelectItem",[xz,bk]=Pa(cd),jk=p.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...a}=e,l=lo(cd,n),c=co(cd,n),u=l.value===r,[d,f]=p.useState(o??""),[h,m]=p.useState(!1),x=$e(t,v=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,v,r,s)}),g=En(),_=p.useRef("touch"),y=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(xz,{scope:n,value:r,disabled:s,textId:g,isSelected:u,onItemTextChange:p.useCallback(v=>{f(w=>w||((v==null?void 0:v.textContent)??"").trim())},[]),children:i.jsx(wf.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:i.jsx(be.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:x,onFocus:ae(a.onFocus,()=>m(!0)),onBlur:ae(a.onBlur,()=>m(!1)),onClick:ae(a.onClick,()=>{_.current!=="mouse"&&y()}),onPointerUp:ae(a.onPointerUp,()=>{_.current==="mouse"&&y()}),onPointerDown:ae(a.onPointerDown,v=>{_.current=v.pointerType}),onPointerMove:ae(a.onPointerMove,v=>{var w;_.current=v.pointerType,s?(w=c.onItemLeave)==null||w.call(c):_.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ae(a.onPointerLeave,v=>{var w;v.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:ae(a.onKeyDown,v=>{var b;((b=c.searchRef)==null?void 0:b.current)!==""&&v.key===" "||(rz.includes(v.key)&&y(),v.key===" "&&v.preventDefault())})})})})});jk.displayName=cd;var nl="SelectItemText",Sk=p.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...o}=e,a=lo(nl,n),l=co(nl,n),c=bk(nl,n),u=az(nl,n),[d,f]=p.useState(null),h=$e(t,y=>f(y),c.onItemTextChange,y=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,y,c.value,c.disabled)}),m=d==null?void 0:d.textContent,x=p.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:g,onNativeOptionRemove:_}=u;return Lt(()=>(g(x),()=>_(x)),[g,_,x]),i.jsxs(i.Fragment,{children:[i.jsx(be.span,{id:c.textId,...o,ref:h}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?va.createPortal(o.children,a.valueNode):null]})});Sk.displayName=nl;var Nk="SelectItemIndicator",kk=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return bk(Nk,n).isSelected?i.jsx(be.span,{"aria-hidden":!0,...r,ref:t}):null});kk.displayName=Nk;var $m="SelectScrollUpButton",Ck=p.forwardRef((e,t)=>{const n=co($m,e.__scopeSelect),r=Lx($m,e.__scopeSelect),[s,o]=p.useState(!1),a=$e(t,r.onScrollButtonChange);return Lt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;o(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?i.jsx(Pk,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Ck.displayName=$m;var Fm="SelectScrollDownButton",Ek=p.forwardRef((e,t)=>{const n=co(Fm,e.__scopeSelect),r=Lx(Fm,e.__scopeSelect),[s,o]=p.useState(!1),a=$e(t,r.onScrollButtonChange);return Lt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;o(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?i.jsx(Pk,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Ek.displayName=Fm;var Pk=p.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,o=co("SelectScrollButton",n),a=p.useRef(null),l=_f(n),c=p.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),Lt(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),i.jsx(be.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:ae(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:ae(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:ae(s.onPointerLeave,()=>{c()})})}),yz="SelectSeparator",Tk=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return i.jsx(be.div,{"aria-hidden":!0,...r,ref:t})});Tk.displayName=yz;var zm="SelectArrow",vz=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=bf(n),o=lo(zm,n),a=co(zm,n);return o.open&&a.position==="popper"?i.jsx(zd,{...s,...r,ref:t}):null});vz.displayName=zm;function Rk(e){return e===""||e===void 0}var Ik=p.forwardRef((e,t)=>{const{value:n,...r}=e,s=p.useRef(null),o=$e(t,s),a=vf(n);return p.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==n&&d){const f=new Event("change",{bubbles:!0});d.call(l,n),l.dispatchEvent(f)}},[a,n]),i.jsx(ix,{asChild:!0,children:i.jsx("select",{...r,ref:o,defaultValue:n})})});Ik.displayName="BubbleSelect";function Ak(e){const t=It(e),n=p.useRef(""),r=p.useRef(0),s=p.useCallback(a=>{const l=n.current+a;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),o=p.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function Mk(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let a=wz(e,Math.max(o,0));s.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function wz(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var _z=ak,Ok=ck,bz=dk,jz=fk,Sz=hk,Dk=pk,Nz=yk,Lk=_k,$k=jk,kz=Sk,Cz=kk,Fk=Ck,zk=Ek,Uk=Tk;const Ao=_z,Mo=bz,Ks=p.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(Ok,{ref:r,className:le("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,i.jsx(jz,{asChild:!0,children:i.jsx(of,{className:"h-4 w-4 opacity-50"})})]}));Ks.displayName=Ok.displayName;const Bk=p.forwardRef(({className:e,...t},n)=>i.jsx(Fk,{ref:n,className:le("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(w3,{className:"h-4 w-4"})}));Bk.displayName=Fk.displayName;const Hk=p.forwardRef(({className:e,...t},n)=>i.jsx(zk,{ref:n,className:le("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(of,{className:"h-4 w-4"})}));Hk.displayName=zk.displayName;const Ta=p.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>i.jsx(Sz,{children:i.jsxs(Dk,{ref:s,className:le("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[i.jsx(Bk,{}),i.jsx(Nz,{className:le("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(Hk,{})]})}));Ta.displayName=Dk.displayName;const Ez=p.forwardRef(({className:e,...t},n)=>i.jsx(Lk,{ref:n,className:le("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Ez.displayName=Lk.displayName;const rs=p.forwardRef(({className:e,children:t,...n},r)=>i.jsxs($k,{ref:r,className:le("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(Cz,{children:i.jsx(dc,{className:"h-4 w-4"})})}),i.jsx(kz,{children:t})]}));rs.displayName=$k.displayName;const Pz=p.forwardRef(({className:e,...t},n)=>i.jsx(Uk,{ref:n,className:le("-mx-1 my-1 h-px bg-muted",e),...t}));Pz.displayName=Uk.displayName;const sr=p.forwardRef(({className:e,...t},n)=>i.jsx("textarea",{className:le("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));sr.displayName="Textarea";function Tz(e,t=[]){let n=[];function r(o,a){const l=p.createContext(a),c=n.length;n=[...n,a];function u(f){const{scope:h,children:m,...x}=f,g=(h==null?void 0:h[e][c])||l,_=p.useMemo(()=>x,Object.values(x));return i.jsx(g.Provider,{value:_,children:m})}function d(f,h){const m=(h==null?void 0:h[e][c])||l,x=p.useContext(m);if(x)return x;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const s=()=>{const o=n.map(a=>p.createContext(a));return function(l){const c=(l==null?void 0:l[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,Rz(s,...t)]}function Rz(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var $x="Progress",Fx=100,[Iz,ZH]=Tz($x),[Az,Mz]=Iz($x),Vk=p.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:o=Oz,...a}=e;(s||s===0)&&!o0(s)&&console.error(Dz(`${s}`,"Progress"));const l=o0(s)?s:Fx;r!==null&&!i0(r,l)&&console.error(Lz(`${r}`,"Progress"));const c=i0(r,l)?r:null,u=ud(c)?o(c,l):void 0;return i.jsx(Az,{scope:n,value:c,max:l,children:i.jsx(be.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":ud(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":Gk(c,l),"data-value":c??void 0,"data-max":l,...a,ref:t})})});Vk.displayName=$x;var Wk="ProgressIndicator",qk=p.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,s=Mz(Wk,n);return i.jsx(be.div,{"data-state":Gk(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:t})});qk.displayName=Wk;function Oz(e,t){return`${Math.round(e/t*100)}%`}function Gk(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function ud(e){return typeof e=="number"}function o0(e){return ud(e)&&!isNaN(e)&&e>0}function i0(e,t){return ud(e)&&!isNaN(e)&&e<=t&&e>=0}function Dz(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Fx}\`.`}function Lz(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Fx} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Kk=Vk,$z=qk;const qo=p.forwardRef(({className:e,value:t,...n},r)=>i.jsx(Kk,{ref:r,className:le("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:i.jsx($z,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));qo.displayName=Kk.displayName;var zx="Checkbox",[Fz,eV]=An(zx),[zz,Uz]=Fz(zx),Yk=p.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:o,required:a,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=p.useState(null),x=$e(t,b=>m(b)),g=p.useRef(!1),_=h?d||!!h.closest("form"):!0,[y=!1,v]=Rn({prop:s,defaultProp:o,onChange:u}),w=p.useRef(y);return p.useEffect(()=>{const b=h==null?void 0:h.form;if(b){const N=()=>v(w.current);return b.addEventListener("reset",N),()=>b.removeEventListener("reset",N)}},[h,v]),i.jsxs(zz,{scope:n,state:y,disabled:l,children:[i.jsx(be.button,{type:"button",role:"checkbox","aria-checked":Ys(y)?"mixed":y,"aria-required":a,"data-state":Jk(y),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:x,onKeyDown:ae(e.onKeyDown,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:ae(e.onClick,b=>{v(N=>Ys(N)?!0:!N),_&&(g.current=b.isPropagationStopped(),g.current||b.stopPropagation())})}),_&&i.jsx(Bz,{control:h,bubbles:!g.current,name:r,value:c,checked:y,required:a,disabled:l,form:d,style:{transform:"translateX(-100%)"},defaultChecked:Ys(o)?!1:o})]})});Yk.displayName=zx;var Qk="CheckboxIndicator",Xk=p.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,o=Uz(Qk,n);return i.jsx(Wt,{present:r||Ys(o.state)||o.state===!0,children:i.jsx(be.span,{"data-state":Jk(o.state),"data-disabled":o.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});Xk.displayName=Qk;var Bz=e=>{const{control:t,checked:n,bubbles:r=!0,defaultChecked:s,...o}=e,a=p.useRef(null),l=vf(n),c=Ld(t);p.useEffect(()=>{const d=a.current,f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==n&&m){const x=new Event("click",{bubbles:r});d.indeterminate=Ys(n),m.call(d,Ys(n)?!1:n),d.dispatchEvent(x)}},[l,n,r]);const u=p.useRef(Ys(n)?!1:n);return i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...o,tabIndex:-1,ref:a,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Ys(e){return e==="indeterminate"}function Jk(e){return Ys(e)?"indeterminate":e?"checked":"unchecked"}var Zk=Yk,Hz=Xk;const or=p.forwardRef(({className:e,...t},n)=>i.jsx(Zk,{ref:n,className:le("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:i.jsx(Hz,{className:le("flex items-center justify-center text-current"),children:i.jsx(dc,{className:"h-4 w-4"})})}));or.displayName=Zk.displayName;var Ux="Switch",[Vz,tV]=An(Ux),[Wz,qz]=Vz(Ux),eC=p.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:o,required:a,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=p.useState(null),x=$e(t,w=>m(w)),g=p.useRef(!1),_=h?d||!!h.closest("form"):!0,[y=!1,v]=Rn({prop:s,defaultProp:o,onChange:u});return i.jsxs(Wz,{scope:n,checked:y,disabled:l,children:[i.jsx(be.button,{type:"button",role:"switch","aria-checked":y,"aria-required":a,"data-state":rC(y),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:x,onClick:ae(e.onClick,w=>{v(b=>!b),_&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})}),_&&i.jsx(Gz,{control:h,bubbles:!g.current,name:r,value:c,checked:y,required:a,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});eC.displayName=Ux;var tC="SwitchThumb",nC=p.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=qz(tC,n);return i.jsx(be.span,{"data-state":rC(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});nC.displayName=tC;var Gz=e=>{const{control:t,checked:n,bubbles:r=!0,...s}=e,o=p.useRef(null),a=vf(n),l=Ld(t);return p.useEffect(()=>{const c=o.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(a!==n&&f){const h=new Event("click",{bubbles:r});f.call(c,n),c.dispatchEvent(h)}},[a,n,r]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:o,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function rC(e){return e?"checked":"unchecked"}var sC=eC,Kz=nC;const Bx=p.forwardRef(({className:e,...t},n)=>i.jsx(sC,{className:le("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:i.jsx(Kz,{className:le("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Bx.displayName=sC.displayName;const Hi=BS,Yz=K5,Qz=HS,oC=p.forwardRef(({className:e,...t},n)=>i.jsx(df,{ref:n,className:le("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));oC.displayName=df.displayName;const Oo=p.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(Qz,{children:[i.jsx(oC,{}),i.jsxs(ff,{ref:r,className:le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,i.jsxs(VS,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(no,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Oo.displayName=ff.displayName;const fa=({className:e,...t})=>i.jsx("div",{className:le("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});fa.displayName="DialogHeader";const iC=({className:e,...t})=>i.jsx("div",{className:le("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});iC.displayName="DialogFooter";const ha=p.forwardRef(({className:e,...t},n)=>i.jsx(hf,{ref:n,className:le("text-lg font-semibold leading-none tracking-tight",e),...t}));ha.displayName=hf.displayName;const jf=p.forwardRef(({className:e,...t},n)=>i.jsx(pf,{ref:n,className:le("text-sm text-muted-foreground",e),...t}));jf.displayName=pf.displayName;var aC=["PageUp","PageDown"],lC=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],cC={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Ra="Slider",[Um,Xz,Jz]=mc(Ra),[uC,nV]=An(Ra,[Jz]),[Zz,Sf]=uC(Ra),dC=p.forwardRef((e,t)=>{const{name:n,min:r=0,max:s=100,step:o=1,orientation:a="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[r],value:d,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:m=!1,form:x,...g}=e,_=p.useRef(new Set),y=p.useRef(0),w=a==="horizontal"?e6:t6,[b=[],N]=Rn({prop:d,defaultProp:u,onChange:D=>{var z;(z=[..._.current][y.current])==null||z.focus(),f(D)}}),j=p.useRef(b);function C(D){const O=i6(b,D);T(D,O)}function R(D){T(D,y.current)}function E(){const D=j.current[y.current];b[y.current]!==D&&h(b)}function T(D,O,{commit:z}={commit:!1}){const W=u6(o),A=d6(Math.round((D-r)/o)*o+r,W),M=Gl(A,[r,s]);N((G=[])=>{const P=s6(G,M,O);if(c6(P,c*o)){y.current=P.indexOf(M);const I=String(P)!==String(G);return I&&z&&h(P),I?P:G}else return G})}return i.jsx(Zz,{scope:e.__scopeSlider,name:n,disabled:l,min:r,max:s,valueIndexToChangeRef:y,thumbs:_.current,values:b,orientation:a,form:x,children:i.jsx(Um.Provider,{scope:e.__scopeSlider,children:i.jsx(Um.Slot,{scope:e.__scopeSlider,children:i.jsx(w,{"aria-disabled":l,"data-disabled":l?"":void 0,...g,ref:t,onPointerDown:ae(g.onPointerDown,()=>{l||(j.current=b)}),min:r,max:s,inverted:m,onSlideStart:l?void 0:C,onSlideMove:l?void 0:R,onSlideEnd:l?void 0:E,onHomeKeyDown:()=>!l&&T(r,0,{commit:!0}),onEndKeyDown:()=>!l&&T(s,b.length-1,{commit:!0}),onStepKeyDown:({event:D,direction:O})=>{if(!l){const A=aC.includes(D.key)||D.shiftKey&&lC.includes(D.key)?10:1,M=y.current,G=b[M],P=o*A*O;T(G+P,M,{commit:!0})}}})})})})});dC.displayName=Ra;var[fC,hC]=uC(Ra,{startEdge:"left",endEdge:"right",size:"width",direction:1}),e6=p.forwardRef((e,t)=>{const{min:n,max:r,dir:s,inverted:o,onSlideStart:a,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=e,[f,h]=p.useState(null),m=$e(t,w=>h(w)),x=p.useRef(),g=Xo(s),_=g==="ltr",y=_&&!o||!_&&o;function v(w){const b=x.current||f.getBoundingClientRect(),N=[0,b.width],C=Hx(N,y?[n,r]:[r,n]);return x.current=b,C(w-b.left)}return i.jsx(fC,{scope:e.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:i.jsx(pC,{dir:g,"data-orientation":"horizontal",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const b=v(w.clientX);a==null||a(b)},onSlideMove:w=>{const b=v(w.clientX);l==null||l(b)},onSlideEnd:()=>{x.current=void 0,c==null||c()},onStepKeyDown:w=>{const N=cC[y?"from-left":"from-right"].includes(w.key);u==null||u({event:w,direction:N?-1:1})}})})}),t6=p.forwardRef((e,t)=>{const{min:n,max:r,inverted:s,onSlideStart:o,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...u}=e,d=p.useRef(null),f=$e(t,d),h=p.useRef(),m=!s;function x(g){const _=h.current||d.current.getBoundingClientRect(),y=[0,_.height],w=Hx(y,m?[r,n]:[n,r]);return h.current=_,w(g-_.top)}return i.jsx(fC,{scope:e.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:i.jsx(pC,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const _=x(g.clientY);o==null||o(_)},onSlideMove:g=>{const _=x(g.clientY);a==null||a(_)},onSlideEnd:()=>{h.current=void 0,l==null||l()},onStepKeyDown:g=>{const y=cC[m?"from-bottom":"from-top"].includes(g.key);c==null||c({event:g,direction:y?-1:1})}})})}),pC=p.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:o,onHomeKeyDown:a,onEndKeyDown:l,onStepKeyDown:c,...u}=e,d=Sf(Ra,n);return i.jsx(be.span,{...u,ref:t,onKeyDown:ae(e.onKeyDown,f=>{f.key==="Home"?(a(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):aC.concat(lC).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:ae(e.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(h)?h.focus():r(f)}),onPointerMove:ae(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&s(f)}),onPointerUp:ae(e.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),o(f))})})}),mC="SliderTrack",gC=p.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=Sf(mC,n);return i.jsx(be.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...r,ref:t})});gC.displayName=mC;var Bm="SliderRange",xC=p.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=Sf(Bm,n),o=hC(Bm,n),a=p.useRef(null),l=$e(t,a),c=s.values.length,u=s.values.map(h=>vC(h,s.min,s.max)),d=c>1?Math.min(...u):0,f=100-Math.max(...u);return i.jsx(be.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...r,ref:l,style:{...e.style,[o.startEdge]:d+"%",[o.endEdge]:f+"%"}})});xC.displayName=Bm;var Hm="SliderThumb",yC=p.forwardRef((e,t)=>{const n=Xz(e.__scopeSlider),[r,s]=p.useState(null),o=$e(t,l=>s(l)),a=p.useMemo(()=>r?n().findIndex(l=>l.ref.current===r):-1,[n,r]);return i.jsx(n6,{...e,ref:o,index:a})}),n6=p.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:s,...o}=e,a=Sf(Hm,n),l=hC(Hm,n),[c,u]=p.useState(null),d=$e(t,v=>u(v)),f=c?a.form||!!c.closest("form"):!0,h=Ld(c),m=a.values[r],x=m===void 0?0:vC(m,a.min,a.max),g=o6(r,a.values.length),_=h==null?void 0:h[l.size],y=_?a6(_,x,l.direction):0;return p.useEffect(()=>{if(c)return a.thumbs.add(c),()=>{a.thumbs.delete(c)}},[c,a.thumbs]),i.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${x}% + ${y}px)`},children:[i.jsx(Um.ItemSlot,{scope:e.__scopeSlider,children:i.jsx(be.span,{role:"slider","aria-label":e["aria-label"]||g,"aria-valuemin":a.min,"aria-valuenow":m,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...o,ref:d,style:m===void 0?{display:"none"}:e.style,onFocus:ae(e.onFocus,()=>{a.valueIndexToChangeRef.current=r})})}),f&&i.jsx(r6,{name:s??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:m},r)]})});yC.displayName=Hm;var r6=e=>{const{value:t,...n}=e,r=p.useRef(null),s=vf(t);return p.useEffect(()=>{const o=r.current,a=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(a,"value").set;if(s!==t&&c){const u=new Event("input",{bubbles:!0});c.call(o,t),o.dispatchEvent(u)}},[s,t]),i.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:t})};function s6(e=[],t,n){const r=[...e];return r[n]=t,r.sort((s,o)=>s-o)}function vC(e,t,n){const o=100/(n-t)*(e-t);return Gl(o,[0,100])}function o6(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function i6(e,t){if(e.length===1)return 0;const n=e.map(s=>Math.abs(s-t)),r=Math.min(...n);return n.indexOf(r)}function a6(e,t,n){const r=e/2,o=Hx([0,50],[0,r]);return(r-o(t)*n)*n}function l6(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function c6(e,t){if(t>0){const n=l6(e);return Math.min(...n)>=t}return!0}function Hx(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function u6(e){return(String(e).split(".")[1]||"").length}function d6(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var wC=dC,f6=gC,h6=xC,p6=yC;const Vx=p.forwardRef(({className:e,...t},n)=>i.jsxs(wC,{ref:n,className:le("relative flex w-full touch-none select-none items-center",e),...t,children:[i.jsx(f6,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:i.jsx(h6,{className:"absolute h-full bg-primary"})}),i.jsx(p6,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Vx.displayName=wC.displayName;var Wx="Tabs",[m6,rV]=An(Wx,[gf]),_C=gf(),[g6,qx]=m6(Wx),bC=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Xo(l),[f,h]=Rn({prop:r,onChange:s,defaultProp:o});return i.jsx(g6,{scope:n,baseId:En(),value:f,onValueChange:h,orientation:a,dir:d,activationMode:c,children:i.jsx(be.div,{dir:d,"data-orientation":a,...u,ref:t})})});bC.displayName=Wx;var jC="TabsList",SC=p.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,o=qx(jC,n),a=_C(n);return i.jsx(iN,{asChild:!0,...a,orientation:o.orientation,dir:o.dir,loop:r,children:i.jsx(be.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});SC.displayName=jC;var NC="TabsTrigger",kC=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=e,a=qx(NC,n),l=_C(n),c=PC(a.baseId,r),u=TC(a.baseId,r),d=r===a.value;return i.jsx(aN,{asChild:!0,...l,focusable:!s,active:d,children:i.jsx(be.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:t,onMouseDown:ae(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?a.onValueChange(r):f.preventDefault()}),onKeyDown:ae(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(r)}),onFocus:ae(e.onFocus,()=>{const f=a.activationMode!=="manual";!d&&!s&&f&&a.onValueChange(r)})})})});kC.displayName=NC;var CC="TabsContent",EC=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...a}=e,l=qx(CC,n),c=PC(l.baseId,r),u=TC(l.baseId,r),d=r===l.value,f=p.useRef(d);return p.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),i.jsx(Wt,{present:s||d,children:({present:h})=>i.jsx(be.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&o})})});EC.displayName=CC;function PC(e,t){return`${e}-trigger-${t}`}function TC(e,t){return`${e}-content-${t}`}var x6=bC,RC=SC,IC=kC,AC=EC;const ei=x6,uo=p.forwardRef(({className:e,...t},n)=>i.jsx(RC,{ref:n,className:le("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));uo.displayName=RC.displayName;const Vt=p.forwardRef(({className:e,...t},n)=>i.jsx(IC,{ref:n,className:le("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Vt.displayName=IC.displayName;const Gt=p.forwardRef(({className:e,...t},n)=>i.jsx(AC,{ref:n,className:le("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Gt.displayName=AC.displayName;var Gx="Avatar",[y6,sV]=An(Gx),[v6,MC]=y6(Gx),OC=p.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,o]=p.useState("idle");return i.jsx(v6,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:i.jsx(be.span,{...r,ref:t})})});OC.displayName=Gx;var DC="AvatarImage",LC=p.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...o}=e,a=MC(DC,n),l=w6(r,o.referrerPolicy),c=It(u=>{s(u),a.onImageLoadingStatusChange(u)});return Lt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?i.jsx(be.img,{...o,ref:t,src:r}):null});LC.displayName=DC;var $C="AvatarFallback",FC=p.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,o=MC($C,n),[a,l]=p.useState(r===void 0);return p.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),a&&o.imageLoadingStatus!=="loaded"?i.jsx(be.span,{...s,ref:t}):null});FC.displayName=$C;function w6(e,t){const[n,r]=p.useState("idle");return Lt(()=>{if(!e){r("error");return}let s=!0;const o=new window.Image,a=l=>()=>{s&&r(l)};return r("loading"),o.onload=a("loaded"),o.onerror=a("error"),o.src=e,t&&(o.referrerPolicy=t),()=>{s=!1}},[e,t]),n}var zC=OC,UC=LC,BC=FC;const Nf=p.forwardRef(({className:e,...t},n)=>i.jsx(zC,{ref:n,className:le("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Nf.displayName=zC.displayName;const kf=p.forwardRef(({className:e,...t},n)=>i.jsx(UC,{ref:n,className:le("aspect-square h-full w-full",e),...t}));kf.displayName=UC.displayName;const Cf=p.forwardRef(({className:e,...t},n)=>i.jsx(BC,{ref:n,className:le("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Cf.displayName=BC.displayName;function _6(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const b6=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,j6=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,S6={};function a0(e,t){return(S6.jsx?j6:b6).test(e)}const N6=/[ \t\n\f\r]/g;function k6(e){return typeof e=="object"?e.type==="text"?l0(e.value):!1:l0(e)}function l0(e){return e.replace(N6,"")===""}class vc{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}vc.prototype.normal={};vc.prototype.property={};vc.prototype.space=void 0;function HC(e,t){const n={},r={};for(const s of e)Object.assign(n,s.property),Object.assign(r,s.normal);return new vc(n,r,t)}function Vm(e){return e.toLowerCase()}class Mn{constructor(t,n){this.attribute=n,this.property=t}}Mn.prototype.attribute="";Mn.prototype.booleanish=!1;Mn.prototype.boolean=!1;Mn.prototype.commaOrSpaceSeparated=!1;Mn.prototype.commaSeparated=!1;Mn.prototype.defined=!1;Mn.prototype.mustUseProperty=!1;Mn.prototype.number=!1;Mn.prototype.overloadedBoolean=!1;Mn.prototype.property="";Mn.prototype.spaceSeparated=!1;Mn.prototype.space=void 0;let C6=0;const We=ti(),Tt=ti(),Wm=ti(),ie=ti(),ht=ti(),Vi=ti(),Ln=ti();function ti(){return 2**++C6}const qm=Object.freeze(Object.defineProperty({__proto__:null,boolean:We,booleanish:Tt,commaOrSpaceSeparated:Ln,commaSeparated:Vi,number:ie,overloadedBoolean:Wm,spaceSeparated:ht},Symbol.toStringTag,{value:"Module"})),Wh=Object.keys(qm);class Kx extends Mn{constructor(t,n,r,s){let o=-1;if(super(t,n),c0(this,"space",s),typeof r=="number")for(;++o<Wh.length;){const a=Wh[o];c0(this,Wh[o],(r&qm[a])===qm[a])}}}Kx.prototype.defined=!0;function c0(e,t,n){n&&(e[t]=n)}function Ia(e){const t={},n={};for(const[r,s]of Object.entries(e.properties)){const o=new Kx(r,e.transform(e.attributes||{},r),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[Vm(r)]=r,n[Vm(o.attribute)]=r}return new vc(t,n,e.space)}const VC=Ia({properties:{ariaActiveDescendant:null,ariaAtomic:Tt,ariaAutoComplete:null,ariaBusy:Tt,ariaChecked:Tt,ariaColCount:ie,ariaColIndex:ie,ariaColSpan:ie,ariaControls:ht,ariaCurrent:null,ariaDescribedBy:ht,ariaDetails:null,ariaDisabled:Tt,ariaDropEffect:ht,ariaErrorMessage:null,ariaExpanded:Tt,ariaFlowTo:ht,ariaGrabbed:Tt,ariaHasPopup:null,ariaHidden:Tt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ht,ariaLevel:ie,ariaLive:null,ariaModal:Tt,ariaMultiLine:Tt,ariaMultiSelectable:Tt,ariaOrientation:null,ariaOwns:ht,ariaPlaceholder:null,ariaPosInSet:ie,ariaPressed:Tt,ariaReadOnly:Tt,ariaRelevant:null,ariaRequired:Tt,ariaRoleDescription:ht,ariaRowCount:ie,ariaRowIndex:ie,ariaRowSpan:ie,ariaSelected:Tt,ariaSetSize:ie,ariaSort:null,ariaValueMax:ie,ariaValueMin:ie,ariaValueNow:ie,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function WC(e,t){return t in e?e[t]:t}function qC(e,t){return WC(e,t.toLowerCase())}const E6=Ia({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Vi,acceptCharset:ht,accessKey:ht,action:null,allow:null,allowFullScreen:We,allowPaymentRequest:We,allowUserMedia:We,alt:null,as:null,async:We,autoCapitalize:null,autoComplete:ht,autoFocus:We,autoPlay:We,blocking:ht,capture:null,charSet:null,checked:We,cite:null,className:ht,cols:ie,colSpan:null,content:null,contentEditable:Tt,controls:We,controlsList:ht,coords:ie|Vi,crossOrigin:null,data:null,dateTime:null,decoding:null,default:We,defer:We,dir:null,dirName:null,disabled:We,download:Wm,draggable:Tt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:We,formTarget:null,headers:ht,height:ie,hidden:Wm,high:ie,href:null,hrefLang:null,htmlFor:ht,httpEquiv:ht,id:null,imageSizes:null,imageSrcSet:null,inert:We,inputMode:null,integrity:null,is:null,isMap:We,itemId:null,itemProp:ht,itemRef:ht,itemScope:We,itemType:ht,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:We,low:ie,manifest:null,max:null,maxLength:ie,media:null,method:null,min:null,minLength:ie,multiple:We,muted:We,name:null,nonce:null,noModule:We,noValidate:We,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:We,optimum:ie,pattern:null,ping:ht,placeholder:null,playsInline:We,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:We,referrerPolicy:null,rel:ht,required:We,reversed:We,rows:ie,rowSpan:ie,sandbox:ht,scope:null,scoped:We,seamless:We,selected:We,shadowRootClonable:We,shadowRootDelegatesFocus:We,shadowRootMode:null,shape:null,size:ie,sizes:null,slot:null,span:ie,spellCheck:Tt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ie,step:null,style:null,tabIndex:ie,target:null,title:null,translate:null,type:null,typeMustMatch:We,useMap:null,value:Tt,width:ie,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ht,axis:null,background:null,bgColor:null,border:ie,borderColor:null,bottomMargin:ie,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:We,declare:We,event:null,face:null,frame:null,frameBorder:null,hSpace:ie,leftMargin:ie,link:null,longDesc:null,lowSrc:null,marginHeight:ie,marginWidth:ie,noResize:We,noHref:We,noShade:We,noWrap:We,object:null,profile:null,prompt:null,rev:null,rightMargin:ie,rules:null,scheme:null,scrolling:Tt,standby:null,summary:null,text:null,topMargin:ie,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ie,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:We,disableRemotePlayback:We,prefix:null,property:null,results:ie,security:null,unselectable:null},space:"html",transform:qC}),P6=Ia({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Ln,accentHeight:ie,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ie,amplitude:ie,arabicForm:null,ascent:ie,attributeName:null,attributeType:null,azimuth:ie,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ie,by:null,calcMode:null,capHeight:ie,className:ht,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ie,diffuseConstant:ie,direction:null,display:null,dur:null,divisor:ie,dominantBaseline:null,download:We,dx:null,dy:null,edgeMode:null,editable:null,elevation:ie,enableBackground:null,end:null,event:null,exponent:ie,externalResourcesRequired:null,fill:null,fillOpacity:ie,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Vi,g2:Vi,glyphName:Vi,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ie,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ie,horizOriginX:ie,horizOriginY:ie,id:null,ideographic:ie,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ie,k:ie,k1:ie,k2:ie,k3:ie,k4:ie,kernelMatrix:Ln,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ie,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ie,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ie,overlineThickness:ie,paintOrder:null,panose1:null,path:null,pathLength:ie,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ht,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ie,pointsAtY:ie,pointsAtZ:ie,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ln,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ln,rev:Ln,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ln,requiredFeatures:Ln,requiredFonts:Ln,requiredFormats:Ln,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ie,specularExponent:ie,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ie,strikethroughThickness:ie,string:null,stroke:null,strokeDashArray:Ln,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ie,strokeOpacity:ie,strokeWidth:null,style:null,surfaceScale:ie,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ln,tabIndex:ie,tableValues:null,target:null,targetX:ie,targetY:ie,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ln,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ie,underlineThickness:ie,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ie,values:null,vAlphabetic:ie,vMathematical:ie,vectorEffect:null,vHanging:ie,vIdeographic:ie,version:null,vertAdvY:ie,vertOriginX:ie,vertOriginY:ie,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ie,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:WC}),GC=Ia({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),KC=Ia({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:qC}),YC=Ia({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),T6={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},R6=/[A-Z]/g,u0=/-[a-z]/g,I6=/^data[-\w.:]+$/i;function A6(e,t){const n=Vm(t);let r=t,s=Mn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&I6.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(u0,O6);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!u0.test(o)){let a=o.replace(R6,M6);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}s=Kx}return new s(r,t)}function M6(e){return"-"+e.toLowerCase()}function O6(e){return e.charAt(1).toUpperCase()}const D6=HC([VC,E6,GC,KC,YC],"html"),Yx=HC([VC,P6,GC,KC,YC],"svg");function L6(e){return e.join(" ").trim()}var Qx={},d0=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,$6=/\n/g,F6=/^\s*/,z6=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,U6=/^:\s*/,B6=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,H6=/^[;\s]*/,V6=/^\s+|\s+$/g,W6=`
`,f0="/",h0="*",jo="",q6="comment",G6="declaration",K6=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function s(x){var g=x.match($6);g&&(n+=g.length);var _=x.lastIndexOf(W6);r=~_?x.length-_:r+x.length}function o(){var x={line:n,column:r};return function(g){return g.position=new a(x),u(),g}}function a(x){this.start=x,this.end={line:n,column:r},this.source=t.source}a.prototype.content=e;function l(x){var g=new Error(t.source+":"+n+":"+r+": "+x);if(g.reason=x,g.filename=t.source,g.line=n,g.column=r,g.source=e,!t.silent)throw g}function c(x){var g=x.exec(e);if(g){var _=g[0];return s(_),e=e.slice(_.length),g}}function u(){c(F6)}function d(x){var g;for(x=x||[];g=f();)g!==!1&&x.push(g);return x}function f(){var x=o();if(!(f0!=e.charAt(0)||h0!=e.charAt(1))){for(var g=2;jo!=e.charAt(g)&&(h0!=e.charAt(g)||f0!=e.charAt(g+1));)++g;if(g+=2,jo===e.charAt(g-1))return l("End of comment missing");var _=e.slice(2,g-2);return r+=2,s(_),e=e.slice(g),r+=2,x({type:q6,comment:_})}}function h(){var x=o(),g=c(z6);if(g){if(f(),!c(U6))return l("property missing ':'");var _=c(B6),y=x({type:G6,property:p0(g[0].replace(d0,jo)),value:_?p0(_[0].replace(d0,jo)):jo});return c(H6),y}}function m(){var x=[];d(x);for(var g;g=h();)g!==!1&&(x.push(g),d(x));return x}return u(),m()};function p0(e){return e?e.replace(V6,jo):jo}var Y6=sn&&sn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qx,"__esModule",{value:!0});Qx.default=X6;var Q6=Y6(K6);function X6(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,Q6.default)(e),s=typeof t=="function";return r.forEach(function(o){if(o.type==="declaration"){var a=o.property,l=o.value;s?t(a,l,o):l&&(n=n||{},n[a]=l)}}),n}var Ef={};Object.defineProperty(Ef,"__esModule",{value:!0});Ef.camelCase=void 0;var J6=/^--[a-zA-Z0-9_-]+$/,Z6=/-([a-z])/g,eU=/^[^-]+$/,tU=/^-(webkit|moz|ms|o|khtml)-/,nU=/^-(ms)-/,rU=function(e){return!e||eU.test(e)||J6.test(e)},sU=function(e,t){return t.toUpperCase()},m0=function(e,t){return"".concat(t,"-")},oU=function(e,t){return t===void 0&&(t={}),rU(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(nU,m0):e=e.replace(tU,m0),e.replace(Z6,sU))};Ef.camelCase=oU;var iU=sn&&sn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},aU=iU(Qx),lU=Ef;function Gm(e,t){var n={};return!e||typeof e!="string"||(0,aU.default)(e,function(r,s){r&&s&&(n[(0,lU.camelCase)(r,t)]=s)}),n}Gm.default=Gm;var cU=Gm;const uU=gd(cU),QC=XC("end"),Xx=XC("start");function XC(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function dU(e){const t=Xx(e),n=QC(e);if(t&&n)return{start:t,end:n}}function ml(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?g0(e.position):"start"in e||"end"in e?g0(e):"line"in e||"column"in e?Km(e):""}function Km(e){return x0(e&&e.line)+":"+x0(e&&e.column)}function g0(e){return Km(e&&e.start)+"-"+Km(e&&e.end)}function x0(e){return e&&typeof e=="number"?e:1}class an extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let s="",o={},a=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof t=="string"?s=t:!o.cause&&t&&(a=!0,s=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?o.ruleId=r:(o.source=r.slice(0,c),o.ruleId=r.slice(c+1))}if(!o.place&&o.ancestors&&o.ancestors){const c=o.ancestors[o.ancestors.length-1];c&&(o.place=c.position)}const l=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=s,this.line=l?l.line:void 0,this.name=ml(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=a&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}an.prototype.file="";an.prototype.name="";an.prototype.reason="";an.prototype.message="";an.prototype.stack="";an.prototype.column=void 0;an.prototype.line=void 0;an.prototype.ancestors=void 0;an.prototype.cause=void 0;an.prototype.fatal=void 0;an.prototype.place=void 0;an.prototype.ruleId=void 0;an.prototype.source=void 0;const Jx={}.hasOwnProperty,fU=new Map,hU=/[A-Z]/g,pU=new Set(["table","tbody","thead","tfoot","tr"]),mU=new Set(["td","th"]),JC="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function gU(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=SU(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=jU(n,t.jsx,t.jsxs)}const s={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Yx:D6,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=ZC(s,e,void 0);return o&&typeof o!="string"?o:s.create(e,s.Fragment,{children:o||void 0},void 0)}function ZC(e,t,n){if(t.type==="element")return xU(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return yU(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return wU(e,t,n);if(t.type==="mdxjsEsm")return vU(e,t);if(t.type==="root")return _U(e,t,n);if(t.type==="text")return bU(e,t)}function xU(e,t,n){const r=e.schema;let s=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(s=Yx,e.schema=s),e.ancestors.push(t);const o=t2(e,t.tagName,!1),a=NU(e,t);let l=ey(e,t);return pU.has(t.tagName)&&(l=l.filter(function(c){return typeof c=="string"?!k6(c):!0})),e2(e,a,o,t),Zx(a,l),e.ancestors.pop(),e.schema=r,e.create(t,o,a,n)}function yU(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Kl(e,t.position)}function vU(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Kl(e,t.position)}function wU(e,t,n){const r=e.schema;let s=r;t.name==="svg"&&r.space==="html"&&(s=Yx,e.schema=s),e.ancestors.push(t);const o=t.name===null?e.Fragment:t2(e,t.name,!0),a=kU(e,t),l=ey(e,t);return e2(e,a,o,t),Zx(a,l),e.ancestors.pop(),e.schema=r,e.create(t,o,a,n)}function _U(e,t,n){const r={};return Zx(r,ey(e,t)),e.create(t,e.Fragment,r,n)}function bU(e,t){return t.value}function e2(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Zx(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function jU(e,t,n){return r;function r(s,o,a,l){const u=Array.isArray(a.children)?n:t;return l?u(o,a,l):u(o,a)}}function SU(e,t){return n;function n(r,s,o,a){const l=Array.isArray(o.children),c=Xx(r);return t(s,o,a,l,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function NU(e,t){const n={};let r,s;for(s in t.properties)if(s!=="children"&&Jx.call(t.properties,s)){const o=CU(e,s,t.properties[s]);if(o){const[a,l]=o;e.tableCellAlignToStyle&&a==="align"&&typeof l=="string"&&mU.has(t.tagName)?r=l:n[a]=l}}if(r){const o=n.style||(n.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function kU(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const o=r.data.estree.body[0];o.type;const a=o.expression;a.type;const l=a.properties[0];l.type,Object.assign(n,e.evaluater.evaluateExpression(l.argument))}else Kl(e,t.position);else{const s=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const l=r.value.data.estree.body[0];l.type,o=e.evaluater.evaluateExpression(l.expression)}else Kl(e,t.position);else o=r.value===null?!0:r.value;n[s]=o}return n}function ey(e,t){const n=[];let r=-1;const s=e.passKeys?new Map:fU;for(;++r<t.children.length;){const o=t.children[r];let a;if(e.passKeys){const c=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(c){const u=s.get(c)||0;a=c+"-"+u,s.set(c,u+1)}}const l=ZC(e,o,a);l!==void 0&&n.push(l)}return n}function CU(e,t,n){const r=A6(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?_6(n):L6(n)),r.property==="style"){let s=typeof n=="object"?n:EU(e,String(n));return e.stylePropertyNameCase==="css"&&(s=PU(s)),["style",s]}return[e.elementAttributeNameCase==="react"&&r.space?T6[r.property]||r.property:r.attribute,n]}}function EU(e,t){try{return uU(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,s=new an("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=e.filePath||void 0,s.url=JC+"#cannot-parse-style-attribute",s}}function t2(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const s=t.split(".");let o=-1,a;for(;++o<s.length;){const l=a0(s[o])?{type:"Identifier",name:s[o]}:{type:"Literal",value:s[o]};a=a?{type:"MemberExpression",object:a,property:l,computed:!!(o&&l.type==="Literal"),optional:!1}:l}r=a}else r=a0(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const s=r.value;return Jx.call(e.components,s)?e.components[s]:s}if(e.evaluater)return e.evaluater.evaluateExpression(r);Kl(e)}function Kl(e,t){const n=new an("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=JC+"#cannot-handle-mdx-estrees-without-createevaluater",n}function PU(e){const t={};let n;for(n in e)Jx.call(e,n)&&(t[TU(n)]=e[n]);return t}function TU(e){let t=e.replace(hU,RU);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function RU(e){return"-"+e.toLowerCase()}const qh={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},IU={};function AU(e,t){const n=IU,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return n2(e,r,s)}function n2(e,t,n){if(MU(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return y0(e.children,t,n)}return Array.isArray(e)?y0(e,t,n):""}function y0(e,t,n){const r=[];let s=-1;for(;++s<e.length;)r[s]=n2(e[s],t,n);return r.join("")}function MU(e){return!!(e&&typeof e=="object")}const v0=document.createElement("i");function ty(e){const t="&"+e+";";v0.innerHTML=t;const n=v0.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Ur(e,t,n,r){const s=e.length;let o=0,a;if(t<0?t=-t>s?0:s+t:t=t>s?s:t,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);o<r.length;)a=r.slice(o,o+1e4),a.unshift(t,0),e.splice(...a),o+=1e4,t+=1e4}function Zn(e,t){return e.length>0?(Ur(e,e.length,0,t),e):t}const w0={}.hasOwnProperty;function OU(e){const t={};let n=-1;for(;++n<e.length;)DU(t,e[n]);return t}function DU(e,t){let n;for(n in t){const s=(w0.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let a;if(o)for(a in o){w0.call(s,a)||(s[a]=[]);const l=o[a];LU(s[a],Array.isArray(l)?l:l?[l]:[])}}}function LU(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Ur(e,0,0,r)}function r2(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Wi(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Lr=fo(/[A-Za-z]/),Hn=fo(/[\dA-Za-z]/),$U=fo(/[#-'*+\--9=?A-Z^-~]/);function Ym(e){return e!==null&&(e<32||e===127)}const Qm=fo(/\d/),FU=fo(/[\dA-Fa-f]/),zU=fo(/[!-/:-@[-`{-~]/);function Oe(e){return e!==null&&e<-2}function Pn(e){return e!==null&&(e<0||e===32)}function st(e){return e===-2||e===-1||e===32}const UU=fo(new RegExp("\\p{P}|\\p{S}","u")),BU=fo(/\s/);function fo(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Aa(e){const t=[];let n=-1,r=0,s=0;for(;++n<e.length;){const o=e.charCodeAt(n);let a="";if(o===37&&Hn(e.charCodeAt(n+1))&&Hn(e.charCodeAt(n+2)))s=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(a=String.fromCharCode(o));else if(o>55295&&o<57344){const l=e.charCodeAt(n+1);o<56320&&l>56319&&l<57344?(a=String.fromCharCode(o,l),s=1):a=""}else a=String.fromCharCode(o);a&&(t.push(e.slice(r,n),encodeURIComponent(a)),r=n+s+1,a=""),s&&(n+=s,s=0)}return t.join("")+e.slice(r)}function mt(e,t,n,r){const s=r?r-1:Number.POSITIVE_INFINITY;let o=0;return a;function a(c){return st(c)?(e.enter(n),l(c)):t(c)}function l(c){return st(c)&&o++<s?(e.consume(c),l):(e.exit(n),t(c))}}const HU={tokenize:VU};function VU(e){const t=e.attempt(this.parser.constructs.contentInitial,r,s);let n;return t;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),mt(e,t,"linePrefix")}function s(l){return e.enter("paragraph"),o(l)}function o(l){const c=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,a(l)}function a(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return Oe(l)?(e.consume(l),e.exit("chunkText"),o):(e.consume(l),a)}}const WU={tokenize:qU},_0={tokenize:GU};function qU(e){const t=this,n=[];let r=0,s,o,a;return l;function l(w){if(r<n.length){const b=n[r];return t.containerState=b[1],e.attempt(b[0].continuation,c,u)(w)}return u(w)}function c(w){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,s&&v();const b=t.events.length;let N=b,j;for(;N--;)if(t.events[N][0]==="exit"&&t.events[N][1].type==="chunkFlow"){j=t.events[N][1].end;break}y(r);let C=b;for(;C<t.events.length;)t.events[C][1].end={...j},C++;return Ur(t.events,N+1,0,t.events.slice(b)),t.events.length=C,u(w)}return l(w)}function u(w){if(r===n.length){if(!s)return h(w);if(s.currentConstruct&&s.currentConstruct.concrete)return x(w);t.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(_0,d,f)(w)}function d(w){return s&&v(),y(r),h(w)}function f(w){return t.parser.lazy[t.now().line]=r!==n.length,a=t.now().offset,x(w)}function h(w){return t.containerState={},e.attempt(_0,m,x)(w)}function m(w){return r++,n.push([t.currentConstruct,t.containerState]),h(w)}function x(w){if(w===null){s&&v(),y(0),e.consume(w);return}return s=s||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:o}),g(w)}function g(w){if(w===null){_(e.exit("chunkFlow"),!0),y(0),e.consume(w);return}return Oe(w)?(e.consume(w),_(e.exit("chunkFlow")),r=0,t.interrupt=void 0,l):(e.consume(w),g)}function _(w,b){const N=t.sliceStream(w);if(b&&N.push(null),w.previous=o,o&&(o.next=w),o=w,s.defineSkip(w.start),s.write(N),t.parser.lazy[w.start.line]){let j=s.events.length;for(;j--;)if(s.events[j][1].start.offset<a&&(!s.events[j][1].end||s.events[j][1].end.offset>a))return;const C=t.events.length;let R=C,E,T;for(;R--;)if(t.events[R][0]==="exit"&&t.events[R][1].type==="chunkFlow"){if(E){T=t.events[R][1].end;break}E=!0}for(y(r),j=C;j<t.events.length;)t.events[j][1].end={...T},j++;Ur(t.events,R+1,0,t.events.slice(C)),t.events.length=j}}function y(w){let b=n.length;for(;b-- >w;){const N=n[b];t.containerState=N[1],N[0].exit.call(t,e)}n.length=w}function v(){s.write([null]),o=void 0,s=void 0,t.containerState._closeFlow=void 0}}function GU(e,t,n){return mt(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function b0(e){if(e===null||Pn(e)||BU(e))return 1;if(UU(e))return 2}function ny(e,t,n){const r=[];let s=-1;for(;++s<e.length;){const o=e[s].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const Xm={name:"attention",resolveAll:KU,tokenize:YU};function KU(e,t){let n=-1,r,s,o,a,l,c,u,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;c=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},h={...e[n][1].start};j0(f,-c),j0(h,c),a={type:c>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},l={type:c>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:h},o={type:c>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},s={type:c>1?"strong":"emphasis",start:{...a.start},end:{...l.end}},e[r][1].end={...a.start},e[n][1].start={...l.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=Zn(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=Zn(u,[["enter",s,t],["enter",a,t],["exit",a,t],["enter",o,t]]),u=Zn(u,ny(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=Zn(u,[["exit",o,t],["enter",l,t],["exit",l,t],["exit",s,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,u=Zn(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,Ur(e,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function YU(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,s=b0(r);let o;return a;function a(c){return o=c,e.enter("attentionSequence"),l(c)}function l(c){if(c===o)return e.consume(c),l;const u=e.exit("attentionSequence"),d=b0(c),f=!d||d===2&&s||n.includes(c),h=!s||s===2&&d||n.includes(r);return u._open=!!(o===42?f:f&&(s||!h)),u._close=!!(o===42?h:h&&(d||!f)),t(c)}}function j0(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const QU={name:"autolink",tokenize:XU};function XU(e,t,n){let r=0;return s;function s(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(m){return Lr(m)?(e.consume(m),a):m===64?n(m):u(m)}function a(m){return m===43||m===45||m===46||Hn(m)?(r=1,l(m)):u(m)}function l(m){return m===58?(e.consume(m),r=0,c):(m===43||m===45||m===46||Hn(m))&&r++<32?(e.consume(m),l):(r=0,u(m))}function c(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||Ym(m)?n(m):(e.consume(m),c)}function u(m){return m===64?(e.consume(m),d):$U(m)?(e.consume(m),u):n(m)}function d(m){return Hn(m)?f(m):n(m)}function f(m){return m===46?(e.consume(m),r=0,d):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):h(m)}function h(m){if((m===45||Hn(m))&&r++<63){const x=m===45?h:f;return e.consume(m),x}return n(m)}}const Pf={partial:!0,tokenize:JU};function JU(e,t,n){return r;function r(o){return st(o)?mt(e,s,"linePrefix")(o):s(o)}function s(o){return o===null||Oe(o)?t(o):n(o)}}const s2={continuation:{tokenize:e8},exit:t8,name:"blockQuote",tokenize:ZU};function ZU(e,t,n){const r=this;return s;function s(a){if(a===62){const l=r.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),o}return n(a)}function o(a){return st(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function e8(e,t,n){const r=this;return s;function s(a){return st(a)?mt(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):o(a)}function o(a){return e.attempt(s2,t,n)(a)}}function t8(e){e.exit("blockQuote")}const o2={name:"characterEscape",tokenize:n8};function n8(e,t,n){return r;function r(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),s}function s(o){return zU(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}const i2={name:"characterReference",tokenize:r8};function r8(e,t,n){const r=this;let s=0,o,a;return l;function l(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),c}function c(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),o=31,a=Hn,d(f))}function u(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,a=FU,d):(e.enter("characterReferenceValue"),o=7,a=Qm,d(f))}function d(f){if(f===59&&s){const h=e.exit("characterReferenceValue");return a===Hn&&!ty(r.sliceSerialize(h))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(f)&&s++<o?(e.consume(f),d):n(f)}}const S0={partial:!0,tokenize:o8},N0={concrete:!0,name:"codeFenced",tokenize:s8};function s8(e,t,n){const r=this,s={partial:!0,tokenize:N};let o=0,a=0,l;return c;function c(j){return u(j)}function u(j){const C=r.events[r.events.length-1];return o=C&&C[1].type==="linePrefix"?C[2].sliceSerialize(C[1],!0).length:0,l=j,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(j)}function d(j){return j===l?(a++,e.consume(j),d):a<3?n(j):(e.exit("codeFencedFenceSequence"),st(j)?mt(e,f,"whitespace")(j):f(j))}function f(j){return j===null||Oe(j)?(e.exit("codeFencedFence"),r.interrupt?t(j):e.check(S0,g,b)(j)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(j))}function h(j){return j===null||Oe(j)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(j)):st(j)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),mt(e,m,"whitespace")(j)):j===96&&j===l?n(j):(e.consume(j),h)}function m(j){return j===null||Oe(j)?f(j):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),x(j))}function x(j){return j===null||Oe(j)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(j)):j===96&&j===l?n(j):(e.consume(j),x)}function g(j){return e.attempt(s,b,_)(j)}function _(j){return e.enter("lineEnding"),e.consume(j),e.exit("lineEnding"),y}function y(j){return o>0&&st(j)?mt(e,v,"linePrefix",o+1)(j):v(j)}function v(j){return j===null||Oe(j)?e.check(S0,g,b)(j):(e.enter("codeFlowValue"),w(j))}function w(j){return j===null||Oe(j)?(e.exit("codeFlowValue"),v(j)):(e.consume(j),w)}function b(j){return e.exit("codeFenced"),t(j)}function N(j,C,R){let E=0;return T;function T(A){return j.enter("lineEnding"),j.consume(A),j.exit("lineEnding"),D}function D(A){return j.enter("codeFencedFence"),st(A)?mt(j,O,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A):O(A)}function O(A){return A===l?(j.enter("codeFencedFenceSequence"),z(A)):R(A)}function z(A){return A===l?(E++,j.consume(A),z):E>=a?(j.exit("codeFencedFenceSequence"),st(A)?mt(j,W,"whitespace")(A):W(A)):R(A)}function W(A){return A===null||Oe(A)?(j.exit("codeFencedFence"),C(A)):R(A)}}}function o8(e,t,n){const r=this;return s;function s(a){return a===null?n(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),o)}function o(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}const Gh={name:"codeIndented",tokenize:a8},i8={partial:!0,tokenize:l8};function a8(e,t,n){const r=this;return s;function s(u){return e.enter("codeIndented"),mt(e,o,"linePrefix",5)(u)}function o(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?a(u):n(u)}function a(u){return u===null?c(u):Oe(u)?e.attempt(i8,a,c)(u):(e.enter("codeFlowValue"),l(u))}function l(u){return u===null||Oe(u)?(e.exit("codeFlowValue"),a(u)):(e.consume(u),l)}function c(u){return e.exit("codeIndented"),t(u)}}function l8(e,t,n){const r=this;return s;function s(a){return r.parser.lazy[r.now().line]?n(a):Oe(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s):mt(e,o,"linePrefix",5)(a)}function o(a){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(a):Oe(a)?s(a):n(a)}}const c8={name:"codeText",previous:d8,resolve:u8,tokenize:f8};function u8(e){let t=e.length-4,n=3,r,s;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)s===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(s=r):(r===t||e[r][1].type==="lineEnding")&&(e[s][1].type="codeTextData",r!==s+2&&(e[s][1].end=e[r-1][1].end,e.splice(s+2,r-s-2),t-=r-s-2,r=s+2),s=void 0);return e}function d8(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function f8(e,t,n){let r=0,s,o;return a;function a(f){return e.enter("codeText"),e.enter("codeTextSequence"),l(f)}function l(f){return f===96?(e.consume(f),r++,l):(e.exit("codeTextSequence"),c(f))}function c(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),c):f===96?(o=e.enter("codeTextSequence"),s=0,d(f)):Oe(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),c):(e.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||Oe(f)?(e.exit("codeTextData"),c(f)):(e.consume(f),u)}function d(f){return f===96?(e.consume(f),s++,d):s===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(o.type="codeTextData",u(f))}}class h8{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const s=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return r&&Ka(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Ka(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Ka(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Ka(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Ka(this.left,n.reverse())}}}function Ka(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function a2(e){const t={};let n=-1,r,s,o,a,l,c,u;const d=new h8(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,o=0,o<c.length&&c[o][1].type==="lineEndingBlank"&&(o+=2),o<c.length&&c[o][1].type==="content"))for(;++o<c.length&&c[o][1].type!=="content";)c[o][1].type==="chunkText"&&(c[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,p8(d,n)),n=t[n],u=!0);else if(r[1]._container){for(o=n,s=void 0;o--;)if(a=d.get(o),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(s&&(d.get(s)[1].type="lineEndingBlank"),a[1].type="lineEnding",s=o);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;s&&(r[1].end={...d.get(s)[1].start},l=d.slice(s,n),l.unshift(r),d.splice(s,n-s+1,l))}}return Ur(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function p8(e,t){const n=e.get(t)[1],r=e.get(t)[2];let s=t-1;const o=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const l=a.events,c=[],u={};let d,f,h=-1,m=n,x=0,g=0;const _=[g];for(;m;){for(;e.get(++s)[1]!==m;);o.push(s),m._tokenizer||(d=r.sliceStream(m),m.next||d.push(null),f&&a.defineSkip(m.start),m._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(d),m._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),f=m,m=m.next}for(m=n;++h<l.length;)l[h][0]==="exit"&&l[h-1][0]==="enter"&&l[h][1].type===l[h-1][1].type&&l[h][1].start.line!==l[h][1].end.line&&(g=h+1,_.push(g),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(a.events=[],m?(m._tokenizer=void 0,m.previous=void 0):_.pop(),h=_.length;h--;){const y=l.slice(_[h],_[h+1]),v=o.pop();c.push([v,v+y.length-1]),e.splice(v,2,y)}for(c.reverse(),h=-1;++h<c.length;)u[x+c[h][0]]=x+c[h][1],x+=c[h][1]-c[h][0]-1;return u}const m8={resolve:x8,tokenize:y8},g8={partial:!0,tokenize:v8};function x8(e){return a2(e),e}function y8(e,t){let n;return r;function r(l){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),s(l)}function s(l){return l===null?o(l):Oe(l)?e.check(g8,a,o)(l):(e.consume(l),s)}function o(l){return e.exit("chunkContent"),e.exit("content"),t(l)}function a(l){return e.consume(l),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function v8(e,t,n){const r=this;return s;function s(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),mt(e,o,"linePrefix")}function o(a){if(a===null||Oe(a))return n(a);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(a):e.interrupt(r.parser.constructs.flow,n,t)(a)}}function l2(e,t,n,r,s,o,a,l,c){const u=c||Number.POSITIVE_INFINITY;let d=0;return f;function f(y){return y===60?(e.enter(r),e.enter(s),e.enter(o),e.consume(y),e.exit(o),h):y===null||y===32||y===41||Ym(y)?n(y):(e.enter(r),e.enter(a),e.enter(l),e.enter("chunkString",{contentType:"string"}),g(y))}function h(y){return y===62?(e.enter(o),e.consume(y),e.exit(o),e.exit(s),e.exit(r),t):(e.enter(l),e.enter("chunkString",{contentType:"string"}),m(y))}function m(y){return y===62?(e.exit("chunkString"),e.exit(l),h(y)):y===null||y===60||Oe(y)?n(y):(e.consume(y),y===92?x:m)}function x(y){return y===60||y===62||y===92?(e.consume(y),m):m(y)}function g(y){return!d&&(y===null||y===41||Pn(y))?(e.exit("chunkString"),e.exit(l),e.exit(a),e.exit(r),t(y)):d<u&&y===40?(e.consume(y),d++,g):y===41?(e.consume(y),d--,g):y===null||y===32||y===40||Ym(y)?n(y):(e.consume(y),y===92?_:g)}function _(y){return y===40||y===41||y===92?(e.consume(y),g):g(y)}}function c2(e,t,n,r,s,o){const a=this;let l=0,c;return u;function u(m){return e.enter(r),e.enter(s),e.consume(m),e.exit(s),e.enter(o),d}function d(m){return l>999||m===null||m===91||m===93&&!c||m===94&&!l&&"_hiddenFootnoteSupport"in a.parser.constructs?n(m):m===93?(e.exit(o),e.enter(s),e.consume(m),e.exit(s),e.exit(r),t):Oe(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===null||m===91||m===93||Oe(m)||l++>999?(e.exit("chunkString"),d(m)):(e.consume(m),c||(c=!st(m)),m===92?h:f)}function h(m){return m===91||m===92||m===93?(e.consume(m),l++,f):f(m)}}function u2(e,t,n,r,s,o){let a;return l;function l(h){return h===34||h===39||h===40?(e.enter(r),e.enter(s),e.consume(h),e.exit(s),a=h===40?41:h,c):n(h)}function c(h){return h===a?(e.enter(s),e.consume(h),e.exit(s),e.exit(r),t):(e.enter(o),u(h))}function u(h){return h===a?(e.exit(o),c(a)):h===null?n(h):Oe(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),mt(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===a||h===null||Oe(h)?(e.exit("chunkString"),u(h)):(e.consume(h),h===92?f:d)}function f(h){return h===a||h===92?(e.consume(h),d):d(h)}}function gl(e,t){let n;return r;function r(s){return Oe(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),n=!0,r):st(s)?mt(e,r,n?"linePrefix":"lineSuffix")(s):t(s)}}const w8={name:"definition",tokenize:b8},_8={partial:!0,tokenize:j8};function b8(e,t,n){const r=this;let s;return o;function o(m){return e.enter("definition"),a(m)}function a(m){return c2.call(r,e,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function l(m){return s=Wi(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),c):n(m)}function c(m){return Pn(m)?gl(e,u)(m):u(m)}function u(m){return l2(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function d(m){return e.attempt(_8,f,f)(m)}function f(m){return st(m)?mt(e,h,"whitespace")(m):h(m)}function h(m){return m===null||Oe(m)?(e.exit("definition"),r.parser.defined.push(s),t(m)):n(m)}}function j8(e,t,n){return r;function r(l){return Pn(l)?gl(e,s)(l):n(l)}function s(l){return u2(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function o(l){return st(l)?mt(e,a,"whitespace")(l):a(l)}function a(l){return l===null||Oe(l)?t(l):n(l)}}const S8={name:"hardBreakEscape",tokenize:N8};function N8(e,t,n){return r;function r(o){return e.enter("hardBreakEscape"),e.consume(o),s}function s(o){return Oe(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}const k8={name:"headingAtx",resolve:C8,tokenize:E8};function C8(e,t){let n=e.length-2,r=3,s,o;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(s={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},o={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Ur(e,r,n-r+1,[["enter",s,t],["enter",o,t],["exit",o,t],["exit",s,t]])),e}function E8(e,t,n){let r=0;return s;function s(d){return e.enter("atxHeading"),o(d)}function o(d){return e.enter("atxHeadingSequence"),a(d)}function a(d){return d===35&&r++<6?(e.consume(d),a):d===null||Pn(d)?(e.exit("atxHeadingSequence"),l(d)):n(d)}function l(d){return d===35?(e.enter("atxHeadingSequence"),c(d)):d===null||Oe(d)?(e.exit("atxHeading"),t(d)):st(d)?mt(e,l,"whitespace")(d):(e.enter("atxHeadingText"),u(d))}function c(d){return d===35?(e.consume(d),c):(e.exit("atxHeadingSequence"),l(d))}function u(d){return d===null||d===35||Pn(d)?(e.exit("atxHeadingText"),l(d)):(e.consume(d),u)}}const P8=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],k0=["pre","script","style","textarea"],T8={concrete:!0,name:"htmlFlow",resolveTo:A8,tokenize:M8},R8={partial:!0,tokenize:D8},I8={partial:!0,tokenize:O8};function A8(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function M8(e,t,n){const r=this;let s,o,a,l,c;return u;function u(k){return d(k)}function d(k){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(k),f}function f(k){return k===33?(e.consume(k),h):k===47?(e.consume(k),o=!0,g):k===63?(e.consume(k),s=3,r.interrupt?t:S):Lr(k)?(e.consume(k),a=String.fromCharCode(k),_):n(k)}function h(k){return k===45?(e.consume(k),s=2,m):k===91?(e.consume(k),s=5,l=0,x):Lr(k)?(e.consume(k),s=4,r.interrupt?t:S):n(k)}function m(k){return k===45?(e.consume(k),r.interrupt?t:S):n(k)}function x(k){const de="CDATA[";return k===de.charCodeAt(l++)?(e.consume(k),l===de.length?r.interrupt?t:O:x):n(k)}function g(k){return Lr(k)?(e.consume(k),a=String.fromCharCode(k),_):n(k)}function _(k){if(k===null||k===47||k===62||Pn(k)){const de=k===47,ve=a.toLowerCase();return!de&&!o&&k0.includes(ve)?(s=1,r.interrupt?t(k):O(k)):P8.includes(a.toLowerCase())?(s=6,de?(e.consume(k),y):r.interrupt?t(k):O(k)):(s=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(k):o?v(k):w(k))}return k===45||Hn(k)?(e.consume(k),a+=String.fromCharCode(k),_):n(k)}function y(k){return k===62?(e.consume(k),r.interrupt?t:O):n(k)}function v(k){return st(k)?(e.consume(k),v):T(k)}function w(k){return k===47?(e.consume(k),T):k===58||k===95||Lr(k)?(e.consume(k),b):st(k)?(e.consume(k),w):T(k)}function b(k){return k===45||k===46||k===58||k===95||Hn(k)?(e.consume(k),b):N(k)}function N(k){return k===61?(e.consume(k),j):st(k)?(e.consume(k),N):w(k)}function j(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(e.consume(k),c=k,C):st(k)?(e.consume(k),j):R(k)}function C(k){return k===c?(e.consume(k),c=null,E):k===null||Oe(k)?n(k):(e.consume(k),C)}function R(k){return k===null||k===34||k===39||k===47||k===60||k===61||k===62||k===96||Pn(k)?N(k):(e.consume(k),R)}function E(k){return k===47||k===62||st(k)?w(k):n(k)}function T(k){return k===62?(e.consume(k),D):n(k)}function D(k){return k===null||Oe(k)?O(k):st(k)?(e.consume(k),D):n(k)}function O(k){return k===45&&s===2?(e.consume(k),M):k===60&&s===1?(e.consume(k),G):k===62&&s===4?(e.consume(k),H):k===63&&s===3?(e.consume(k),S):k===93&&s===5?(e.consume(k),I):Oe(k)&&(s===6||s===7)?(e.exit("htmlFlowData"),e.check(R8,te,z)(k)):k===null||Oe(k)?(e.exit("htmlFlowData"),z(k)):(e.consume(k),O)}function z(k){return e.check(I8,W,te)(k)}function W(k){return e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),A}function A(k){return k===null||Oe(k)?z(k):(e.enter("htmlFlowData"),O(k))}function M(k){return k===45?(e.consume(k),S):O(k)}function G(k){return k===47?(e.consume(k),a="",P):O(k)}function P(k){if(k===62){const de=a.toLowerCase();return k0.includes(de)?(e.consume(k),H):O(k)}return Lr(k)&&a.length<8?(e.consume(k),a+=String.fromCharCode(k),P):O(k)}function I(k){return k===93?(e.consume(k),S):O(k)}function S(k){return k===62?(e.consume(k),H):k===45&&s===2?(e.consume(k),S):O(k)}function H(k){return k===null||Oe(k)?(e.exit("htmlFlowData"),te(k)):(e.consume(k),H)}function te(k){return e.exit("htmlFlow"),t(k)}}function O8(e,t,n){const r=this;return s;function s(a){return Oe(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),o):n(a)}function o(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}function D8(e,t,n){return r;function r(s){return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),e.attempt(Pf,t,n)}}const L8={name:"htmlText",tokenize:$8};function $8(e,t,n){const r=this;let s,o,a;return l;function l(S){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(S),c}function c(S){return S===33?(e.consume(S),u):S===47?(e.consume(S),N):S===63?(e.consume(S),w):Lr(S)?(e.consume(S),R):n(S)}function u(S){return S===45?(e.consume(S),d):S===91?(e.consume(S),o=0,x):Lr(S)?(e.consume(S),v):n(S)}function d(S){return S===45?(e.consume(S),m):n(S)}function f(S){return S===null?n(S):S===45?(e.consume(S),h):Oe(S)?(a=f,G(S)):(e.consume(S),f)}function h(S){return S===45?(e.consume(S),m):f(S)}function m(S){return S===62?M(S):S===45?h(S):f(S)}function x(S){const H="CDATA[";return S===H.charCodeAt(o++)?(e.consume(S),o===H.length?g:x):n(S)}function g(S){return S===null?n(S):S===93?(e.consume(S),_):Oe(S)?(a=g,G(S)):(e.consume(S),g)}function _(S){return S===93?(e.consume(S),y):g(S)}function y(S){return S===62?M(S):S===93?(e.consume(S),y):g(S)}function v(S){return S===null||S===62?M(S):Oe(S)?(a=v,G(S)):(e.consume(S),v)}function w(S){return S===null?n(S):S===63?(e.consume(S),b):Oe(S)?(a=w,G(S)):(e.consume(S),w)}function b(S){return S===62?M(S):w(S)}function N(S){return Lr(S)?(e.consume(S),j):n(S)}function j(S){return S===45||Hn(S)?(e.consume(S),j):C(S)}function C(S){return Oe(S)?(a=C,G(S)):st(S)?(e.consume(S),C):M(S)}function R(S){return S===45||Hn(S)?(e.consume(S),R):S===47||S===62||Pn(S)?E(S):n(S)}function E(S){return S===47?(e.consume(S),M):S===58||S===95||Lr(S)?(e.consume(S),T):Oe(S)?(a=E,G(S)):st(S)?(e.consume(S),E):M(S)}function T(S){return S===45||S===46||S===58||S===95||Hn(S)?(e.consume(S),T):D(S)}function D(S){return S===61?(e.consume(S),O):Oe(S)?(a=D,G(S)):st(S)?(e.consume(S),D):E(S)}function O(S){return S===null||S===60||S===61||S===62||S===96?n(S):S===34||S===39?(e.consume(S),s=S,z):Oe(S)?(a=O,G(S)):st(S)?(e.consume(S),O):(e.consume(S),W)}function z(S){return S===s?(e.consume(S),s=void 0,A):S===null?n(S):Oe(S)?(a=z,G(S)):(e.consume(S),z)}function W(S){return S===null||S===34||S===39||S===60||S===61||S===96?n(S):S===47||S===62||Pn(S)?E(S):(e.consume(S),W)}function A(S){return S===47||S===62||Pn(S)?E(S):n(S)}function M(S){return S===62?(e.consume(S),e.exit("htmlTextData"),e.exit("htmlText"),t):n(S)}function G(S){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),P}function P(S){return st(S)?mt(e,I,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(S):I(S)}function I(S){return e.enter("htmlTextData"),a(S)}}const ry={name:"labelEnd",resolveAll:B8,resolveTo:H8,tokenize:V8},F8={tokenize:W8},z8={tokenize:q8},U8={tokenize:G8};function B8(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const s=r.type==="labelImage"?4:2;r.type="data",t+=s}}return e.length!==n.length&&Ur(e,0,e.length,n),e}function H8(e,t){let n=e.length,r=0,s,o,a,l;for(;n--;)if(s=e[n][1],o){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;e[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(a){if(e[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(o=n,s.type!=="labelLink")){r=2;break}}else s.type==="labelEnd"&&(a=n);const c={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[o][1].start},end:{...e[a][1].end}},d={type:"labelText",start:{...e[o+r+2][1].end},end:{...e[a-2][1].start}};return l=[["enter",c,t],["enter",u,t]],l=Zn(l,e.slice(o+1,o+r+3)),l=Zn(l,[["enter",d,t]]),l=Zn(l,ny(t.parser.constructs.insideSpan.null,e.slice(o+r+4,a-3),t)),l=Zn(l,[["exit",d,t],e[a-2],e[a-1],["exit",u,t]]),l=Zn(l,e.slice(a+1)),l=Zn(l,[["exit",c,t]]),Ur(e,o,e.length,l),e}function V8(e,t,n){const r=this;let s=r.events.length,o,a;for(;s--;)if((r.events[s][1].type==="labelImage"||r.events[s][1].type==="labelLink")&&!r.events[s][1]._balanced){o=r.events[s][1];break}return l;function l(h){return o?o._inactive?f(h):(a=r.parser.defined.includes(Wi(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),c):n(h)}function c(h){return h===40?e.attempt(F8,d,a?d:f)(h):h===91?e.attempt(z8,d,a?u:f)(h):a?d(h):f(h)}function u(h){return e.attempt(U8,d,f)(h)}function d(h){return t(h)}function f(h){return o._balanced=!0,n(h)}}function W8(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),s}function s(f){return Pn(f)?gl(e,o)(f):o(f)}function o(f){return f===41?d(f):l2(e,a,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function a(f){return Pn(f)?gl(e,c)(f):d(f)}function l(f){return n(f)}function c(f){return f===34||f===39||f===40?u2(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function u(f){return Pn(f)?gl(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function q8(e,t,n){const r=this;return s;function s(l){return c2.call(r,e,o,a,"reference","referenceMarker","referenceString")(l)}function o(l){return r.parser.defined.includes(Wi(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(l):n(l)}function a(l){return n(l)}}function G8(e,t,n){return r;function r(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),s}function s(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}const K8={name:"labelStartImage",resolveAll:ry.resolveAll,tokenize:Y8};function Y8(e,t,n){const r=this;return s;function s(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),o}function o(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),a):n(l)}function a(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const Q8={name:"labelStartLink",resolveAll:ry.resolveAll,tokenize:X8};function X8(e,t,n){const r=this;return s;function s(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),o}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const Kh={name:"lineEnding",tokenize:J8};function J8(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),mt(e,t,"linePrefix")}}const vu={name:"thematicBreak",tokenize:Z8};function Z8(e,t,n){let r=0,s;return o;function o(u){return e.enter("thematicBreak"),a(u)}function a(u){return s=u,l(u)}function l(u){return u===s?(e.enter("thematicBreakSequence"),c(u)):r>=3&&(u===null||Oe(u))?(e.exit("thematicBreak"),t(u)):n(u)}function c(u){return u===s?(e.consume(u),r++,c):(e.exit("thematicBreakSequence"),st(u)?mt(e,l,"whitespace")(u):l(u))}}const _n={continuation:{tokenize:rB},exit:oB,name:"list",tokenize:nB},eB={partial:!0,tokenize:iB},tB={partial:!0,tokenize:sB};function nB(e,t,n){const r=this,s=r.events[r.events.length-1];let o=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,a=0;return l;function l(m){const x=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(x==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:Qm(m)){if(r.containerState.type||(r.containerState.type=x,e.enter(x,{_container:!0})),x==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(vu,n,u)(m):u(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(m)}return n(m)}function c(m){return Qm(m)&&++a<10?(e.consume(m),c):(!r.interrupt||a<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),u(m)):n(m)}function u(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(Pf,r.interrupt?n:d,e.attempt(eB,h,f))}function d(m){return r.containerState.initialBlankLine=!0,o++,h(m)}function f(m){return st(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),h):n(m)}function h(m){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function rB(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Pf,s,o);function s(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,mt(e,t,"listItemIndent",r.containerState.size+1)(l)}function o(l){return r.containerState.furtherBlankLines||!st(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(tB,t,a)(l))}function a(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,mt(e,e.attempt(_n,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function sB(e,t,n){const r=this;return mt(e,s,"listItemIndent",r.containerState.size+1);function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?t(o):n(o)}}function oB(e){e.exit(this.containerState.type)}function iB(e,t,n){const r=this;return mt(e,s,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(o){const a=r.events[r.events.length-1];return!st(o)&&a&&a[1].type==="listItemPrefixWhitespace"?t(o):n(o)}}const C0={name:"setextUnderline",resolveTo:aB,tokenize:lB};function aB(e,t){let n=e.length,r,s,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(s=n)}else e[n][1].type==="content"&&e.splice(n,1),!o&&e[n][1].type==="definition"&&(o=n);const a={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[s][1].type="setextHeadingText",o?(e.splice(s,0,["enter",a,t]),e.splice(o+1,0,["exit",e[r][1],t]),e[r][1].end={...e[o][1].end}):e[r][1]=a,e.push(["exit",a,t]),e}function lB(e,t,n){const r=this;let s;return o;function o(u){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),s=u,a(u)):n(u)}function a(u){return e.enter("setextHeadingLineSequence"),l(u)}function l(u){return u===s?(e.consume(u),l):(e.exit("setextHeadingLineSequence"),st(u)?mt(e,c,"lineSuffix")(u):c(u))}function c(u){return u===null||Oe(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const cB={tokenize:uB};function uB(e){const t=this,n=e.attempt(Pf,r,e.attempt(this.parser.constructs.flowInitial,s,mt(e,e.attempt(this.parser.constructs.flow,s,e.attempt(m8,s)),"linePrefix")));return n;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function s(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const dB={resolveAll:f2()},fB=d2("string"),hB=d2("text");function d2(e){return{resolveAll:f2(e==="text"?pB:void 0),tokenize:t};function t(n){const r=this,s=this.parser.constructs[e],o=n.attempt(s,a,l);return a;function a(d){return u(d)?o(d):l(d)}function l(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),c}function c(d){return u(d)?(n.exit("data"),o(d)):(n.consume(d),c)}function u(d){if(d===null)return!0;const f=s[d];let h=-1;if(f)for(;++h<f.length;){const m=f[h];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function f2(e){return t;function t(n,r){let s=-1,o;for(;++s<=n.length;)o===void 0?n[s]&&n[s][1].type==="data"&&(o=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==o+2&&(n[o][1].end=n[s-1][1].end,n.splice(o+2,s-o-2),s=o+2),o=void 0);return e?e(n,r):n}}function pB(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],s=t.sliceStream(r);let o=s.length,a=-1,l=0,c;for(;o--;){const u=s[o];if(typeof u=="string"){for(a=u.length;u.charCodeAt(a-1)===32;)l++,a--;if(a)break;a=-1}else if(u===-2)c=!0,l++;else if(u!==-1){o++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){const u={type:n===e.length||c||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?a:r.start._bufferIndex+a,_index:r.start._index+o,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const mB={42:_n,43:_n,45:_n,48:_n,49:_n,50:_n,51:_n,52:_n,53:_n,54:_n,55:_n,56:_n,57:_n,62:s2},gB={91:w8},xB={[-2]:Gh,[-1]:Gh,32:Gh},yB={35:k8,42:vu,45:[C0,vu],60:T8,61:C0,95:vu,96:N0,126:N0},vB={38:i2,92:o2},wB={[-5]:Kh,[-4]:Kh,[-3]:Kh,33:K8,38:i2,42:Xm,60:[QU,L8],91:Q8,92:[S8,o2],93:ry,95:Xm,96:c8},_B={null:[Xm,dB]},bB={null:[42,95]},jB={null:[]},SB=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:bB,contentInitial:gB,disable:jB,document:mB,flow:yB,flowInitial:xB,insideSpan:_B,string:vB,text:wB},Symbol.toStringTag,{value:"Module"}));function NB(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},o=[];let a=[],l=[];const c={attempt:C(N),check:C(j),consume:v,enter:w,exit:b,interrupt:C(j,{interrupt:!0})},u={code:null,containerState:{},defineSkip:g,events:[],now:x,parser:e,previous:null,sliceSerialize:h,sliceStream:m,write:f};let d=t.tokenize.call(u,c);return t.resolveAll&&o.push(t),u;function f(D){return a=Zn(a,D),_(),a[a.length-1]!==null?[]:(R(t,0),u.events=ny(o,u.events,u),u.events)}function h(D,O){return CB(m(D),O)}function m(D){return kB(a,D)}function x(){const{_bufferIndex:D,_index:O,line:z,column:W,offset:A}=r;return{_bufferIndex:D,_index:O,line:z,column:W,offset:A}}function g(D){s[D.line]=D.column,T()}function _(){let D;for(;r._index<a.length;){const O=a[r._index];if(typeof O=="string")for(D=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===D&&r._bufferIndex<O.length;)y(O.charCodeAt(r._bufferIndex));else y(O)}}function y(D){d=d(D)}function v(D){Oe(D)?(r.line++,r.column=1,r.offset+=D===-3?2:1,T()):D!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=D}function w(D,O){const z=O||{};return z.type=D,z.start=x(),u.events.push(["enter",z,u]),l.push(z),z}function b(D){const O=l.pop();return O.end=x(),u.events.push(["exit",O,u]),O}function N(D,O){R(D,O.from)}function j(D,O){O.restore()}function C(D,O){return z;function z(W,A,M){let G,P,I,S;return Array.isArray(W)?te(W):"tokenize"in W?te([W]):H(W);function H(ce){return ue;function ue(Y){const Q=Y!==null&&ce[Y],ne=Y!==null&&ce.null,xe=[...Array.isArray(Q)?Q:Q?[Q]:[],...Array.isArray(ne)?ne:ne?[ne]:[]];return te(xe)(Y)}}function te(ce){return G=ce,P=0,ce.length===0?M:k(ce[P])}function k(ce){return ue;function ue(Y){return S=E(),I=ce,ce.partial||(u.currentConstruct=ce),ce.name&&u.parser.constructs.disable.null.includes(ce.name)?ve():ce.tokenize.call(O?Object.assign(Object.create(u),O):u,c,de,ve)(Y)}}function de(ce){return D(I,S),A}function ve(ce){return S.restore(),++P<G.length?k(G[P]):M}}}function R(D,O){D.resolveAll&&!o.includes(D)&&o.push(D),D.resolve&&Ur(u.events,O,u.events.length-O,D.resolve(u.events.slice(O),u)),D.resolveTo&&(u.events=D.resolveTo(u.events,u))}function E(){const D=x(),O=u.previous,z=u.currentConstruct,W=u.events.length,A=Array.from(l);return{from:W,restore:M};function M(){r=D,u.previous=O,u.currentConstruct=z,u.events.length=W,l=A,T()}}function T(){r.line in s&&r.column<2&&(r.column=s[r.line],r.offset+=s[r.line]-1)}}function kB(e,t){const n=t.start._index,r=t.start._bufferIndex,s=t.end._index,o=t.end._bufferIndex;let a;if(n===s)a=[e[n].slice(r,o)];else{if(a=e.slice(n,s),r>-1){const l=a[0];typeof l=="string"?a[0]=l.slice(r):a.shift()}o>0&&a.push(e[s].slice(0,o))}return a}function CB(e,t){let n=-1;const r=[];let s;for(;++n<e.length;){const o=e[n];let a;if(typeof o=="string")a=o;else switch(o){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&s)continue;a=" ";break}default:a=String.fromCharCode(o)}s=o===-2,r.push(a)}return r.join("")}function EB(e){const r={constructs:OU([SB,...(e||{}).extensions||[]]),content:s(HU),defined:[],document:s(WU),flow:s(cB),lazy:{},string:s(fB),text:s(hB)};return r;function s(o){return a;function a(l){return NB(r,o,l)}}}function PB(e){for(;!a2(e););return e}const E0=/[\0\t\n\r]/g;function TB(){let e=1,t="",n=!0,r;return s;function s(o,a,l){const c=[];let u,d,f,h,m;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(a||void 0).decode(o)),f=0,t="",n&&(o.charCodeAt(0)===65279&&f++,n=void 0);f<o.length;){if(E0.lastIndex=f,u=E0.exec(o),h=u&&u.index!==void 0?u.index:o.length,m=o.charCodeAt(h),!u){t=o.slice(f);break}if(m===10&&f===h&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),f<h&&(c.push(o.slice(f,h)),e+=h-f),m){case 0:{c.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,c.push(-2);e++<d;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:r=!0,e=1}f=h+1}return l&&(r&&c.push(-5),t&&c.push(t),c.push(null)),c}}const RB=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function IB(e){return e.replace(RB,AB)}function AB(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const s=n.charCodeAt(1),o=s===120||s===88;return r2(n.slice(o?2:1),o?16:10)}return ty(n)||e}const h2={}.hasOwnProperty;function MB(e,t,n){return typeof t!="string"&&(n=t,t=void 0),OB(n)(PB(EB(n).document().write(TB()(e,t,!0))))}function OB(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(K),autolinkProtocol:E,autolinkEmail:E,atxHeading:o(Je),blockQuote:o(ne),characterEscape:E,characterReference:E,codeFenced:o(xe),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:o(xe,a),codeText:o(Re,a),codeTextData:E,data:E,codeFlowValue:E,definition:o(Ye),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:o(Ke),hardBreakEscape:o(Z),hardBreakTrailing:o(Z),htmlFlow:o(Se,a),htmlFlowData:E,htmlText:o(Se,a),htmlTextData:E,image:o(L),label:a,link:o(K),listItem:o(ye),listItemValue:h,listOrdered:o(oe,f),listUnordered:o(oe),paragraph:o(Ae),reference:k,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:o(Je),strong:o(Me),thematicBreak:o(Ee)},exit:{atxHeading:c(),atxHeadingSequence:N,autolink:c(),autolinkEmail:Q,autolinkProtocol:Y,blockQuote:c(),characterEscapeValue:T,characterReferenceMarkerHexadecimal:ve,characterReferenceMarkerNumeric:ve,characterReferenceValue:ce,characterReference:ue,codeFenced:c(_),codeFencedFence:g,codeFencedFenceInfo:m,codeFencedFenceMeta:x,codeFlowValue:T,codeIndented:c(y),codeText:c(A),codeTextData:T,data:T,definition:c(),definitionDestinationString:b,definitionLabelString:v,definitionTitleString:w,emphasis:c(),hardBreakEscape:c(O),hardBreakTrailing:c(O),htmlFlow:c(z),htmlFlowData:T,htmlText:c(W),htmlTextData:T,image:c(G),label:I,labelText:P,lineEnding:D,link:c(M),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:de,resourceDestinationString:S,resourceTitleString:H,resource:te,setextHeading:c(R),setextHeadingLineSequence:C,setextHeadingText:j,strong:c(),thematicBreak:c()}};p2(t,(e||{}).mdastExtensions||[]);const n={};return r;function r($){let V={type:"root",children:[]};const me={stack:[V],tokenStack:[],config:t,enter:l,exit:u,buffer:a,resume:d,data:n},Ce=[];let qe=-1;for(;++qe<$.length;)if($[qe][1].type==="listOrdered"||$[qe][1].type==="listUnordered")if($[qe][0]==="enter")Ce.push(qe);else{const et=Ce.pop();qe=s($,et,qe)}for(qe=-1;++qe<$.length;){const et=t[$[qe][0]];h2.call(et,$[qe][1].type)&&et[$[qe][1].type].call(Object.assign({sliceSerialize:$[qe][2].sliceSerialize},me),$[qe][1])}if(me.tokenStack.length>0){const et=me.tokenStack[me.tokenStack.length-1];(et[1]||P0).call(me,void 0,et[0])}for(V.position={start:_s($.length>0?$[0][1].start:{line:1,column:1,offset:0}),end:_s($.length>0?$[$.length-2][1].end:{line:1,column:1,offset:0})},qe=-1;++qe<t.transforms.length;)V=t.transforms[qe](V)||V;return V}function s($,V,me){let Ce=V-1,qe=-1,et=!1,dt,Ue,At,vt;for(;++Ce<=me;){const tt=$[Ce];switch(tt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{tt[0]==="enter"?qe++:qe--,vt=void 0;break}case"lineEndingBlank":{tt[0]==="enter"&&(dt&&!vt&&!qe&&!At&&(At=Ce),vt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:vt=void 0}if(!qe&&tt[0]==="enter"&&tt[1].type==="listItemPrefix"||qe===-1&&tt[0]==="exit"&&(tt[1].type==="listUnordered"||tt[1].type==="listOrdered")){if(dt){let $t=Ce;for(Ue=void 0;$t--;){const Pe=$[$t];if(Pe[1].type==="lineEnding"||Pe[1].type==="lineEndingBlank"){if(Pe[0]==="exit")continue;Ue&&($[Ue][1].type="lineEndingBlank",et=!0),Pe[1].type="lineEnding",Ue=$t}else if(!(Pe[1].type==="linePrefix"||Pe[1].type==="blockQuotePrefix"||Pe[1].type==="blockQuotePrefixWhitespace"||Pe[1].type==="blockQuoteMarker"||Pe[1].type==="listItemIndent"))break}At&&(!Ue||At<Ue)&&(dt._spread=!0),dt.end=Object.assign({},Ue?$[Ue][1].start:tt[1].end),$.splice(Ue||Ce,0,["exit",dt,tt[2]]),Ce++,me++}if(tt[1].type==="listItemPrefix"){const $t={type:"listItem",_spread:!1,start:Object.assign({},tt[1].start),end:void 0};dt=$t,$.splice(Ce,0,["enter",$t,tt[2]]),Ce++,me++,At=void 0,vt=!0}}}return $[V][1]._spread=et,me}function o($,V){return me;function me(Ce){l.call(this,$(Ce),Ce),V&&V.call(this,Ce)}}function a(){this.stack.push({type:"fragment",children:[]})}function l($,V,me){this.stack[this.stack.length-1].children.push($),this.stack.push($),this.tokenStack.push([V,me||void 0]),$.position={start:_s(V.start),end:void 0}}function c($){return V;function V(me){$&&$.call(this,me),u.call(this,me)}}function u($,V){const me=this.stack.pop(),Ce=this.tokenStack.pop();if(Ce)Ce[0].type!==$.type&&(V?V.call(this,$,Ce[0]):(Ce[1]||P0).call(this,$,Ce[0]));else throw new Error("Cannot close `"+$.type+"` ("+ml({start:$.start,end:$.end})+"): its not open");me.position.end=_s($.end)}function d(){return AU(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function h($){if(this.data.expectingFirstListItemValue){const V=this.stack[this.stack.length-2];V.start=Number.parseInt(this.sliceSerialize($),10),this.data.expectingFirstListItemValue=void 0}}function m(){const $=this.resume(),V=this.stack[this.stack.length-1];V.lang=$}function x(){const $=this.resume(),V=this.stack[this.stack.length-1];V.meta=$}function g(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function _(){const $=this.resume(),V=this.stack[this.stack.length-1];V.value=$.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const $=this.resume(),V=this.stack[this.stack.length-1];V.value=$.replace(/(\r?\n|\r)$/g,"")}function v($){const V=this.resume(),me=this.stack[this.stack.length-1];me.label=V,me.identifier=Wi(this.sliceSerialize($)).toLowerCase()}function w(){const $=this.resume(),V=this.stack[this.stack.length-1];V.title=$}function b(){const $=this.resume(),V=this.stack[this.stack.length-1];V.url=$}function N($){const V=this.stack[this.stack.length-1];if(!V.depth){const me=this.sliceSerialize($).length;V.depth=me}}function j(){this.data.setextHeadingSlurpLineEnding=!0}function C($){const V=this.stack[this.stack.length-1];V.depth=this.sliceSerialize($).codePointAt(0)===61?1:2}function R(){this.data.setextHeadingSlurpLineEnding=void 0}function E($){const me=this.stack[this.stack.length-1].children;let Ce=me[me.length-1];(!Ce||Ce.type!=="text")&&(Ce=ke(),Ce.position={start:_s($.start),end:void 0},me.push(Ce)),this.stack.push(Ce)}function T($){const V=this.stack.pop();V.value+=this.sliceSerialize($),V.position.end=_s($.end)}function D($){const V=this.stack[this.stack.length-1];if(this.data.atHardBreak){const me=V.children[V.children.length-1];me.position.end=_s($.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(V.type)&&(E.call(this,$),T.call(this,$))}function O(){this.data.atHardBreak=!0}function z(){const $=this.resume(),V=this.stack[this.stack.length-1];V.value=$}function W(){const $=this.resume(),V=this.stack[this.stack.length-1];V.value=$}function A(){const $=this.resume(),V=this.stack[this.stack.length-1];V.value=$}function M(){const $=this.stack[this.stack.length-1];if(this.data.inReference){const V=this.data.referenceType||"shortcut";$.type+="Reference",$.referenceType=V,delete $.url,delete $.title}else delete $.identifier,delete $.label;this.data.referenceType=void 0}function G(){const $=this.stack[this.stack.length-1];if(this.data.inReference){const V=this.data.referenceType||"shortcut";$.type+="Reference",$.referenceType=V,delete $.url,delete $.title}else delete $.identifier,delete $.label;this.data.referenceType=void 0}function P($){const V=this.sliceSerialize($),me=this.stack[this.stack.length-2];me.label=IB(V),me.identifier=Wi(V).toLowerCase()}function I(){const $=this.stack[this.stack.length-1],V=this.resume(),me=this.stack[this.stack.length-1];if(this.data.inReference=!0,me.type==="link"){const Ce=$.children;me.children=Ce}else me.alt=V}function S(){const $=this.resume(),V=this.stack[this.stack.length-1];V.url=$}function H(){const $=this.resume(),V=this.stack[this.stack.length-1];V.title=$}function te(){this.data.inReference=void 0}function k(){this.data.referenceType="collapsed"}function de($){const V=this.resume(),me=this.stack[this.stack.length-1];me.label=V,me.identifier=Wi(this.sliceSerialize($)).toLowerCase(),this.data.referenceType="full"}function ve($){this.data.characterReferenceType=$.type}function ce($){const V=this.sliceSerialize($),me=this.data.characterReferenceType;let Ce;me?(Ce=r2(V,me==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ce=ty(V);const qe=this.stack[this.stack.length-1];qe.value+=Ce}function ue($){const V=this.stack.pop();V.position.end=_s($.end)}function Y($){T.call(this,$);const V=this.stack[this.stack.length-1];V.url=this.sliceSerialize($)}function Q($){T.call(this,$);const V=this.stack[this.stack.length-1];V.url="mailto:"+this.sliceSerialize($)}function ne(){return{type:"blockquote",children:[]}}function xe(){return{type:"code",lang:null,meta:null,value:""}}function Re(){return{type:"inlineCode",value:""}}function Ye(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ke(){return{type:"emphasis",children:[]}}function Je(){return{type:"heading",depth:0,children:[]}}function Z(){return{type:"break"}}function Se(){return{type:"html",value:""}}function L(){return{type:"image",title:null,url:"",alt:null}}function K(){return{type:"link",title:null,url:"",children:[]}}function oe($){return{type:"list",ordered:$.type==="listOrdered",start:null,spread:$._spread,children:[]}}function ye($){return{type:"listItem",spread:$._spread,checked:null,children:[]}}function Ae(){return{type:"paragraph",children:[]}}function Me(){return{type:"strong",children:[]}}function ke(){return{type:"text",value:""}}function Ee(){return{type:"thematicBreak"}}}function _s(e){return{line:e.line,column:e.column,offset:e.offset}}function p2(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?p2(e,r):DB(e,r)}}function DB(e,t){let n;for(n in t)if(h2.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function P0(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+ml({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+ml({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+ml({start:t.start,end:t.end})+") is still open")}function LB(e){const t=this;t.parser=n;function n(r){return MB(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function $B(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function FB(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function zB(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function UB(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function BB(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function HB(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),s=Aa(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let a,l=e.footnoteCounts.get(r);l===void 0?(l=0,e.footnoteOrder.push(r),a=e.footnoteOrder.length):a=o+1,l+=1,e.footnoteCounts.set(r,l);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,c);const u={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,u),e.applyData(t,u)}function VB(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function WB(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function m2(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const s=e.all(t),o=s[0];o&&o.type==="text"?o.value="["+o.value:s.unshift({type:"text",value:"["});const a=s[s.length-1];return a&&a.type==="text"?a.value+=r:s.push({type:"text",value:r}),s}function qB(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return m2(e,t);const s={src:Aa(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(s.title=r.title);const o={type:"element",tagName:"img",properties:s,children:[]};return e.patch(t,o),e.applyData(t,o)}function GB(e,t){const n={src:Aa(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function KB(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function YB(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return m2(e,t);const s={href:Aa(r.url||"")};r.title!==null&&r.title!==void 0&&(s.title=r.title);const o={type:"element",tagName:"a",properties:s,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function QB(e,t){const n={href:Aa(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function XB(e,t,n){const r=e.all(t),s=n?JB(n):g2(t),o={},a=[];if(typeof t.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const d=r[l];(s||l!==0||d.type!=="element"||d.tagName!=="p")&&a.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!s?a.push(...d.children):a.push(d)}const c=r[r.length-1];c&&(s||c.type!=="element"||c.tagName!=="p")&&a.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:o,children:a};return e.patch(t,u),e.applyData(t,u)}function JB(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=g2(n[r])}return t}function g2(e){const t=e.spread;return t??e.children.length>1}function ZB(e,t){const n={},r=e.all(t);let s=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++s<r.length;){const a=r[s];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)}function e7(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function t7(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function n7(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function r7(e,t){const n=e.all(t),r=n.shift(),s=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],a),s.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},l=Xx(t.children[1]),c=QC(t.children[t.children.length-1]);l&&c&&(a.position={start:l,end:c}),s.push(a)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(s,!0)};return e.patch(t,o),e.applyData(t,o)}function s7(e,t,n){const r=n?n.children:void 0,o=(r?r.indexOf(t):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,l=a?a.length:t.children.length;let c=-1;const u=[];for(;++c<l;){const f=t.children[c],h={},m=a?a[c]:void 0;m&&(h.align=m);let x={type:"element",tagName:o,properties:h,children:[]};f&&(x.children=e.all(f),e.patch(f,x),x=e.applyData(f,x)),u.push(x)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,d),e.applyData(t,d)}function o7(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const T0=9,R0=32;function i7(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),s=0;const o=[];for(;r;)o.push(I0(t.slice(s,r.index),s>0,!0),r[0]),s=r.index+r[0].length,r=n.exec(t);return o.push(I0(t.slice(s),s>0,!1)),o.join("")}function I0(e,t,n){let r=0,s=e.length;if(t){let o=e.codePointAt(r);for(;o===T0||o===R0;)r++,o=e.codePointAt(r)}if(n){let o=e.codePointAt(s-1);for(;o===T0||o===R0;)s--,o=e.codePointAt(s-1)}return s>r?e.slice(r,s):""}function a7(e,t){const n={type:"text",value:i7(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function l7(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const c7={blockquote:$B,break:FB,code:zB,delete:UB,emphasis:BB,footnoteReference:HB,heading:VB,html:WB,imageReference:qB,image:GB,inlineCode:KB,linkReference:YB,link:QB,listItem:XB,list:ZB,paragraph:e7,root:t7,strong:n7,table:r7,tableCell:o7,tableRow:s7,text:a7,thematicBreak:l7,toml:Jc,yaml:Jc,definition:Jc,footnoteDefinition:Jc};function Jc(){}const x2=-1,Tf=0,xl=1,dd=2,sy=3,oy=4,iy=5,ay=6,y2=7,v2=8,A0=typeof self=="object"?self:globalThis,u7=(e,t)=>{const n=(s,o)=>(e.set(o,s),s),r=s=>{if(e.has(s))return e.get(s);const[o,a]=t[s];switch(o){case Tf:case x2:return n(a,s);case xl:{const l=n([],s);for(const c of a)l.push(r(c));return l}case dd:{const l=n({},s);for(const[c,u]of a)l[r(c)]=r(u);return l}case sy:return n(new Date(a),s);case oy:{const{source:l,flags:c}=a;return n(new RegExp(l,c),s)}case iy:{const l=n(new Map,s);for(const[c,u]of a)l.set(r(c),r(u));return l}case ay:{const l=n(new Set,s);for(const c of a)l.add(r(c));return l}case y2:{const{name:l,message:c}=a;return n(new A0[l](c),s)}case v2:return n(BigInt(a),s);case"BigInt":return n(Object(BigInt(a)),s);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:l}=new Uint8Array(a);return n(new DataView(l),a)}}return n(new A0[o](a),s)};return r},M0=e=>u7(new Map,e)(0),yi="",{toString:d7}={},{keys:f7}=Object,Ya=e=>{const t=typeof e;if(t!=="object"||!e)return[Tf,t];const n=d7.call(e).slice(8,-1);switch(n){case"Array":return[xl,yi];case"Object":return[dd,yi];case"Date":return[sy,yi];case"RegExp":return[oy,yi];case"Map":return[iy,yi];case"Set":return[ay,yi];case"DataView":return[xl,n]}return n.includes("Array")?[xl,n]:n.includes("Error")?[y2,n]:[dd,n]},Zc=([e,t])=>e===Tf&&(t==="function"||t==="symbol"),h7=(e,t,n,r)=>{const s=(a,l)=>{const c=r.push(a)-1;return n.set(l,c),c},o=a=>{if(n.has(a))return n.get(a);let[l,c]=Ya(a);switch(l){case Tf:{let d=a;switch(c){case"bigint":l=v2,d=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);d=null;break;case"undefined":return s([x2],a)}return s([l,d],a)}case xl:{if(c){let h=a;return c==="DataView"?h=new Uint8Array(a.buffer):c==="ArrayBuffer"&&(h=new Uint8Array(a)),s([c,[...h]],a)}const d=[],f=s([l,d],a);for(const h of a)d.push(o(h));return f}case dd:{if(c)switch(c){case"BigInt":return s([c,a.toString()],a);case"Boolean":case"Number":case"String":return s([c,a.valueOf()],a)}if(t&&"toJSON"in a)return o(a.toJSON());const d=[],f=s([l,d],a);for(const h of f7(a))(e||!Zc(Ya(a[h])))&&d.push([o(h),o(a[h])]);return f}case sy:return s([l,a.toISOString()],a);case oy:{const{source:d,flags:f}=a;return s([l,{source:d,flags:f}],a)}case iy:{const d=[],f=s([l,d],a);for(const[h,m]of a)(e||!(Zc(Ya(h))||Zc(Ya(m))))&&d.push([o(h),o(m)]);return f}case ay:{const d=[],f=s([l,d],a);for(const h of a)(e||!Zc(Ya(h)))&&d.push(o(h));return f}}const{message:u}=a;return s([l,{name:c,message:u}],a)};return o},O0=(e,{json:t,lossy:n}={})=>{const r=[];return h7(!(t||n),!!t,new Map,r)(e),r},fd=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?M0(O0(e,t)):structuredClone(e):(e,t)=>M0(O0(e,t));function p7(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function m7(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function g7(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||p7,r=e.options.footnoteBackLabel||m7,s=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let c=-1;for(;++c<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[c]);if(!u)continue;const d=e.all(u),f=String(u.identifier).toUpperCase(),h=Aa(f.toLowerCase());let m=0;const x=[],g=e.footnoteCounts.get(f);for(;g!==void 0&&++m<=g;){x.length>0&&x.push({type:"text",value:" "});let v=typeof n=="string"?n:n(c,m);typeof v=="string"&&(v={type:"text",value:v}),x.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+h+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,m),className:["data-footnote-backref"]},children:Array.isArray(v)?v:[v]})}const _=d[d.length-1];if(_&&_.type==="element"&&_.tagName==="p"){const v=_.children[_.children.length-1];v&&v.type==="text"?v.value+=" ":_.children.push({type:"text",value:" "}),_.children.push(...x)}else d.push(...x);const y={type:"element",tagName:"li",properties:{id:t+"fn-"+h},children:e.wrap(d,!0)};e.patch(u,y),l.push(y)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...fd(a),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(l,!0)},{type:"text",value:`
`}]}}const w2=function(e){if(e==null)return w7;if(typeof e=="function")return Rf(e);if(typeof e=="object")return Array.isArray(e)?x7(e):y7(e);if(typeof e=="string")return v7(e);throw new Error("Expected function, string, or object as test")};function x7(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=w2(e[n]);return Rf(r);function r(...s){let o=-1;for(;++o<t.length;)if(t[o].apply(this,s))return!0;return!1}}function y7(e){const t=e;return Rf(n);function n(r){const s=r;let o;for(o in e)if(s[o]!==t[o])return!1;return!0}}function v7(e){return Rf(t);function t(n){return n&&n.type===e}}function Rf(e){return t;function t(n,r,s){return!!(_7(n)&&e.call(this,n,typeof r=="number"?r:void 0,s||void 0))}}function w7(){return!0}function _7(e){return e!==null&&typeof e=="object"&&"type"in e}const _2=[],b7=!0,D0=!1,j7="skip";function S7(e,t,n,r){let s;typeof t=="function"&&typeof n!="function"?(r=n,n=t):s=t;const o=w2(s),a=r?-1:1;l(e,void 0,[])();function l(c,u,d){const f=c&&typeof c=="object"?c:{};if(typeof f.type=="string"){const m=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(c.type+(m?"<"+m+">":""))+")"})}return h;function h(){let m=_2,x,g,_;if((!t||o(c,u,d[d.length-1]||void 0))&&(m=N7(n(c,d)),m[0]===D0))return m;if("children"in c&&c.children){const y=c;if(y.children&&m[0]!==j7)for(g=(r?y.children.length:-1)+a,_=d.concat(y);g>-1&&g<y.children.length;){const v=y.children[g];if(x=l(v,g,_)(),x[0]===D0)return x;g=typeof x[1]=="number"?x[1]:g+a}}return m}}}function N7(e){return Array.isArray(e)?e:typeof e=="number"?[b7,e]:e==null?_2:[e]}function b2(e,t,n,r){let s,o,a;typeof t=="function"&&typeof n!="function"?(o=void 0,a=t,s=n):(o=t,a=n,s=r),S7(e,o,l,s);function l(c,u){const d=u[u.length-1],f=d?d.children.indexOf(c):void 0;return a(c,f,d)}}const Jm={}.hasOwnProperty,k7={};function C7(e,t){const n=t||k7,r=new Map,s=new Map,o=new Map,a={...c7,...n.handlers},l={all:u,applyData:P7,definitionById:r,footnoteById:s,footnoteCounts:o,footnoteOrder:[],handlers:a,one:c,options:n,patch:E7,wrap:R7};return b2(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:s,h=String(d.identifier).toUpperCase();f.has(h)||f.set(h,d)}}),l;function c(d,f){const h=d.type,m=l.handlers[h];if(Jm.call(l.handlers,h)&&m)return m(l,d,f);if(l.options.passThrough&&l.options.passThrough.includes(h)){if("children"in d){const{children:g,..._}=d,y=fd(_);return y.children=l.all(d),y}return fd(d)}return(l.options.unknownHandler||T7)(l,d,f)}function u(d){const f=[];if("children"in d){const h=d.children;let m=-1;for(;++m<h.length;){const x=l.one(h[m],d);if(x){if(m&&h[m-1].type==="break"&&(!Array.isArray(x)&&x.type==="text"&&(x.value=L0(x.value)),!Array.isArray(x)&&x.type==="element")){const g=x.children[0];g&&g.type==="text"&&(g.value=L0(g.value))}Array.isArray(x)?f.push(...x):f.push(x)}}}return f}}function E7(e,t){e.position&&(t.position=dU(e))}function P7(e,t){let n=t;if(e&&e.data){const r=e.data.hName,s=e.data.hChildren,o=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&o&&Object.assign(n.properties,fd(o)),"children"in n&&n.children&&s!==null&&s!==void 0&&(n.children=s)}return n}function T7(e,t){const n=t.data||{},r="value"in t&&!(Jm.call(n,"hProperties")||Jm.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function R7(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function L0(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function $0(e,t){const n=C7(e,t),r=n.one(e,void 0),s=g7(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return s&&o.children.push({type:"text",value:`
`},s),o}function I7(e,t){return e&&"run"in e?async function(n,r){const s=$0(n,{file:r,...t});await e.run(s,r)}:function(n,r){return $0(n,{file:r,...e||t})}}function F0(e){if(e)throw e}var wu=Object.prototype.hasOwnProperty,j2=Object.prototype.toString,z0=Object.defineProperty,U0=Object.getOwnPropertyDescriptor,B0=function(t){return typeof Array.isArray=="function"?Array.isArray(t):j2.call(t)==="[object Array]"},H0=function(t){if(!t||j2.call(t)!=="[object Object]")return!1;var n=wu.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&wu.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var s;for(s in t);return typeof s>"u"||wu.call(t,s)},V0=function(t,n){z0&&n.name==="__proto__"?z0(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},W0=function(t,n){if(n==="__proto__")if(wu.call(t,n)){if(U0)return U0(t,n).value}else return;return t[n]},A7=function e(){var t,n,r,s,o,a,l=arguments[0],c=1,u=arguments.length,d=!1;for(typeof l=="boolean"&&(d=l,l=arguments[1]||{},c=2),(l==null||typeof l!="object"&&typeof l!="function")&&(l={});c<u;++c)if(t=arguments[c],t!=null)for(n in t)r=W0(l,n),s=W0(t,n),l!==s&&(d&&s&&(H0(s)||(o=B0(s)))?(o?(o=!1,a=r&&B0(r)?r:[]):a=r&&H0(r)?r:{},V0(l,{name:n,newValue:e(d,a,s)})):typeof s<"u"&&V0(l,{name:n,newValue:s}));return l};const Yh=gd(A7);function Zm(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function M7(){const e=[],t={run:n,use:r};return t;function n(...s){let o=-1;const a=s.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);l(null,...s);function l(c,...u){const d=e[++o];let f=-1;if(c){a(c);return}for(;++f<s.length;)(u[f]===null||u[f]===void 0)&&(u[f]=s[f]);s=u,d?O7(d,l)(...u):a(null,...u)}}function r(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return e.push(s),t}}function O7(e,t){let n;return r;function r(...a){const l=e.length>a.length;let c;l&&a.push(s);try{c=e.apply(this,a)}catch(u){const d=u;if(l&&n)throw d;return s(d)}l||(c&&c.then&&typeof c.then=="function"?c.then(o,s):c instanceof Error?s(c):o(c))}function s(a,...l){n||(n=!0,t(a,...l))}function o(a){s(null,a)}}const Tr={basename:D7,dirname:L7,extname:$7,join:F7,sep:"/"};function D7(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');wc(e);let n=0,r=-1,s=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;s--;)if(e.codePointAt(s)===47){if(o){n=s+1;break}}else r<0&&(o=!0,r=s+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let a=-1,l=t.length-1;for(;s--;)if(e.codePointAt(s)===47){if(o){n=s+1;break}}else a<0&&(o=!0,a=s+1),l>-1&&(e.codePointAt(s)===t.codePointAt(l--)?l<0&&(r=s):(l=-1,r=a));return n===r?r=a:r<0&&(r=e.length),e.slice(n,r)}function L7(e){if(wc(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function $7(e){wc(e);let t=e.length,n=-1,r=0,s=-1,o=0,a;for(;t--;){const l=e.codePointAt(t);if(l===47){if(a){r=t+1;break}continue}n<0&&(a=!0,n=t+1),l===46?s<0?s=t:o!==1&&(o=1):s>-1&&(o=-1)}return s<0||n<0||o===0||o===1&&s===n-1&&s===r+1?"":e.slice(s,n)}function F7(...e){let t=-1,n;for(;++t<e.length;)wc(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":z7(n)}function z7(e){wc(e);const t=e.codePointAt(0)===47;let n=U7(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function U7(e,t){let n="",r=0,s=-1,o=0,a=-1,l,c;for(;++a<=e.length;){if(a<e.length)l=e.codePointAt(a);else{if(l===47)break;l=47}if(l===47){if(!(s===a-1||o===1))if(s!==a-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),s=a,o=0;continue}}else if(n.length>0){n="",r=0,s=a,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(s+1,a):n=e.slice(s+1,a),r=a-s-1;s=a,o=0}else l===46&&o>-1?o++:o=-1}return n}function wc(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const B7={cwd:H7};function H7(){return"/"}function eg(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function V7(e){if(typeof e=="string")e=new URL(e);else if(!eg(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return W7(e)}function W7(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(t)}const Qh=["history","path","basename","stem","extname","dirname"];class S2{constructor(t){let n;t?eg(t)?n={path:t}:typeof t=="string"||q7(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":B7.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Qh.length;){const o=Qh[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let s;for(s in n)Qh.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?Tr.basename(this.path):void 0}set basename(t){Jh(t,"basename"),Xh(t,"basename"),this.path=Tr.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Tr.dirname(this.path):void 0}set dirname(t){q0(this.basename,"dirname"),this.path=Tr.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Tr.extname(this.path):void 0}set extname(t){if(Xh(t,"extname"),q0(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Tr.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){eg(t)&&(t=V7(t)),Jh(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Tr.basename(this.path,this.extname):void 0}set stem(t){Jh(t,"stem"),Xh(t,"stem"),this.path=Tr.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const s=this.message(t,n,r);throw s.fatal=!0,s}info(t,n,r){const s=this.message(t,n,r);return s.fatal=void 0,s}message(t,n,r){const s=new an(t,n,r);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Xh(e,t){if(e&&e.includes(Tr.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Tr.sep+"`")}function Jh(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function q0(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function q7(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const G7=function(e){const r=this.constructor.prototype,s=r[e],o=function(){return s.apply(o,arguments)};return Object.setPrototypeOf(o,r),o},K7={}.hasOwnProperty;class ly extends G7{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=M7()}copy(){const t=new ly;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Yh(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(tp("data",this.frozen),this.namespace[t]=n,this):K7.call(this.namespace,t)&&this.namespace[t]||void 0:t?(tp("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const s=n.call(t,...r);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=eu(t),r=this.parser||this.Parser;return Zh("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Zh("process",this.parser||this.Parser),ep("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(o,a){const l=eu(t),c=r.parse(l);r.run(c,l,function(d,f,h){if(d||!f||!h)return u(d);const m=f,x=r.stringify(m,h);X7(x)?h.value=x:h.result=x,u(d,h)});function u(d,f){d||!f?a(d):o?o(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),Zh("processSync",this.parser||this.Parser),ep("processSync",this.compiler||this.Compiler),this.process(t,s),K0("processSync","process",n),r;function s(o,a){n=!0,F0(o),r=a}}run(t,n,r){G0(t),this.freeze();const s=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(a,l){const c=eu(n);s.run(t,c,u);function u(d,f,h){const m=f||t;d?l(d):a?a(m):r(void 0,m,h)}}}runSync(t,n){let r=!1,s;return this.run(t,n,o),K0("runSync","run",r),s;function o(a,l){F0(a),s=l,r=!0}}stringify(t,n){this.freeze();const r=eu(n),s=this.compiler||this.Compiler;return ep("stringify",s),G0(t),s(t,r)}use(t,...n){const r=this.attachers,s=this.namespace;if(tp("use",this.frozen),t!=null)if(typeof t=="function")c(t,n);else if(typeof t=="object")Array.isArray(t)?l(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(u){if(typeof u=="function")c(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...f]=u;c(d,f)}else a(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function a(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(u.plugins),u.settings&&(s.settings=Yh(!0,s.settings,u.settings))}function l(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const f=u[d];o(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function c(u,d){let f=-1,h=-1;for(;++f<r.length;)if(r[f][0]===u){h=f;break}if(h===-1)r.push([u,...d]);else if(d.length>0){let[m,...x]=d;const g=r[h][1];Zm(g)&&Zm(m)&&(m=Yh(!0,g,m)),r[h]=[u,m,...x]}}}}const Y7=new ly().freeze();function Zh(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function ep(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function tp(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function G0(e){if(!Zm(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function K0(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function eu(e){return Q7(e)?e:new S2(e)}function Q7(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function X7(e){return typeof e=="string"||J7(e)}function J7(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Z7="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Y0=[],Q0={allowDangerousHtml:!0},e9=/^(https?|ircs?|mailto|xmpp)$/i,t9=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function n9(e){const t=r9(e),n=s9(e);return o9(t.runSync(t.parse(n),n),e)}function r9(e){const t=e.rehypePlugins||Y0,n=e.remarkPlugins||Y0,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Q0}:Q0;return Y7().use(LB).use(n).use(I7,r).use(t)}function s9(e){const t=e.children||"",n=new S2;return typeof t=="string"&&(n.value=t),n}function o9(e,t){const n=t.allowedElements,r=t.allowElement,s=t.components,o=t.disallowedElements,a=t.skipHtml,l=t.unwrapDisallowed,c=t.urlTransform||i9;for(const d of t9)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+Z7+d.id,void 0);return b2(e,u),gU(e,{Fragment:i.Fragment,components:s,ignoreInvalidStyle:!0,jsx:i.jsx,jsxs:i.jsxs,passKeys:!0,passNode:!0});function u(d,f,h){if(d.type==="raw"&&h&&typeof f=="number")return a?h.children.splice(f,1):h.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let m;for(m in qh)if(Object.hasOwn(qh,m)&&Object.hasOwn(d.properties,m)){const x=d.properties[m],g=qh[m];(g===null||g.includes(d.tagName))&&(d.properties[m]=c(String(x||""),m,d))}}if(d.type==="element"){let m=n?!n.includes(d.tagName):o?o.includes(d.tagName):!1;if(!m&&r&&typeof f=="number"&&(m=!r(d,f,h)),m&&h&&typeof f=="number")return l&&d.children?h.children.splice(f,1,...d.children):h.children.splice(f,1),f}}}function i9(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),s=e.indexOf("/");return t===-1||s!==-1&&t>s||n!==-1&&t>n||r!==-1&&t>r||e9.test(e.slice(0,t))?e:""}const N2=({isOpen:e,onClose:t,materialId:n})=>{const{user:r}=gn(),[s,o]=p.useState(null),[a,l]=p.useState([]),[c,u]=p.useState(""),[d,f]=p.useState(!1),[h,m]=p.useState(null),[x,g]=p.useState(!1),[_,y]=p.useState(null),[v,w]=p.useState("");p.useEffect(()=>{e&&n&&(o(null),l([]),m(null),b(),N())},[e,n]),p.useEffect(()=>{(s!=null&&s.file_path||s!=null&&s.generation_format_path)&&j()},[s]);const b=async()=>{var A,M;if(n){f(!0);try{console.log(" Fetching material data for ID:",n);const{data:G,error:P}=await q.from("raw_generation_formats").select(`
          *,
          raw_generation_format_course_type_map(
            course_types(course_type_name)
          ),
          raw_generation_format_tag_map(
            tags(tag_name)
          )
        `).eq("raw_generation_format_id",n).maybeSingle();if(console.log(" Material query result:",{data:G,error:P}),P)throw P;if(!G){console.log(" No material found with ID:",n),o({raw_generation_format_id:n,generation_format_name:" ",generation_format_desc:"",gallery_desc:"",file_path:"",generation_format_path:"",likes_count:0,can_share:!1,created_at:new Date().toISOString(),uploaded_user_id:""});return}const{count:I}=await q.from("user_material_interactions").select("*",{count:"exact",head:!0}).eq("raw_generation_format_id",n).eq("interaction_type_id",2);console.log(" Download count:",I);const{count:S}=await q.from("raw_generation_format_likes").select("*",{count:"exact",head:!0}).eq("raw_generation_format_id",n);console.log(" Likes count:",S);let H=!1;if(r){const{data:de}=await q.from("raw_generation_format_likes").select("user_id").eq("raw_generation_format_id",n).eq("user_id",r.id).maybeSingle();H=!!de}console.log(" Is liked:",H);const te=((A=G.raw_generation_format_course_type_map)==null?void 0:A.map(de=>{var ve;return{course_type_name:(ve=de.course_types)==null?void 0:ve.course_type_name}}).filter(de=>de.course_type_name))||[],k=((M=G.raw_generation_format_tag_map)==null?void 0:M.map(de=>{var ve;return{tag_name:(ve=de.tags)==null?void 0:ve.tag_name}}).filter(de=>de.tag_name))||[];o({...G,course_types:te,tags:k,downloads_count:I||0,likes_count:S||0,is_liked:H}),console.log(" Material loaded successfully")}catch(G){console.error(" Error fetching material:",G),F.error("  .")}finally{f(!1)}}},N=async()=>{if(n)try{const{data:A,error:M}=await q.from("raw_generation_format_comments").select(`
          *,
          teacher_info(
            nickname,
            personal_photo_path,
            user_id
          )
        `).eq("raw_generation_format_id",n).eq("is_deleted",!1).order("created_at",{ascending:!0});if(M)throw M;l(A||[])}catch(A){console.error("Error fetching comments:",A)}},j=async()=>{if(!s)return;const A=s.file_path||s.generation_format_path;if(A)try{const{data:M,error:G}=await q.functions.invoke("secure-download",{body:{filePath:A,fileType:"generation-format"}});if(G)throw G;if(M!=null&&M.downloadUrl){const P=`https://docs.google.com/viewer?url=${encodeURIComponent(M.downloadUrl)}&embedded=true`;m(P)}}catch(M){console.error("Error generating preview URL:",M)}},C=async()=>{if(!(!r||!s))try{s.is_liked?await q.from("raw_generation_format_likes").delete().eq("raw_generation_format_id",s.raw_generation_format_id).eq("user_id",r.id):await q.from("raw_generation_format_likes").insert({raw_generation_format_id:s.raw_generation_format_id,user_id:r.id}),o(A=>A?{...A,is_liked:!A.is_liked,likes_count:A.is_liked?A.likes_count-1:A.likes_count+1}:null)}catch(A){console.error("Error toggling like:",A),F.error("  .")}},R=async()=>{if(s)try{await q.from("raw_generation_format_download_events").insert({raw_generation_format_id:s.raw_generation_format_id,actor_user_id:(r==null?void 0:r.id)||null}),h&&window.open(h,"_blank"),o(A=>A?{...A,downloads_count:(A.downloads_count||0)+1}:null),F.success(" .")}catch(A){console.error("Error downloading:",A),F.error(" .")}},E=async()=>{if(!(!r||!s||!c.trim())){g(!0);try{const{data:A}=await q.from("teacher_info").select("teacher_info_id").eq("user_id",r.id).maybeSingle();if(!A){F.error("   .");return}const{error:M}=await q.from("raw_generation_format_comments").insert({raw_generation_format_id:s.raw_generation_format_id,teacher_info_id:A.teacher_info_id,content:c.trim()});if(M)throw M;u(""),await N(),F.success(" .")}catch(A){console.error("Error submitting comment:",A),F.error("  .")}finally{g(!1)}}},T=async A=>{if(v.trim())try{const{error:M}=await q.from("raw_generation_format_comments").update({content:v.trim()}).eq("comment_id",A);if(M)throw M;y(null),w(""),await N(),F.success(" .")}catch(M){console.error("Error editing comment:",M),F.error("  .")}},D=async A=>{try{const{error:M}=await q.from("raw_generation_format_comments").update({is_deleted:!0}).eq("comment_id",A);if(M)throw M;await N(),F.success(" .")}catch(M){console.error("Error deleting comment:",M),F.error("  .")}},O=A=>{y(A.comment_id),w(A.content)},z=()=>{y(null),w("")},W=A=>r?A.teacher_info.user_id===r.id:!1;return s?s.can_share?i.jsx(Hi,{open:e,onOpenChange:t,children:i.jsxs(Oo,{className:"max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[i.jsxs(fa,{className:"flex-shrink-0",children:[i.jsx(ha,{className:"text-xl font-bold",children:s.generation_format_name}),i.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ho,{className:`w-4 h-4 ${s.is_liked?"fill-red-500 text-red-500":""}`}),i.jsx("span",{children:s.likes_count})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ts,{className:"w-4 h-4"}),i.jsx("span",{children:s.downloads_count||0})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(fS,{className:"w-4 h-4"}),i.jsx("span",{children:a.length})]})]})]}),i.jsxs(ei,{defaultValue:"description",className:"flex-1 overflow-hidden flex flex-col",children:[i.jsxs(uo,{className:"grid w-full grid-cols-3",children:[i.jsx(Vt,{value:"description",children:""}),i.jsx(Vt,{value:"preview",children:" "}),i.jsx(Vt,{value:"reviews",children:""})]}),i.jsxs("div",{className:"flex-1 overflow-auto",children:[i.jsx(Gt,{value:"description",className:"space-y-4",children:i.jsxs("div",{className:"space-y-4",children:[s.course_types&&i.jsx("div",{className:"flex flex-wrap gap-2",children:s.course_types.map((A,M)=>i.jsx(Le,{variant:"secondary",children:A.course_type_name},M))}),s.tags&&i.jsx("div",{className:"flex flex-wrap gap-2",children:s.tags.map((A,M)=>i.jsx(Le,{variant:"outline",children:A.tag_name},M))}),i.jsx("div",{className:"prose max-w-none",children:i.jsx(n9,{children:s.gallery_desc||s.generation_format_desc||" ."})}),i.jsxs("div",{className:"flex gap-2 pt-4",children:[i.jsxs(J,{variant:s.is_liked?"default":"outline",size:"sm",onClick:C,className:"gap-2",children:[i.jsx(Ho,{className:`w-4 h-4 ${s.is_liked?"fill-current":""}`}),""]}),i.jsxs(J,{variant:"outline",size:"sm",onClick:R,className:"gap-2",children:[i.jsx(ts,{className:"w-4 h-4"}),""]}),i.jsxs(J,{variant:"outline",size:"sm",className:"gap-2",children:[i.jsx(Hl,{className:"w-4 h-4"}),""]})]})]})}),i.jsx(Gt,{value:"preview",className:"space-y-4",children:i.jsx("div",{className:"w-full h-96",children:h?i.jsx("iframe",{src:h,className:"w-full h-full border rounded-lg",title:"Material Preview"}):i.jsx("div",{className:"w-full h-full border rounded-lg flex items-center justify-center bg-muted",children:i.jsx("p",{className:"text-muted-foreground",children:"  ..."})})})}),i.jsxs(Gt,{value:"reviews",className:"space-y-4",children:[r&&i.jsxs(je,{children:[i.jsx(Ie,{children:i.jsx(De,{className:"text-sm",children:" "})}),i.jsxs(Ne,{className:"space-y-3",children:[i.jsx(sr,{placeholder:"    ...",value:c,onChange:A=>u(A.target.value),rows:3}),i.jsxs(J,{onClick:E,disabled:!c.trim()||x,size:"sm",className:"gap-2",children:[i.jsx(Sm,{className:"w-4 h-4"}),x?" ...":" "]})]})]}),i.jsx("div",{className:"space-y-4",children:a.length>0?a.map(A=>{var M;return i.jsx(je,{children:i.jsx(Ne,{className:"pt-4",children:_===A.comment_id?i.jsxs("div",{className:"space-y-3",children:[i.jsx(sr,{value:v,onChange:G=>w(G.target.value),rows:3,className:"w-full"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(J,{size:"sm",onClick:()=>T(A.comment_id),disabled:!v.trim(),children:""}),i.jsxs(J,{size:"sm",variant:"outline",onClick:z,children:[i.jsx(no,{className:"w-4 h-4 mr-1"}),""]})]})]}):i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsxs(Nf,{className:"w-8 h-8",children:[i.jsx(kf,{src:A.teacher_info.personal_photo_path||""}),i.jsx(Cf,{children:((M=A.teacher_info.nickname)==null?void 0:M.charAt(0))||"U"})]}),i.jsxs("div",{className:"flex-1 space-y-1",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-medium text-sm",children:A.teacher_info.nickname||""}),i.jsx("span",{className:"text-xs text-muted-foreground",children:Sa(A.created_at)})]}),W(A)&&i.jsxs("div",{className:"flex gap-1",children:[i.jsx(J,{size:"sm",variant:"ghost",onClick:()=>O(A),className:"h-7 w-7 p-0",children:i.jsx(mu,{className:"w-3 h-3"})}),i.jsx(J,{size:"sm",variant:"ghost",onClick:()=>D(A.comment_id),className:"h-7 w-7 p-0 text-destructive hover:text-destructive",children:i.jsx(od,{className:"w-3 h-3"})})]})]}),i.jsx("p",{className:"text-sm",children:A.content})]})]})})},A.comment_id)}):i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"  .    !"})})]})]})]})]})}):i.jsx(Hi,{open:e,onOpenChange:t,children:i.jsxs(Oo,{className:"max-w-2xl",children:[i.jsx(fa,{children:i.jsx(ha,{className:"text-xl font-bold",children:s.generation_format_name})}),i.jsxs("div",{className:"flex flex-col items-center justify-center py-12 space-y-4",children:[i.jsx(P3,{className:"w-16 h-16 text-muted-foreground"}),i.jsx("p",{className:"text-lg font-medium text-muted-foreground",children:"    "})]})]})}):i.jsx(Hi,{open:e,onOpenChange:t,children:i.jsx(Oo,{className:"max-w-4xl max-h-[90vh] overflow-hidden",children:i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})})};function a9(){var kr;const{user:e}=gn(),t=Qt(),[n,r]=p.useState("info"),[s,o]=p.useState(0),[a,l]=p.useState({course_type_id:null,class_mate_info:null,teaching_style_ids:[],cowork_type_ids:[],format_selection_additional_message:"",format:"",generation_additional_message:"",selected_format_id:null,selected_format_ids:[],format_selection_attrs_id:null,difficulty_id:2,expected_duration_min:45,course_material_scope:null,use_v2:!1}),[c,u]=p.useState(null),[d,f]=p.useState([]),[h,m]=p.useState(null),[x,g]=p.useState([]),[_,y]=p.useState([]),[v,w]=p.useState([]),[b,N]=p.useState([]),[j,C]=p.useState([]),[R,E]=p.useState(2),[T,D]=p.useState(45),[O,z]=p.useState(null),[W,A]=p.useState(0),[M,G]=p.useState(0),[P,I]=p.useState(!1),[S,H]=p.useState([]),[te,k]=p.useState(!1),[de,ve]=p.useState([]),[ce,ue]=p.useState(null),[Y,Q]=p.useState(!1),[ne,xe]=p.useState(!1),[Re,Ye]=p.useState(!1),[Ke,Je]=p.useState(!1),[Z,Se]=p.useState(!1),[L,K]=p.useState(null),[oe,ye]=p.useState([]),[Ae,Me]=p.useState(!1),[ke,Ee]=p.useState(null),[$,V]=p.useState([]),[me,Ce]=p.useState(!1),[qe,et]=p.useState(!1),[dt,Ue]=p.useState(null);p.useEffect(()=>{e&&(At(),vt(),tt(),$t(),Pe())},[e]),p.useEffect(()=>{if(n==="generating"){const U=setTimeout(()=>{Se(!0)},24e4);return K(U),()=>{clearTimeout(U)}}else L&&(clearTimeout(L),K(null))},[n,L]);const At=async()=>{var U,ee;try{const{data:_e,error:Be}=await q.from("teacher_info").select("teacher_info_id, class_info").eq("user_id",e==null?void 0:e.id).single();if(Be)throw Be;if(_e!=null&&_e.class_info){const ze=_e.class_info;u(ze),z(_e.teacher_info_id),A(((U=ze.class_mate_info)==null?void 0:U.male_student_count)||0),G(((ee=ze.class_mate_info)==null?void 0:ee.female_student_count)||0),_e.teacher_info_id&&Ff(_e.teacher_info_id)}}catch(_e){console.error("Error loading teacher info:",_e),F.error("   .")}},vt=async()=>{try{const{data:U,error:ee}=await q.from("course_types").select("course_type_id, course_type_name, course_type_desc").order("course_type_id");if(ee)throw ee;f(U||[])}catch(U){console.error("Error loading course types:",U)}},tt=async()=>{try{const{data:U,error:ee}=await q.from("teaching_styles").select("teaching_style_id, teaching_style_name, teaching_style_desc").eq("open_status",!0).order("teaching_style_id");if(ee)throw ee;g(U||[])}catch(U){console.error("Error loading teaching styles:",U)}},$t=async()=>{try{const{data:U,error:ee}=await q.from("cowork_types").select("cowork_type_id, cowork_type_name").order("cowork_type_id");if(ee)throw ee;w(U||[])}catch(U){console.error("Error loading cowork types:",U)}},Pe=async()=>{try{const{data:U,error:ee}=await q.from("difficulties").select("difficulty_id, difficulty_name, difficulty_desc").order("difficulty_id");if(ee)throw ee;C(U||[])}catch(U){console.error("Error loading difficulties:",U)}},at=async()=>{if(!e)return[];try{const U=new Date;U.setDate(U.getDate()-1);const{data:ee,error:_e}=await q.from("user_material_interactions").select("raw_generation_format_id").eq("user_id",e.id).eq("interaction_type_id",1).gte("created_at",U.toISOString()).order("created_at",{ascending:!1});if(_e)throw _e;const Be=(ee==null?void 0:ee.map(Mt=>Mt.raw_generation_format_id))||[],ze=[...new Set(Be)];return ve(ze),ze}catch(U){return console.error("Error loading recently viewed formats:",U),[]}},nt=async(U,ee="view")=>{if(e)try{const Be={view:1,generate:2,download:3}[ee],{error:ze}=await q.from("user_material_interactions").insert({user_id:e.id,raw_generation_format_id:U,interaction_type_id:Be});if(ze)throw ze;ee==="view"&&ve(Mt=>[U,...Mt.filter(po=>po!==U)].slice(0,10))}catch(_e){console.error("Error recording material interaction:",_e)}},ln=()=>{Je(!0),Ye(!1)},Nt=()=>{Ke&&Je(!1)},Vr=()=>x.length>0&&_.length===x.length,ni=()=>v.length>0&&b.length===v.length,Lf=()=>{if(Vr())y([]),l(U=>({...U,teaching_style_ids:[]}));else{const U=x.map(ee=>ee.teaching_style_id);y(U),l(ee=>({...ee,teaching_style_ids:U}))}},$f=()=>{if(ni())N([]),l(U=>({...U,cowork_type_ids:[]}));else{const U=v.map(ee=>ee.cowork_type_id);N(U),l(ee=>({...ee,cowork_type_ids:U}))}},Ff=async U=>{try{const{data:ee,error:_e}=await q.from("teacher_teaching_style_map").select("teaching_style_id").eq("teacher_info_id",U);if(_e)throw _e;const Be=(ee==null?void 0:ee.map(ze=>ze.teaching_style_id))||[];y(Be),l(ze=>({...ze,teaching_style_ids:Be}))}catch(ee){console.error("Error loading user teaching styles:",ee)}},zf=async U=>{var ee;if(!(!e||!c||!O))try{Me(!0);const _e=c,Be=_e.class_grade,ze=_e.class_semester,{data:Mt,error:On}=await q.from("teacher_course_type_course_material_publisher_map").select("course_material_publisher_id").eq("teacher_info_id",O).eq("course_type_id",U).maybeSingle();if(On)throw On;if(!Mt){const Wr=((ee=d.find(ii=>ii.course_type_id===U))==null?void 0:ee.course_type_name)||" ";ye([]),F.error(`  ${Wr}  `);return}const po=Mt.course_material_publisher_id,{data:ri,error:si}=await q.from("courses").select("course_id").eq("course_type_id",U).eq("course_grade",Be).eq("course_semester_id",ze).eq("course_material_publisher_id",po||1).limit(1).maybeSingle();if(si)throw si;if(!ri){console.log("Course not found"),ye([]);return}const{data:Ft,error:ms}=await q.from("raw_course_materials").select("raw_course_material_id").eq("course_id",ri.course_id).maybeSingle();if(ms)throw ms;if(!Ft){console.log("Raw course materials not found"),ye([]);return}const{data:cr,error:oi}=await q.from("course_materials").select("course_material_id").eq("raw_course_material_id",Ft.raw_course_material_id).maybeSingle();if(oi)throw oi;if(!cr){console.log("Course materials not found"),ye([]);return}const{data:vn,error:Ma}=await q.from("course_material_structure_only").select("course_structure").eq("raw_course_material_id",Ft.raw_course_material_id).maybeSingle();if(Ma)throw Ma;if(vn!=null&&vn.course_structure){console.log("Loaded course structure:",vn.course_structure);const Wr=vn.course_structure.map(ii=>typeof ii=="string"?JSON.parse(ii):ii);console.log("Parsed course structure:",Wr),ye(Wr)}else console.log("No course structure found"),ye([])}catch(_e){console.error("Error loading course material scope:",_e),ye([]),F.error("   .")}finally{Me(!1)}},Uf=U=>{var ee;console.log("Unit selected:",U),console.log("Course material scopes:",oe),console.log("Selected unit data:",oe[U]),console.log("Section weeks:",(ee=oe[U])==null?void 0:ee.section_weeks),Ee(U),V([]),Ce(!0)},Bf=U=>{V(ee=>ee.includes(U)?ee.filter(_e=>_e!==U):[...ee,U])},bc=()=>{var U;if(ke!==null&&((U=oe[ke])!=null&&U.section_weeks)){const ee=oe[ke].section_weeks.map((_e,Be)=>Be);V(ee)}},B=()=>{V([])},pe=()=>{var ee;if(ke===null||!((ee=oe[ke])!=null&&ee.section_weeks))return!1;const U=oe[ke].section_weeks.length;return $.length===U&&U>0},he=async()=>{if(n==="info"){if(!a.course_type_id||a.teaching_style_ids.length===0||a.cowork_type_ids.length===0){F.error("   .");return}if(ke===null||$.length===0){F.error("  .");return}const U={course_sections_index:ke,course_weeks_indices:$};l(ee=>({...ee,course_material_scope:U}));try{I(!0);const ee={course_type_id:a.course_type_id,class_mate_info:{male_student_count:W,female_student_count:M},format_selection_additional_message:a.format_selection_additional_message||"",course_material_scope:U,difficulty_id:a.difficulty_id,expected_duration_min:a.expected_duration_min,user_id:e==null?void 0:e.id},{data:_e,error:Be}=await q.from("format_selection_attrs").insert([ee]).select().single();if(Be)throw Be;if(a.teaching_style_ids.length>0){const ze=a.teaching_style_ids.map(On=>({format_selection_attrs_id:_e.format_selection_attrs_id,teaching_style_id:On})),{error:Mt}=await q.from("format_selection_attrs_teaching_style_map").insert(ze);if(Mt)throw Mt}if(a.cowork_type_ids.length>0){const ze=a.cowork_type_ids.map(On=>({format_selection_attrs_id:_e.format_selection_attrs_id,cowork_type_id:On})),{error:Mt}=await q.from("format_selection_attrs_cowork_type_map").insert(ze);if(Mt)throw Mt}l(ze=>({...ze,format_selection_attrs_id:_e.format_selection_attrs_id}));try{k(!0);const{data:ze,error:Mt}=await q.functions.invoke("request-format-recommendation",{body:{format_selection_attrs_id:_e.format_selection_attrs_id,user_id:e==null?void 0:e.id}});if(Mt)console.error("Error calling request-format-recommendation:",Mt),F.error("   .");else if(ze!=null&&ze.success&&(ze!=null&&ze.data)){const On=Array.isArray(ze.data)?ze.data.flat():ze.data,po=await at(),si=On.map(Ft=>({...Ft,is_recently_viewed:po.includes(Ft.raw_generation_format_id)})).sort((Ft,ms)=>Ft.is_recently_viewed&&!ms.is_recently_viewed?-1:!Ft.is_recently_viewed&&ms.is_recently_viewed?1:0);H(si)}else console.error("Invalid response from format recommendation:",ze),F.error("    .")}catch(ze){console.error("Error in format recommendation request:",ze),F.error("     .")}finally{k(!1)}F.success(" ."),r("format")}catch(ee){console.error("Error saving data:",ee),F.error("  .")}finally{I(!1)}}else if(n==="format"){if(a.selected_format_ids.length===0){F.error(" .");return}for(const U of a.selected_format_ids)await nt(U,"generate");await Fe()}},ot=()=>{n==="format"?r("info"):n==="generating"&&r("format")},Fe=async()=>{var U;try{Q(!0),r("generating"),o(0);const ee=setInterval(()=>{o(cr=>{const oi=Math.random()*15+15,vn=cr+oi;return vn>=95?(clearInterval(ee),95):vn})},Math.random()*5e3+1e4),{data:_e,error:Be}=await q.from("format_selection_attrs").select("class_mate_info, course_type_id, format_selection_additional_message").eq("format_selection_attrs_id",a.format_selection_attrs_id).single();if(Be)throw Be;const{data:ze,error:Mt}=await q.from("format_selection_attrs_cowork_type_map").select("cowork_type_id").eq("format_selection_attrs_id",a.format_selection_attrs_id);if(Mt)throw Mt;const On=(ze||[]).map(cr=>cr.cowork_type_id),{data:po,error:ri}=await q.from("format_selection_attrs_teaching_style_map").select("teaching_style_id").eq("format_selection_attrs_id",a.format_selection_attrs_id);if(ri)throw ri;const si=(po||[]).map(cr=>cr.teaching_style_id),{data:Ft,error:ms}=await q.functions.invoke("request-multiple-generation",{body:{format_selection_attrs_id:a.format_selection_attrs_id,selected_format_ids:a.selected_format_ids,class_mate_info:_e.class_mate_info,course_type_id:_e.course_type_id,course_material_scope:a.course_material_scope,difficulty_id:a.difficulty_id,expected_duration_min:a.expected_duration_min,generation_additional_message:a.generation_additional_message||null,selected_teaching_style_ids:si,selected_cowork_type_ids:On,user_id:e==null?void 0:e.id,use_v2:a.use_v2}});if(ms){console.error("Error calling multiple generation function:",ms),F.error("  ."),clearInterval(ee);return}if(Ft!=null&&Ft.success&&((U=Ft==null?void 0:Ft.generation_attrs_ids)==null?void 0:U.length)>0){const cr=Ft.generation_attrs_ids;F.success("  .  ...");const oi=setInterval(async()=>{try{const{data:vn,error:Ma}=await q.from("generation_responses").select("generation_response_id, generation_attrs_id, generation_status_type_id, created_at").in("generation_attrs_id",cr).order("created_at",{ascending:!1});if(Ma){console.error("Polling error:",Ma);return}if(!vn||vn.length===0)return;const Wr=cr.map(Cr=>vn.filter(ai=>ai.generation_attrs_id===Cr)[0]).filter(Boolean);if(Wr.length!==cr.length)return;if(Wr.every(Cr=>Cr.generation_status_type_id===4||Cr.generation_status_type_id===3)){clearInterval(oi),clearInterval(ee);const Cr=Wr.filter(ai=>ai.generation_status_type_id===4),Hf=Wr.length-Cr.length;if(Cr.length>0){o(100),xe(!0);const ai=Cr[0].generation_response_id;ue(ai),Hf>0?F.success(`${Cr.length}  , ${Hf} `):F.success(`${Cr.length}   !`),setTimeout(()=>{t(`/generation/${ai}`)},1e3)}else F.error("  ."),Q(!1)}}catch(vn){console.error("Polling error:",vn)}},3e3)}else clearInterval(ee),console.log("Invalid response structure:",Ft),F.error("    .")}catch(ee){console.error("Error in generation request:",ee);const _e=String((ee==null?void 0:ee.message)||"");/timeout|timed out|time out|aborted|network|fetch failed/i.test(_e)?F.info("                !"):F.error("    .")}finally{Q(!1)}},ut=()=>{Se(!1),t("/history")},yn=()=>{switch(n){case"info":return 1;case"format":return 2;case"generating":return 3;case"result":return 3;default:return 1}};return i.jsxs(In,{children:[i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-light/10 via-background to-secondary/20",children:i.jsxs("div",{className:"container mx-auto max-w-4xl px-6 py-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h1",{className:"text-3xl font-bold",children:" "}),i.jsxs(Le,{variant:"outline",children:[" ",yn(),"/3"]})]}),i.jsx("div",{className:"flex items-center gap-4",children:[" "," ","AI "].map((U,ee)=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-base font-medium transition-colors ${ee<yn()||ee===yn()-1?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}`,children:ee+1}),i.jsx("span",{className:`text-base ${ee<yn()?"text-foreground font-medium":"text-muted-foreground"}`,children:U}),ee<2&&i.jsx(us,{className:"w-4 h-4 text-muted-foreground mx-2"})]},U))})]}),n==="info"&&i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"mf-compact-spacing",children:[i.jsxs(je,{className:"mf-card mf-compact-card animate-scale-in",children:[i.jsxs(Ie,{className:"mf-compact-header",children:[i.jsx(De,{className:"mf-compact-title",children:" "}),i.jsx(rt,{className:"mf-compact-description",children:"   "})]}),i.jsxs(Ne,{className:"mf-compact-spacing",children:[c&&i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("div",{className:"mf-tight-spacing",children:[i.jsx(fe,{className:"text-sm",children:""}),i.jsxs("div",{className:"p-1.5 bg-muted rounded-md text-sm font-medium",children:[c.class_grade,""]})]}),i.jsxs("div",{className:"mf-tight-spacing",children:[i.jsx(fe,{className:"text-sm",children:""}),i.jsxs("div",{className:"p-1.5 bg-muted rounded-md text-sm font-medium",children:[c.class_semester,""]})]})]}),i.jsxs("div",{className:"mf-tight-spacing",children:[i.jsx(fe,{className:"text-sm",children:""}),i.jsxs(Ao,{value:(h==null?void 0:h.toString())||"",onValueChange:U=>{const ee=parseInt(U);m(ee),l(_e=>({..._e,course_type_id:ee})),Nt(),Ee(null),V([]),Ce(!1),zf(ee)},children:[i.jsx(Ks,{className:"text-sm",children:i.jsx(Mo,{placeholder:" "})}),i.jsx(Ta,{children:d.map(U=>i.jsx(rs,{value:U.course_type_id.toString(),children:U.course_type_name},U.course_type_id))})]})]})]})]}),h&&i.jsxs(je,{className:"mf-card mf-compact-card animate-scale-in",children:[i.jsxs(Ie,{className:"mf-compact-header",children:[i.jsxs(De,{className:"mf-compact-title flex items-center justify-between",children:["  ",ke!==null&&((kr=oe[ke])==null?void 0:kr.section_weeks)&&i.jsx(J,{variant:"outline",size:"sm",onClick:pe()?B:bc,children:pe()?" ":" "})]}),ke!==null&&i.jsx(rt,{className:"mf-compact-description",children:"  (  )"})]}),i.jsx(Ne,{className:"mf-compact-spacing",children:Ae?i.jsx("div",{className:"flex items-center justify-center py-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(rn,{className:"w-4 h-4 text-primary animate-spin"}),i.jsx("span",{className:"text-sm text-muted-foreground",children:"   ..."})]})}):oe.length>0?i.jsx("div",{className:"space-y-4",children:i.jsx("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:oe.map((U,ee)=>i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:`p-3 border rounded-lg cursor-pointer transition-all duration-200 ${ke===ee?"bg-primary/10 border-primary/20 shadow-sm":"bg-card hover:bg-muted/50 border-border"}`,onClick:()=>Uf(ee),children:i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("span",{className:"text-base font-medium",children:[ee+1,": ",U.section_name||`${ee+1}`]})})}),ke===ee&&me&&U.section_weeks&&i.jsx("div",{className:"ml-4 pl-4 border-l-2 border-primary/20 space-y-2 animate-in slide-in-from-top-2 duration-200",children:i.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:U.section_weeks.map((_e,Be)=>i.jsxs("div",{className:"flex items-start space-x-3 p-2 rounded hover:bg-muted/30 transition-colors",children:[i.jsx(or,{id:`lesson-${Be}`,checked:$.includes(Be),onCheckedChange:()=>Bf(Be),className:"mt-0.5"}),i.jsx(fe,{htmlFor:`lesson-${Be}`,className:"text-base flex-1 cursor-pointer leading-relaxed",children:_e.section_content_name?i.jsxs(i.Fragment,{children:[i.jsxs("span",{className:"font-medium text-primary",children:["[",_e.section_content_order,"]"]})," ",_e.section_content_name,_e.section_content_pages&&_e.section_content_pages.length>0&&i.jsxs("span",{className:"text-muted-foreground",children:[" ","(",Math.min(..._e.section_content_pages),"-",Math.max(..._e.section_content_pages),")"]})]}):i.jsxs("span",{className:"font-medium text-primary",children:["[",Be+1,"]"]})})]},Be))})})]},ee))})}):i.jsx("div",{className:"text-sm text-muted-foreground py-2",children:h?"    .":"  ."})})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs(je,{className:"mf-card",children:[i.jsxs(Ie,{children:[i.jsxs(De,{className:"flex items-center justify-between",children:[" ",i.jsx(J,{variant:"outline",size:"sm",onClick:$f,children:ni()?" ":" "})]}),i.jsx(rt,{children:"    ."})]}),i.jsx(Ne,{children:i.jsx("div",{className:"space-y-3",children:v.map(U=>i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(or,{id:`cowork-${U.cowork_type_id}`,checked:b.includes(U.cowork_type_id),onCheckedChange:ee=>{if(Nt(),ee){const _e=[...b,U.cowork_type_id];N(_e),l(Be=>({...Be,cowork_type_ids:_e}))}else{const _e=b.filter(Be=>Be!==U.cowork_type_id);N(_e),l(Be=>({...Be,cowork_type_ids:_e}))}}}),i.jsx("div",{className:"space-y-1",children:i.jsx(fe,{htmlFor:`cowork-${U.cowork_type_id}`,className:"font-medium",children:U.cowork_type_name})})]},U.cowork_type_id))})})]}),i.jsxs(je,{className:"mf-card",children:[i.jsxs(Ie,{children:[i.jsx(De,{children:"   ( )"}),i.jsx(rt,{children:"     ."})]}),i.jsx(Ne,{children:i.jsx(sr,{placeholder:":    ,     ",value:a.format_selection_additional_message,onChange:U=>{l(ee=>({...ee,format_selection_additional_message:U.target.value})),Nt()},rows:3})})]}),i.jsxs(je,{className:"mf-card",children:[i.jsxs(Ie,{children:[i.jsx(De,{children:"  "}),i.jsx(rt,{children:"AI     ."})]}),i.jsx(Ne,{className:"space-y-4",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex gap-3",children:[i.jsxs(J,{className:`flex-1 transition-all duration-300 ${Ke?"mf-mango-button group shadow-lg border-2 border-orange-400":"mf-mango-button group"}`,onClick:ln,children:[i.jsx(iS,{className:"w-4 h-4 mr-2 sparkle"}),"AI  ",i.jsx(rn,{className:"w-4 h-4 ml-2 sparkle"})]}),i.jsx(J,{variant:"outline",className:"flex-1",onClick:()=>{Ye(!Re),Nt()},children:" "})]}),Ke&&i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-orange-50 dark:bg-orange-900/20 rounded-lg border border-orange-200 dark:border-orange-800",children:[i.jsx(es,{className:"w-4 h-4 text-orange-600"}),i.jsx("span",{className:"text-base font-medium text-orange-700 dark:text-orange-300",children:"AI    "})]})]})})]})]}),Re&&i.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[i.jsxs(je,{className:"mf-card",children:[i.jsxs(Ie,{children:[i.jsx(De,{children:" "}),i.jsx(rt,{children:"    ."})]}),i.jsxs(Ne,{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx(fe,{className:"text-base font-medium",children:""}),i.jsx("div",{className:"flex gap-2",children:j.map(U=>i.jsx(J,{variant:R===U.difficulty_id?"default":"outline",size:"sm",onClick:()=>{E(U.difficulty_id),l(ee=>({...ee,difficulty_id:U.difficulty_id})),Nt()},className:"flex-1",children:U.difficulty_name},U.difficulty_id))})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(fe,{className:"text-base font-medium",children:" "}),i.jsxs("span",{className:"text-base text-muted-foreground",children:[T,""]})]}),i.jsx(Vx,{value:[T],onValueChange:U=>{D(U[0]),l(ee=>({...ee,expected_duration_min:U[0]})),Nt()},min:15,max:120,step:5,className:"w-full"}),i.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[i.jsx("span",{children:"15"}),i.jsx("span",{children:"60"}),i.jsx("span",{children:"120"})]})]})]})]}),i.jsxs(je,{className:"mf-card",children:[i.jsxs(Ie,{children:[i.jsx(De,{children:" "}),i.jsx(rt,{children:"   ."})]}),i.jsx(Ne,{className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{children:" "}),i.jsx(Te,{type:"number",value:W,onChange:U=>{A(parseInt(U.target.value)||0),Nt()},min:"0"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{children:" "}),i.jsx(Te,{type:"number",value:M,onChange:U=>{G(parseInt(U.target.value)||0),Nt()},min:"0"})]})]})})]}),i.jsxs(je,{className:"mf-card",children:[i.jsxs(Ie,{children:[i.jsxs(De,{className:"flex items-center justify-between",children:["  ",i.jsx(J,{variant:"outline",size:"sm",onClick:Lf,children:Vr()?" ":" "})]}),i.jsx(rt,{children:"   ."})]}),i.jsx(Ne,{children:i.jsx("div",{className:"space-y-3",children:x.map(U=>i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(or,{id:`style-${U.teaching_style_id}`,checked:_.includes(U.teaching_style_id),onCheckedChange:ee=>{if(Nt(),ee){const _e=[..._,U.teaching_style_id];y(_e),l(Be=>({...Be,teaching_style_ids:_e}))}else{const _e=_.filter(Be=>Be!==U.teaching_style_id);y(_e),l(Be=>({...Be,teaching_style_ids:_e}))}}}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(fe,{htmlFor:`style-${U.teaching_style_id}`,className:"font-medium",children:U.teaching_style_name}),U.teaching_style_name==="  "&&U.teaching_style_desc&&i.jsx("p",{className:"text-base text-muted-foreground",children:U.teaching_style_desc})]})]},U.teaching_style_id))})})]})]})]}),n==="format"&&i.jsxs(je,{className:"mf-card animate-scale-in",children:[i.jsxs(Ie,{children:[i.jsxs(De,{className:"flex items-center gap-2",children:[i.jsx(Bt,{className:"w-5 h-5 text-primary"}),"  "]}),i.jsx(rt,{children:"    ."})]}),i.jsxs(Ne,{children:[te?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(rn,{className:"w-5 h-5 text-primary animate-spin"}),i.jsx("span",{className:"text-muted-foreground",children:"   ..."})]})}):S.length>0?i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsx("p",{className:"text-base text-muted-foreground",children:a.selected_format_ids.length>0?`${a.selected_format_ids.length}  `:"  (  )"})}),i.jsx("div",{className:"p-4 border border-border rounded-lg bg-muted/20",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:S.map((U,ee)=>{const _e=a.selected_format_ids.includes(U.raw_generation_format_id),Be=U.is_recently_viewed;return i.jsxs("div",{className:"relative",children:[Be&&i.jsx("div",{className:"absolute -top-2 -right-2 z-10 bg-amber-500 text-white text-sm px-2 py-1 rounded-full font-medium shadow-sm",children:"  "}),i.jsxs(je,{className:`h-44 cursor-pointer transition-all hover:scale-[1.02] flex flex-col ${_e&&Be?"ring-2 ring-amber-500 border-2 border-amber-500 bg-amber-50/50 shadow-lg shadow-amber-500/20":_e?"ring-2 ring-primary bg-primary/10":Be?"border-2 border-amber-500 shadow-lg shadow-amber-500/20 bg-amber-50/50":"hover:shadow-md"}`,onClick:async()=>{await nt(U.raw_generation_format_id,"view"),l(ze=>ze.selected_format_ids.includes(U.raw_generation_format_id)?{...ze,selected_format_ids:ze.selected_format_ids.filter(On=>On!==U.raw_generation_format_id)}:{...ze,selected_format_ids:[...ze.selected_format_ids,U.raw_generation_format_id]})},children:[i.jsx(Ie,{className:"pb-3 flex-1",children:i.jsxs("div",{className:"flex items-start gap-3 h-full",children:[i.jsxs("div",{className:"relative flex-shrink-0",children:[i.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:i.jsx(Bt,{className:"w-5 h-5 text-primary"})}),_e&&i.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-primary rounded-full flex items-center justify-center",children:i.jsx(es,{className:"w-3 h-3 text-primary-foreground"})})]}),i.jsx("div",{className:"flex-1 min-w-0",children:i.jsx(De,{className:"text-base leading-tight line-clamp-2",title:U.generation_format_name,children:U.generation_format_name})}),i.jsx(J,{variant:"ghost",size:"icon",className:"h-8 w-8 flex-shrink-0",onClick:ze=>{ze.stopPropagation(),Ue(U.raw_generation_format_id),et(!0)},children:i.jsx(Qo,{className:"w-4 h-4"})})]})}),i.jsx(Ne,{className:"pt-0",children:i.jsx(Le,{variant:"secondary",className:"text-sm line-clamp-1",children:U.teaching_style_name})})]})]},ee)})})})]}):i.jsx("div",{className:"text-center py-8",children:i.jsx("p",{className:"text-muted-foreground",children:"   ."})}),S.length>0&&i.jsxs("div",{className:"mt-8 space-y-6",children:[i.jsxs(je,{className:"mf-card",children:[i.jsxs(Ie,{children:[i.jsxs(De,{className:"flex items-center gap-2",children:[i.jsx(rn,{className:"w-5 h-5 text-primary"})," "]}),i.jsx(rt,{children:"  "})]}),i.jsx(Ne,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsxs(fe,{className:"text-base font-medium flex items-center gap-2",children:["  (v2)",i.jsx(Le,{variant:"secondary",children:"PREMIUM"})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:" AI     "})]}),i.jsx(Bx,{checked:a.use_v2,onCheckedChange:U=>l(ee=>({...ee,use_v2:U}))})]})})]}),i.jsxs(je,{className:"mf-card",children:[i.jsxs(Ie,{children:[i.jsxs(De,{className:"flex items-center gap-2",children:[i.jsx(rn,{className:"w-5 h-5 text-primary"}),"  "]}),i.jsx(rt,{children:"     . ()"})]}),i.jsx(Ne,{children:i.jsx(sr,{placeholder:":    ,     ",value:a.generation_additional_message,onChange:U=>l(ee=>({...ee,generation_additional_message:U.target.value})),rows:3})})]})]})]})]}),n==="generating"&&i.jsx(je,{className:"mf-card animate-scale-in",children:i.jsx(Ne,{className:"pt-8",children:i.jsxs("div",{className:"text-center space-y-6",children:[i.jsx("div",{className:"mx-auto w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center",children:i.jsx(rn,{className:"w-8 h-8 text-primary animate-spin"})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-xl font-semibold",children:"AI   "}),i.jsx("p",{className:"text-muted-foreground",children:" .    ."})]}),i.jsxs("div",{className:"w-full max-w-md mx-auto space-y-2",children:[i.jsx(qo,{value:s,className:"w-full"}),i.jsxs("p",{className:"text-base text-muted-foreground",children:[Math.round(s),"% "]})]}),ne&&i.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-600",children:[i.jsx(es,{className:"w-5 h-5"}),i.jsx("span",{className:"font-medium",children:" !"})]}),i.jsx("p",{className:"text-base text-muted-foreground max-w-lg mx-auto",children:"*AI         "})]})})}),i.jsxs("div",{className:"flex justify-between mt-8",children:[i.jsxs(J,{variant:"outline",onClick:ot,disabled:n==="info"||P,children:[i.jsx(cc,{className:"w-4 h-4 mr-2"}),""]}),i.jsx(J,{onClick:he,disabled:n==="info"?!a.course_type_id||a.teaching_style_ids.length===0||a.cowork_type_ids.length===0:a.selected_format_ids.length===0,className:P||Y?"cursor-not-allowed":"",children:P||Y?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"})," ..."]}):i.jsxs(i.Fragment,{children:[n==="format"?" ":"",i.jsx(us,{className:"w-4 h-4 ml-2"})]})})]})]})}),i.jsx(Hi,{open:Z,onOpenChange:Se,children:i.jsxs(Oo,{children:[i.jsxs(fa,{children:[i.jsx(ha,{children:"  "}),i.jsx(jf,{children:"  4 .           ."})]}),i.jsx(iC,{children:i.jsx(J,{onClick:ut,children:"  "})})]})}),i.jsx(N2,{isOpen:qe,onClose:()=>{et(!1),Ue(null)},materialId:dt})]})}function l9(){const[e,t]=p.useState(""),[n,r]=p.useState(""),[s,o]=p.useState(""),[a,l]=p.useState(""),[c,u]=p.useState(!1),[d,f]=p.useState(""),[h,m]=p.useState("signin"),[x,g]=p.useState(""),[_,y]=p.useState(""),[v,w]=p.useState(!1),[b,N]=p.useState(""),[j,C]=p.useState(!1),{user:R}=gn(),E=Qt();p.useEffect(()=>{console.log("Auth page: Current user state:",!!R),R&&(console.log("Auth page: User found, redirecting to home"),E("/",{replace:!0}))},[R,E]),p.useEffect(()=>{const A=new URLSearchParams(window.location.search),M=A.get("type"),G=A.get("error")||A.get("error_code"),P=A.get("error_description")||"";if(G){const I=`${G} ${P}`.toLowerCase();I.includes("expired")||I.includes("invalid")||G==="otp_expired"?F.error("    .   ."):F.error(` : ${P||G}`),window.history.replaceState(null,"","/auth"),m("reset-password");return}M==="recovery"&&m("recovery")},[]);const T=async A=>{A.preventDefault(),u(!0);try{localStorage.setItem("mango_auto_login",j?"true":"false");const{error:M}=await q.auth.signInWithPassword({email:e,password:n});M?F.error(` : ${M.message}`):(F.success("!"),E("/"))}catch{F.error("   .")}finally{u(!1)}},D=async A=>{var M,G,P;if(A.preventDefault(),n!==s){F.error("    .");return}u(!0);try{const I=`${window.location.origin}/`,{data:S,error:H}=await q.auth.signUp({email:e,password:n,options:{emailRedirectTo:I,data:{full_name:a}}});if(H){const te=((M=H.message)==null?void 0:M.toLowerCase())??"";te.includes("already")&&(te.includes("registered")||te.includes("exists"))?F.error("  .  ."):te.includes("invalid email")?F.error("   ."):te.includes("password")?F.error("  6  ."):te.includes("redirect")||te.includes("url")?F.error("    .  ."):F.error(` : ${H.message}`)}else(((P=(G=S==null?void 0:S.user)==null?void 0:G.identities)==null?void 0:P.length)??0)===0?F.error("  .  ."):(F.success(" !  !"),w(!0),N(e),t(""),r(""),o(""),l(""))}catch{F.error("   .")}finally{u(!1)}},O=async A=>{A.preventDefault(),u(!0);try{const{error:M}=await q.auth.resetPasswordForEmail(d,{redirectTo:`${window.location.origin}/auth?type=recovery`});M?F.error(`  : ${M.message}`):(F.success("   ."),f(""))}catch{F.error("    .")}finally{u(!1)}},z=async A=>{if(A.preventDefault(),!x||x.length<6){F.error("   6  .");return}if(x!==_){F.error("  .");return}u(!0);try{const{error:M}=await q.auth.updateUser({password:x});M?F.error(`  : ${M.message}`):(F.success(" .  ."),window.history.replaceState(null,"","/auth"),E("/"))}catch{F.error("    .")}finally{u(!1)}},W=async()=>{if(!b){F.error("   .");return}u(!0);try{const A=`${window.location.origin}/`,{error:M}=await q.auth.resend({type:"signup",email:b,options:{emailRedirectTo:A}});M?F.error(`  : ${M.message}`):F.success("   !")}catch{F.error("    .")}finally{u(!1)}};return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-light via-secondary to-background flex items-center justify-center p-4",children:i.jsxs(je,{className:"w-full max-w-md mf-card",children:[i.jsxs(Ie,{className:"text-center",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-primary-hover rounded-xl flex items-center justify-center mx-auto mb-4 cursor-pointer hover:scale-105 transition-transform",onClick:()=>E("/"),children:i.jsx("span",{className:"text-white font-bold text-lg",children:""})}),i.jsx(De,{className:"text-2xl font-bold cursor-pointer hover:text-primary transition-colors",onClick:()=>E("/"),children:"MangoFactory"}),i.jsx(rt,{children:"AI    "})]}),i.jsx(Ne,{children:i.jsxs(ei,{value:h,onValueChange:A=>m(A),className:"w-full",children:[i.jsxs(uo,{className:"grid w-full grid-cols-3",children:[i.jsx(Vt,{value:"signin",children:""}),i.jsx(Vt,{value:"signup",children:""}),i.jsx(Vt,{value:"reset-password",children:" "})]}),i.jsx(Gt,{value:"signin",children:i.jsxs("form",{onSubmit:T,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"signin-email",children:""}),i.jsx(Te,{id:"signin-email",type:"email",placeholder:"your@email.com",value:e,onChange:A=>t(A.target.value),required:!0,className:"mf-input"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"signin-password",children:""}),i.jsx(Te,{id:"signin-password",type:"password",value:n,onChange:A=>r(A.target.value),required:!0,className:"mf-input"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(or,{id:"remember-me",checked:j,onCheckedChange:A=>C(A===!0)}),i.jsx(fe,{htmlFor:"remember-me",className:"text-sm",children:" "})]}),i.jsxs(J,{type:"submit",className:"w-full mf-button-primary",disabled:c,children:[i.jsx(T3,{className:"w-4 h-4 mr-2"}),c?" ...":""]}),i.jsx("div",{className:"text-center mt-4",children:i.jsx("button",{type:"button",onClick:()=>E("/support"),className:"text-sm text-muted-foreground hover:text-primary transition-colors",children:" ?  "})})]})}),i.jsx(Gt,{value:"signup",children:i.jsxs("form",{onSubmit:D,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"signup-name",children:""}),i.jsx(Te,{id:"signup-name",type:"text",placeholder:"",value:a,onChange:A=>l(A.target.value),required:!0,className:"mf-input"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"signup-email",children:""}),i.jsx(Te,{id:"signup-email",type:"email",placeholder:"your@email.com",value:e,onChange:A=>t(A.target.value),required:!0,className:"mf-input"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"signup-password",children:""}),i.jsx(Te,{id:"signup-password",type:"password",value:n,onChange:A=>r(A.target.value),required:!0,className:"mf-input"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"signup-confirm-password",children:" "}),i.jsx(Te,{id:"signup-confirm-password",type:"password",placeholder:"  ",value:s,onChange:A=>o(A.target.value),required:!0,className:"mf-input"}),s&&n!==s&&i.jsx("p",{className:"text-sm text-destructive",children:"  "})]}),i.jsxs(J,{type:"submit",className:"w-full mf-button-primary",disabled:c,children:[i.jsx(B3,{className:"w-4 h-4 mr-2"}),c?" ...":""]}),v&&i.jsxs("div",{className:"mt-4 p-4 bg-primary/5 rounded-lg border border-primary/20",children:[i.jsx("p",{className:"text-sm text-muted-foreground text-center mb-3",children:"  ?  ."}),i.jsx(J,{type:"button",variant:"outline",onClick:W,disabled:c,className:"w-full",children:c?" ...":"   "})]})]})}),i.jsx(Gt,{value:"reset-password",children:i.jsxs("form",{onSubmit:O,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"reset-email",children:""}),i.jsx(Te,{id:"reset-email",type:"email",placeholder:"  ",value:d,onChange:A=>f(A.target.value),required:!0,className:"mf-input"})]}),i.jsx(J,{type:"submit",className:"w-full mf-button-primary",disabled:c,children:c?" ...":"   "}),i.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"     ."})]})}),i.jsx(Gt,{value:"recovery",children:i.jsxs("form",{onSubmit:z,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"recovery-new-password",children:" "}),i.jsx(Te,{id:"recovery-new-password",type:"password",value:x,onChange:A=>g(A.target.value),required:!0,className:"mf-input"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"recovery-confirm-password",children:"  "}),i.jsx(Te,{id:"recovery-confirm-password",type:"password",value:_,onChange:A=>y(A.target.value),required:!0,className:"mf-input"})]}),i.jsx(J,{type:"submit",className:"w-full mf-button-primary",disabled:c,children:c?" ...":"  "}),i.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"    ."}),i.jsx("div",{className:"text-center",children:i.jsx("button",{type:"button",className:"text-sm underline",onClick:()=>m("reset-password"),children:"    "})})]})})]})})]})})}const k2=({className:e,...t})=>i.jsx("nav",{role:"navigation","aria-label":"pagination",className:le("mx-auto flex w-full justify-center",e),...t});k2.displayName="Pagination";const C2=p.forwardRef(({className:e,...t},n)=>i.jsx("ul",{ref:n,className:le("flex flex-row items-center gap-1",e),...t}));C2.displayName="PaginationContent";const _u=p.forwardRef(({className:e,...t},n)=>i.jsx("li",{ref:n,className:le("",e),...t}));_u.displayName="PaginationItem";const If=({className:e,isActive:t,size:n="icon",...r})=>i.jsx("a",{"aria-current":t?"page":void 0,className:le(pS({variant:t?"outline":"ghost",size:n}),e),...r});If.displayName="PaginationLink";const E2=({className:e,...t})=>i.jsxs(If,{"aria-label":"Go to previous page",size:"default",className:le("gap-1 pl-2.5",e),...t,children:[i.jsx(wx,{className:"h-4 w-4"}),i.jsx("span",{children:" "})]});E2.displayName="PaginationPrevious";const P2=({className:e,...t})=>i.jsxs(If,{"aria-label":"Go to next page",size:"default",className:le("gap-1 pr-2.5",e),...t,children:[i.jsx("span",{children:" "}),i.jsx(af,{className:"h-4 w-4"})]});P2.displayName="PaginationNext";function c9(){const[e,t]=p.useState(""),[n,r]=p.useState("all"),[s,o]=p.useState([]),[a,l]=p.useState([]),[c,u]=p.useState(!0),[d,f]=p.useState(1),{user:h}=gn(),m=Qt(),x=12;p.useEffect(()=>{g(),h&&_()},[h]);const g=async()=>{try{const{data:j,error:C}=await q.from("course_types").select("course_type_id, course_type_name").order("course_type_name");if(C)throw C;l(j||[])}catch(j){console.error("Error fetching course types:",j)}},_=async()=>{try{u(!0);const{data:j,error:C}=await q.from("generation_responses").select(`
          generation_response_id,
          output_path,
          generation_status_type_id,
          generation_result_messages,
          generation_name,
          created_at,
          generation_attrs_id,
          root_response_id,
          version_no,
          is_final,
          generation_attrs!generation_responses_generation_attrs_id_fkey (
            generation_additional_message,
            course_material_id,
            course_type_id,
            generation_attrs_teaching_style_map!gatsm_genattrs_fkey (
              teaching_styles (
                teaching_style_name
              )
            ),
            generation_attrs_cowork_type_map!generation_attrs_cowork_type_map_generation_attrs_id_fkey (
              cowork_types!generation_attrs_cowork_type_map_cowork_type_id_fkey (
                cowork_type_name
              )
            ),
            course_materials!generation_attrs_course_material_id_fkey (
              raw_course_material_id,
              raw_course_materials!course_materials_raw_course_material_id_fkey (
                course_material_name
              )
            )
          )
        `).eq("user_id",h.id).eq("version_no",1).order("created_at",{ascending:!1});if(C)throw C;const R=[...new Set((j||[]).map(M=>{var G;return(G=M.generation_attrs)==null?void 0:G.course_type_id}).filter(Boolean))],{data:E}=await q.from("course_types").select("course_type_id, course_type_name").in("course_type_id",R),T=new Map((E||[]).map(M=>[M.course_type_id,M.course_type_name])),D=(j||[]).map(M=>M.root_response_id),{data:O,error:z}=await q.from("generation_responses").select("root_response_id").eq("user_id",h.id).eq("version_no",4).in("root_response_id",D);z&&console.error("Error checking version 4:",z);const W=new Set((O==null?void 0:O.map(M=>M.root_response_id))||[]),A=(j||[]).map(M=>{var G,P,I,S,H,te,k;return{generation_response_id:M.generation_response_id,generation_attrs_id:M.generation_attrs_id,output_path:M.output_path,generation_status_type_id:M.generation_status_type_id,created_at:M.created_at||new Date().toISOString(),generation_result_messages:M.generation_result_messages,generation_name:M.generation_name,root_response_id:M.root_response_id,version_no:M.version_no,is_final:M.is_final,has_version_4:W.has(M.root_response_id),teaching_style_names:Array.isArray((G=M.generation_attrs)==null?void 0:G.generation_attrs_teaching_style_map)?M.generation_attrs.generation_attrs_teaching_style_map.map(de=>{var ve;return(ve=de.teaching_styles)==null?void 0:ve.teaching_style_name}).filter(Boolean):[],cowork_type_names:Array.isArray((P=M.generation_attrs)==null?void 0:P.generation_attrs_cowork_type_map)?M.generation_attrs.generation_attrs_cowork_type_map.map(de=>{var ve;return(ve=de.cowork_types)==null?void 0:ve.cowork_type_name}).filter(Boolean):[],generation_additional_message:((I=M.generation_attrs)==null?void 0:I.generation_additional_message)||null,course_material_name:((te=(H=(S=M.generation_attrs)==null?void 0:S.course_materials)==null?void 0:H.raw_course_materials)==null?void 0:te.course_material_name)||"",course_type_name:T.get((k=M.generation_attrs)==null?void 0:k.course_type_id)||""}});o(A)}catch(j){console.error("Error fetching history data:",j),F.error("     .")}finally{u(!1)}},y=async(j,C)=>{var R;if(!j){F.error("  .");return}try{console.log("Starting download for path:",j);const{data:E}=await q.auth.getSession(),T=(R=E==null?void 0:E.session)==null?void 0:R.access_token,{data:D,error:O}=await q.functions.invoke("secure-download",{body:{filePath:j,fileType:"generation",generationId:C},headers:T?{Authorization:`Bearer ${T}`}:void 0});if(console.log("Download response:",D,O),O)throw console.error("Supabase function error:",O),O;if(D!=null&&D.success&&(D!=null&&D.downloadUrl)){const z=document.createElement("a");z.href=D.downloadUrl,z.download=D.filename||"generated-file",z.target="_blank",document.body.appendChild(z),z.click(),document.body.removeChild(z),F.success("  .")}else throw new Error((D==null?void 0:D.error)||" .")}catch(E){console.error("Download error:",E);const T=String((E==null?void 0:E.message)||"");/401/.test(T)?F.error(" .   ."):/403/.test(T)?F.error("  ."):/404/.test(T)?F.error("   ."):F.error(`    : ${T||"   "}`)}},v=s.filter(j=>{var E,T;const C=((E=j.generation_name)==null?void 0:E.toLowerCase().includes(e.toLowerCase()))||!1||j.course_material_name.toLowerCase().includes(e.toLowerCase())||((T=j.generation_additional_message)==null?void 0:T.toLowerCase().includes(e.toLowerCase()))||!1,R=n==="all"||j.course_type_name===n;return C&&R}),w=Math.ceil(v.length/x),b=(d-1)*x,N=v.slice(b,b+x);return p.useEffect(()=>{f(1)},[e,n]),c?i.jsx(In,{children:i.jsx("div",{className:"p-6 space-y-6",children:i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"   ..."})]})})}):i.jsx(In,{children:i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground",children:" "}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"    "}),i.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"    "})]})}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mf-card p-4",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(Qo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(Te,{placeholder:"  ...",value:e,onChange:j=>t(j.target.value),className:"pl-10 mf-input"})]}),i.jsxs(Ao,{value:n,onValueChange:r,children:[i.jsxs(Ks,{className:"w-full sm:w-[180px]",children:[i.jsx(bm,{className:"h-4 w-4 mr-2"}),i.jsx(Mo,{placeholder:""})]}),i.jsxs(Ta,{children:[i.jsx(rs,{value:"all",children:" "}),a.map(j=>i.jsx(rs,{value:j.course_type_name,children:j.course_type_name},j.course_type_id))]})]})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:N.map(j=>i.jsxs(je,{className:"mf-card group hover:scale-[1.02] transition-all duration-300 cursor-pointer",onClick:()=>m(`/generation/${j.generation_response_id}`),children:[i.jsxs(Ie,{className:"pb-3",children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Bt,{className:"h-5 w-5 text-primary"}),i.jsx(Le,{variant:"secondary",className:"text-xs",children:j.generation_status_type_id===1?"":j.generation_status_type_id===2?"":""}),j.is_final&&i.jsx(Le,{variant:"default",className:"text-xs",children:""})]}),i.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[i.jsx(uc,{className:"h-3 w-3"}),Sa(j.created_at)]})]}),i.jsx(De,{className:"text-lg line-clamp-2 group-hover:text-primary transition-colors",children:j.generation_name||j.course_material_name}),j.generation_additional_message&&i.jsx(rt,{className:"text-sm text-muted-foreground line-clamp-2",children:j.generation_additional_message})]}),i.jsxs(Ne,{className:"pt-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4 flex-wrap",children:[j.course_type_name&&i.jsx(Le,{variant:"outline",children:j.course_type_name}),j.teaching_style_names.map((C,R)=>i.jsx(Le,{variant:"outline",children:C},R)),j.cowork_type_names.map((C,R)=>i.jsx(Le,{variant:"secondary",children:C},R))]}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs(J,{variant:"outline",size:"sm",onClick:C=>{C.stopPropagation(),y(j.output_path,j.generation_response_id)},disabled:!j.output_path,className:"flex-1",children:[i.jsx(ts,{className:"h-4 w-4 mr-1"}),""]})})]})]},j.generation_response_id))}),v.length>0&&w>1&&i.jsx("div",{className:"flex justify-center mt-8",children:i.jsx(k2,{children:i.jsxs(C2,{children:[i.jsx(_u,{children:i.jsx(E2,{href:"#",onClick:j=>{j.preventDefault(),d>1&&f(d-1)},className:d===1?"pointer-events-none opacity-50":""})}),Array.from({length:w},(j,C)=>C+1).map(j=>i.jsx(_u,{children:i.jsx(If,{href:"#",onClick:C=>{C.preventDefault(),f(j)},isActive:d===j,children:j})},j)),i.jsx(_u,{children:i.jsx(P2,{href:"#",onClick:j=>{j.preventDefault(),d<w&&f(d+1)},className:d===w?"pointer-events-none opacity-50":""})})]})})}),v.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Bt,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4 opacity-50"}),i.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"  "}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"   !"}),i.jsx(J,{className:"mf-button-primary",onClick:()=>m("/generate"),children:" "})]})]})})}function u9({versions:e,rootResponseId:t,currentVersionId:n,onVersionChange:r,onRegenerate:s,statusTypes:o}){const[a,l]=p.useState(!1),c=Math.max(...e.map(g=>g.version_no)),u=Math.max(0,4-c),d=c<4,f=async()=>{if(!d){F.error(" (3) ");return}l(!0);try{const{data:g,error:_}=await q.functions.invoke("regenerate-generation",{body:{response_id:n}});if(_)throw _;if(g.success){F.success(`V${g.data.version_no}  .  : ${g.data.remaining_retries}/3`);const y=g.data.new_response_id;y?r(y):s&&s()}else throw new Error(g.error||" ")}catch(g){console.error("Regeneration error:",g),F.error(g.message||"   ")}finally{l(!1)}},h=g=>{const _=e.find(y=>y.generation_response_id.toString()===g);if(_){const y=o.find(w=>w.generation_status_type_id===_.generation_status_type_id),v=(y==null?void 0:y.generation_status_type_name)||"";if(v.toLowerCase().includes("")&&!v.toLowerCase().includes("")||v.toLowerCase().includes("processing")||v.toLowerCase().includes(""))return}r(parseInt(g))},m=g=>Sa(g,"MM. dd HH:mm"),x=g=>{const _=o.find(w=>w.generation_status_type_id===g),y=(_==null?void 0:_.generation_status_type_name)||"  ",v=y.toLowerCase().includes("")||y.toLowerCase().includes("completed")?"default":y.toLowerCase().includes("")||y.toLowerCase().includes("failed")||y.toLowerCase().includes("error")?"destructive":"secondary";return i.jsx(Le,{variant:v,children:y})};return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h3",{className:"text-lg font-semibold",children:" "}),i.jsxs(Le,{variant:"outline",children:["#",t]})]}),i.jsxs(J,{onClick:f,disabled:!d||a,variant:"outline",size:"sm",children:[i.jsx(jm,{className:`h-4 w-4 mr-2 ${a?"animate-spin":""}`})," ",d?`(${u}/3)`:"(0/3)"]})]}),i.jsxs(ei,{value:n.toString(),onValueChange:h,className:"w-full",children:[i.jsx(uo,{className:"w-full h-auto",children:e.sort((g,_)=>g.version_no-_.version_no).map(g=>i.jsxs(Vt,{value:g.generation_response_id.toString(),className:"flex flex-col gap-2 p-4 h-auto flex-1 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",title:` : ${m(g.created_at)}`,children:[i.jsxs("span",{className:"font-semibold text-lg",children:["V",g.version_no]}),i.jsxs("div",{className:"flex flex-col items-center gap-1",children:[x(g.generation_status_type_id),g.is_final&&i.jsx(Le,{variant:"secondary",className:"text-xs",children:""})]}),i.jsx("span",{className:"text-xs opacity-70",children:m(g.created_at)})]},g.generation_response_id))}),e.map(g=>i.jsx(Gt,{value:g.generation_response_id.toString(),className:"mt-4",children:i.jsx("div",{className:"rounded-lg border p-4",children:(()=>{const _=o.find(w=>w.generation_status_type_id===g.generation_status_type_id),y=(_==null?void 0:_.generation_status_type_name)||"";return y.toLowerCase().includes("")&&!y.toLowerCase().includes("")||y.toLowerCase().includes("processing")||y.toLowerCase().includes("")?i.jsxs("div",{className:"text-center py-8",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[i.jsx(jm,{className:"h-6 w-6 animate-spin text-primary"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-lg",children:" "}),i.jsx("p",{className:"text-muted-foreground",children:" .    ."})]})]}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[m(g.created_at)," "]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h4",{className:"font-medium",children:g.generation_name}),i.jsx("span",{className:"text-sm text-muted-foreground",children:m(g.created_at)})]}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[" ",g.version_no,"   ID: ",g.generation_response_id]})]})})()})},g.generation_response_id))]})]})}function d9({selectedBlock:e,onUpdateBlock:t,onDeleteBlock:n}){return i.jsx("div",{className:"w-80 border-r border-border bg-card p-4 overflow-y-auto",children:e?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-lg font-semibold",children:" "}),i.jsx(J,{variant:"ghost",size:"icon",onClick:()=>n(e.id),children:i.jsx(od,{className:"h-4 w-4"})})]}),i.jsxs(je,{className:"p-4 space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{children:""}),e.type==="text"||e.type==="heading"?i.jsx(sr,{value:e.content,onChange:r=>t(e.id,{content:r.target.value}),rows:3}):i.jsx(Te,{value:e.content,onChange:r=>t(e.id,{content:r.target.value})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{children:"  (px)"}),i.jsx(Te,{type:"number",value:e.styles.fontSize||"",onChange:r=>t(e.id,{styles:{...e.styles,fontSize:Number(r.target.value)}}),placeholder:": 16"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{children:" "}),i.jsxs("select",{className:"w-full h-10 px-3 rounded-md border border-input bg-background",value:e.styles.fontWeight||"normal",onChange:r=>t(e.id,{styles:{...e.styles,fontWeight:r.target.value}}),children:[i.jsx("option",{value:"normal",children:""}),i.jsx("option",{value:"600",children:""}),i.jsx("option",{value:"bold",children:""})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{children:""}),i.jsxs("select",{className:"w-full h-10 px-3 rounded-md border border-input bg-background",value:e.styles.textAlign||"left",onChange:r=>t(e.id,{styles:{...e.styles,textAlign:r.target.value}}),children:[i.jsx("option",{value:"left",children:""}),i.jsx("option",{value:"center",children:""}),i.jsx("option",{value:"right",children:""})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{children:" "}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Te,{type:"color",value:e.styles.color||"#000000",onChange:r=>t(e.id,{styles:{...e.styles,color:r.target.value}}),className:"w-20 h-10 cursor-pointer"}),i.jsx(Te,{value:e.styles.color||"#000000",onChange:r=>t(e.id,{styles:{...e.styles,color:r.target.value}}),className:"flex-1"})]})]}),e.type==="button"&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{children:" "}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Te,{type:"color",value:e.styles.backgroundColor||"#3b82f6",onChange:r=>t(e.id,{styles:{...e.styles,backgroundColor:r.target.value}}),className:"w-20 h-10 cursor-pointer"}),i.jsx(Te,{value:e.styles.backgroundColor||"#3b82f6",onChange:r=>t(e.id,{styles:{...e.styles,backgroundColor:r.target.value}}),className:"flex-1"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{children:"X "}),i.jsx(Te,{type:"number",value:e.x,onChange:r=>t(e.id,{x:Number(r.target.value)})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{children:"Y "}),i.jsx(Te,{type:"number",value:e.y,onChange:r=>t(e.id,{y:Number(r.target.value)})})]})]})]})]}):i.jsx("div",{className:"text-center text-muted-foreground py-8",children:i.jsx("p",{children:"  "})})})}function f9({blocks:e,selectedBlockId:t,onSelectBlock:n,onUpdateBlock:r,onMoveBlock:s,isPreviewMode:o=!1}){const[a,l]=p.useState(null),[c,u]=p.useState({x:0,y:0}),d=p.useRef(null),f=(g,_)=>{if(!o){if(g.stopPropagation(),d.current){const y=d.current.getBoundingClientRect(),v=g.clientX-y.left,w=g.clientY-y.top;u({x:v-_.x,y:w-_.y})}l(_.id),n(_.id)}},h=g=>{if(a&&d.current&&!o){const _=d.current.getBoundingClientRect(),y=g.clientX-_.left,v=g.clientY-_.top,w=y-c.x,b=v-c.y,N=Math.max(0,Math.min(w,_.width-100)),j=Math.max(0,Math.min(b,_.height-50));s(a,N,j)}},m=()=>{l(null)},x=g=>{g.id;const _={...g.styles,fontSize:g.styles.fontSize?`${g.styles.fontSize}px`:void 0,cursor:o?"default":a===g.id?"grabbing":"grab",transition:a===g.id?"none":"all 0.2s",userSelect:"none"};switch(g.type){case"heading":return i.jsx("h1",{style:_,className:"outline-none whitespace-nowrap",children:g.content});case"text":return i.jsx("p",{style:_,className:"outline-none whitespace-nowrap",children:g.content});case"button":return i.jsx("button",{style:_,className:"rounded-lg outline-none px-6 py-3",children:g.content});case"image":return i.jsx("img",{src:g.content||"/placeholder.svg",alt:"Content",style:{..._,maxWidth:"400px"},className:"outline-none"});default:return i.jsx("div",{style:_,children:g.content})}};return i.jsx("div",{className:"flex-1 overflow-hidden bg-muted/20 p-8",children:i.jsx("div",{ref:d,className:"w-full h-full bg-background rounded-lg shadow-lg relative overflow-hidden",onMouseMove:h,onMouseUp:m,onMouseLeave:m,onClick:()=>!o&&n(""),children:e.map(g=>i.jsx("div",{onMouseDown:_=>f(_,g),onClick:_=>{o||(_.stopPropagation(),n(g.id))},style:{position:"absolute",left:`${g.x}px`,top:`${g.y}px`},className:`${!o&&g.id===t?"ring-2 ring-primary rounded-lg":""}`,children:x(g)},g.id))})})}function h9({onAddBlock:e,onSave:t,onPreview:n,isPreviewMode:r}){const s=Qt();return i.jsxs("div",{className:"border-b border-border bg-card px-4 py-2 flex items-center gap-2",children:[i.jsx(J,{variant:"ghost",size:"icon",onClick:()=>s("/"),children:i.jsx(bx,{className:"h-4 w-4"})}),i.jsx(Mr,{orientation:"vertical",className:"h-6"}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsxs(J,{variant:"ghost",size:"sm",onClick:()=>e("heading"),disabled:r,children:[i.jsx(km,{className:"h-4 w-4 mr-2"}),""]}),i.jsxs(J,{variant:"ghost",size:"sm",onClick:()=>e("text"),disabled:r,children:[i.jsx(km,{className:"h-4 w-4 mr-2"}),""]}),i.jsxs(J,{variant:"ghost",size:"sm",onClick:()=>e("button"),disabled:r,children:[i.jsx(z3,{className:"h-4 w-4 mr-2"}),""]}),i.jsxs(J,{variant:"ghost",size:"sm",onClick:()=>e("image"),disabled:r,children:[i.jsx(pu,{className:"h-4 w-4 mr-2"}),""]})]}),i.jsx(Mr,{orientation:"vertical",className:"h-6"}),i.jsxs("div",{className:"flex items-center gap-1 ml-auto",children:[i.jsx(J,{variant:"ghost",size:"sm",onClick:n,children:r?i.jsxs(i.Fragment,{children:[i.jsx(j3,{className:"h-4 w-4 mr-2"})," "]}):i.jsxs(i.Fragment,{children:[i.jsx(uS,{className:"h-4 w-4 mr-2"}),""]})}),i.jsxs(J,{variant:"default",size:"sm",onClick:t,children:[i.jsx(sd,{className:"h-4 w-4 mr-2"}),""]})]})]})}function T2(){const[e,t]=p.useState([{id:"1",type:"heading",content:"  ",x:100,y:50,styles:{fontSize:48,fontWeight:"bold",textAlign:"center"}},{id:"2",type:"text",content:"       .",x:100,y:150,styles:{fontSize:18,textAlign:"center"}},{id:"3",type:"button",content:" ",x:100,y:250,styles:{backgroundColor:"#3b82f6",color:"#ffffff",textAlign:"center",fontWeight:"600",fontSize:16}}]),[n,r]=p.useState(null),[s,o]=p.useState(!1),a=(f,h)=>{t(e.map(m=>m.id===f?{...m,...h}:m))},l=f=>{t(e.filter(h=>h.id!==f)),n===f&&r(null)},c=(f,h,m)=>{a(f,{x:h,y:m})},u=f=>{const h={id:Date.now().toString(),type:f,content:f==="heading"?" ":f==="button"?"":" ",x:50,y:50,styles:{fontSize:f==="heading"?32:16,fontWeight:f==="heading"?"bold":"normal"}};t([...e,h]),r(h.id)},d=e.find(f=>f.id===n);return i.jsxs("div",{className:"h-screen flex flex-col bg-background",children:[i.jsx(h9,{onAddBlock:u,onSave:()=>{console.log("Saving...",e)},onPreview:()=>o(!s),isPreviewMode:s}),i.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[!s&&i.jsx(d9,{selectedBlock:d,onUpdateBlock:a,onDeleteBlock:l}),i.jsx(f9,{blocks:e,selectedBlockId:n,onSelectBlock:r,onUpdateBlock:a,onMoveBlock:c,isPreviewMode:s})]})]})}const p9=()=>{var ve,ce,ue;const{id:e}=Qd(),t=Qt(),n=Yn(),{user:r}=gn(),[s,o]=p.useState(null),[a,l]=p.useState(!0),[c,u]=p.useState(!1),[d,f]=p.useState(""),[h,m]=p.useState(null),[x,g]=p.useState([]),[_,y]=p.useState(!1),[v,w]=p.useState(!1),[b,N]=p.useState(!1),[j,C]=p.useState(!1),[R,E]=p.useState(0),[T,D]=p.useState(!1);p.useEffect(()=>{e&&O()},[r,e]);const O=async()=>{var Y,Q,ne,xe,Re,Ye,Ke,Je,Z,Se;if(e)try{l(!0);const{data:L,error:K}=await q.from("generation_responses").select(`
          generation_response_id,
          generation_name,
          generation_status_type_id,
          created_at,
          output_path,
          root_response_id,
          version_no,
          is_final,
          can_share,
          user_id,
          generation_attrs_id,
          generation_attrs!inner (
            course_type_id,
            difficulty_id,
            expected_duration_min,
            class_mate_info,
            course_material_scope,
            course_material_id,
            raw_generation_format_id,
            generation_additional_message,
            course_types (
              course_type_name
            ),
            difficulties (
              difficulty_name
            ),
            raw_generation_formats (
              generation_format_name
            ),
            course_materials (
              course_material_desc,
              course_structure,
              raw_course_materials (
                courses (
                  course_grade,
                  course_semester_id,
                  course_material_publisher_id,
                  course_semesters (
                    course_semester_name
                  ),
                  course_material_publishers (
                    course_material_publisher_name
                  )
                )
              )
            )
          )
        `).eq("generation_response_id",parseInt(e)).single();if(K){console.error("Error fetching generation detail:",K),o(null),l(!1);return}if(!L){o(null),l(!1);return}const oe=r?L.user_id===r.id:!1,ye=L.can_share===!0;if(!oe&&!ye){console.log("Access denied: not owner and not shared"),F.error("  ."),o(null),l(!1);return}const{data:Ae,error:Me}=await q.from("generation_responses").select(`
          generation_response_id,
          version_no,
          created_at,
          generation_name,
          generation_status_type_id,
          output_path,
          is_final
        `).eq("root_response_id",L.root_response_id).order("version_no",{ascending:!0});Me&&console.error("Error fetching versions:",Me);const{data:ke,error:Ee}=await q.from("generation_status_types").select(`
          generation_status_type_id,
          generation_status_type_name
        `);Ee&&console.error("Error fetching status types:",Ee);const $={generation_response_id:L.generation_response_id,generation_name:L.generation_name,generation_status_type_id:L.generation_status_type_id,created_at:L.created_at,output_path:L.output_path,root_response_id:L.root_response_id,version_no:L.version_no,is_final:L.is_final,can_share:L.can_share,generation_attrs_id:L.generation_attrs_id,generation_attrs:{course_type_id:L.generation_attrs.course_type_id,difficulty_id:L.generation_attrs.difficulty_id,expected_duration_min:L.generation_attrs.expected_duration_min,class_mate_info:L.generation_attrs.class_mate_info,course_material_scope:L.generation_attrs.course_material_scope,course_material_id:L.generation_attrs.course_material_id,raw_generation_format_id:L.generation_attrs.raw_generation_format_id,generation_additional_message:L.generation_attrs.generation_additional_message,course_types:((Y=L.generation_attrs)==null?void 0:Y.course_types)||null,difficulties:((Q=L.generation_attrs)==null?void 0:Q.difficulties)||null,raw_generation_formats:((ne=L.generation_attrs)==null?void 0:ne.raw_generation_formats)||null,course_materials:((xe=L.generation_attrs)==null?void 0:xe.course_materials)||null},course_types:((Re=L.generation_attrs)==null?void 0:Re.course_types)||null,difficulties:((Ye=L.generation_attrs)==null?void 0:Ye.difficulties)||null,raw_generation_formats:((Ke=L.generation_attrs)==null?void 0:Ke.raw_generation_formats)||null,course_materials:((Je=L.generation_attrs)==null?void 0:Je.course_materials)||null,course_structure:((Se=(Z=L.generation_attrs)==null?void 0:Z.course_materials)==null?void 0:Se.course_structure)||null,versions:Ae||[],statusTypes:ke||[]};o($),f(L.generation_name||""),m(L.generation_response_id),N(L.can_share);const{count:V}=await q.from("generation_response_download_events").select("*",{count:"exact",head:!0}).eq("generation_response_id",parseInt(e));E(V||0),G(L.generation_response_id),l(!1)}catch(L){console.error("Error in fetchGenerationDetail:",L),o(null),l(!1)}},z=async()=>{if(!(!s||!d.trim()))try{const{error:Y}=await q.from("generation_responses").update({generation_name:d.trim()}).eq("generation_response_id",s.generation_response_id).eq("user_id",r==null?void 0:r.id);if(Y)throw Y;o(Q=>Q?{...Q,generation_name:d.trim()}:null),u(!1),F.success("Name updated successfully")}catch(Y){console.error("Error updating name:",Y),F.error("Failed to update name")}},W=()=>{f((s==null?void 0:s.generation_name)||""),u(!1)},A=async Y=>{m(Y),t(`/generation/${Y}`)},M=()=>{O()},G=async Y=>{try{y(!0);const{data:Q,error:ne}=await q.from("video_recommendations").select("*").eq("generation_response_id",Y).order("created_at",{ascending:!0});if(ne){console.error("Error fetching video recommendations:",ne);return}g(Q||[])}catch(Q){console.error("Error in fetchVideoRecommendations:",Q)}finally{y(!1)}},P=async()=>{if(s!=null&&s.generation_response_id)try{w(!0);const{data:Y,error:Q}=await q.functions.invoke("video-recommendations",{body:{generation_response_id:s.generation_response_id}});if(Q)throw Q;if(Y.success)F.success(Y.message),G(s.generation_response_id);else throw new Error(Y.error)}catch(Y){console.error("Error generating video recommendations:",Y),F.error("   .")}finally{w(!1)}},I=Y=>{window.open(Y,"_blank","noopener,noreferrer")},S=async Y=>{if(s!=null&&s.generation_response_id)try{C(!0);const{data:Q,error:ne}=await q.functions.invoke("enable-generation-response-sharing",{body:{generation_response_id:s.generation_response_id,enable:Y}});if(ne)throw ne;if(Q!=null&&Q.success)N(Y),o(xe=>xe?{...xe,can_share:Y}:null),F.success(Y?"  .":"  .");else throw new Error((Q==null?void 0:Q.error)||"Failed to update sharing status")}catch(Q){console.error("Error updating share status:",Q),F.error("   .")}finally{C(!1)}},H=Y=>{var ne;const Q=(ne=s==null?void 0:s.statusTypes)==null?void 0:ne.find(xe=>xe.generation_status_type_id===Y);return(Q==null?void 0:Q.generation_status_type_name)||"Unknown"},te=Y=>{const Q=H(Y).toLowerCase();return Q.includes("")||Q==="completed"?"default":Q.includes("")||Q.includes("failed")||Q==="error"?"destructive":"secondary"},k=Y=>{var ne,xe;const Q=(xe=(ne=s==null?void 0:s.generation_attrs)==null?void 0:ne.course_materials)==null?void 0:xe.course_structure;return Q&&Q[Y]?Q[Y].section_name||`Section ${Y+1}`:`Section ${Y+1}`},de=(Y,Q)=>{var Ye,Ke;const ne=(Ke=(Ye=s==null?void 0:s.generation_attrs)==null?void 0:Ye.course_materials)==null?void 0:Ke.course_structure;if(!ne||!ne[Y])return[];const xe=ne[Y],Re=(xe==null?void 0:xe.section_weeks)||[];return Q.map(Je=>{const Z=Re[Je];return(Z==null?void 0:Z.section_content_order)!==void 0?`${Z.section_content_order}`:(Z==null?void 0:Z.section_content_name)||`${Je+1}`})};return a?i.jsx("div",{className:"container mx-auto p-6",children:i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s?i.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[i.jsx("div",{className:"flex items-center gap-4 mb-6",children:i.jsxs(J,{variant:"ghost",size:"sm",onClick:()=>{var Q;const Y=(Q=n.state)==null?void 0:Q.from;t(Y==="gallery"?"/gallery/results":"/history")},className:"flex items-center gap-2",children:[i.jsx(cc,{className:"h-4 w-4"}),""]})}),i.jsx(je,{children:i.jsx(Ie,{children:i.jsxs(Ne,{children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"flex items-center gap-2",children:c?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Te,{value:d,onChange:Y=>f(Y.target.value),className:"text-xl font-bold",onKeyDown:Y=>{Y.key==="Enter"&&z(),Y.key==="Escape"&&W()}}),i.jsx(J,{size:"sm",variant:"ghost",onClick:z,children:i.jsx(dc,{className:"h-4 w-4"})}),i.jsx(J,{size:"sm",variant:"ghost",onClick:W,children:i.jsx(no,{className:"h-4 w-4"})})]}):i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h1",{className:"text-xl font-bold",children:s.generation_name||"Unnamed Generation"}),i.jsxs(Le,{variant:"outline",children:["V",s.version_no," of #",s.root_response_id]}),s.is_final&&i.jsx(Le,{variant:"default",children:""}),i.jsx(J,{size:"sm",variant:"ghost",onClick:()=>u(!0),children:i.jsx(mu,{className:"h-4 w-4"})})]})}),i.jsx("div",{className:"flex gap-2",children:T?i.jsxs(i.Fragment,{children:[i.jsxs(J,{onClick:()=>{F.success(" ."),D(!1)},variant:"default",children:[i.jsx(sd,{className:"w-4 h-4 mr-2"}),""]}),i.jsxs(J,{onClick:()=>D(!1),variant:"outline",children:[i.jsx(no,{className:"w-4 h-4 mr-2"}),""]})]}):i.jsxs(J,{onClick:()=>D(!0),disabled:!s.output_path||!H(s.generation_status_type_id).toLowerCase().includes(""),variant:"default",children:[i.jsx(mu,{className:"w-4 h-4 mr-2"}),""]})})]}),i.jsx("div",{className:"flex items-center gap-2 mt-2",children:i.jsx(Le,{variant:te(s.generation_status_type_id),children:H(s.generation_status_type_id)})}),s.versions&&s.versions.length>0&&h&&s.statusTypes&&i.jsx(u9,{versions:s.versions,rootResponseId:s.root_response_id,currentVersionId:h,onVersionChange:A,onRegenerate:M,statusTypes:s.statusTypes})]})})}),T&&i.jsxs(je,{children:[i.jsx(Ie,{children:i.jsxs(De,{className:"flex items-center gap-2",children:[i.jsx(mu,{className:"h-5 w-5"})," "]})}),i.jsx(Ne,{className:"p-0",children:i.jsx("div",{className:"h-[600px]",children:i.jsx(T2,{})})})]}),!T&&i.jsxs(je,{children:[i.jsx(Ie,{children:i.jsxs(De,{className:"flex items-center gap-2",children:[i.jsx(Hl,{className:"h-5 w-5"}),"  "]})}),i.jsxs(Ne,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm font-medium",children:" "}),i.jsx("p",{className:"text-xs text-muted-foreground",children:b?"          .":"         ."})]}),i.jsx(Bx,{checked:b,onCheckedChange:S,disabled:j||!s.output_path||!H(s.generation_status_type_id).toLowerCase().includes("")})]}),b&&i.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[i.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:" :"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("code",{className:"text-xs bg-background px-2 py-1 rounded border flex-1",children:[window.location.origin,"/share/result/",s.generation_response_id]}),i.jsx(J,{size:"sm",variant:"outline",onClick:()=>{const Y=`${window.location.origin}/share/result/${s.generation_response_id}`;navigator.clipboard.writeText(Y),F.success(" .")},children:""})]})]})]})]}),!T&&i.jsxs(je,{children:[i.jsx(Ie,{children:i.jsx(De,{children:" "})}),i.jsxs(Ne,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Course Type"}),i.jsx("p",{className:"text-foreground",children:((ve=s.generation_attrs.course_types)==null?void 0:ve.course_type_name)||"N/A"})]}),s.generation_attrs.difficulties&&i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Difficulty"}),i.jsx("p",{className:"text-foreground",children:s.generation_attrs.difficulties.difficulty_name})]}),s.generation_attrs.expected_duration_min&&i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Expected Duration"}),i.jsxs("p",{className:"text-foreground",children:[s.generation_attrs.expected_duration_min," minutes"]})]}),s.generation_attrs.raw_generation_formats&&i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Format"}),i.jsx("p",{className:"text-foreground",children:s.generation_attrs.raw_generation_formats.generation_format_name})]}),((ue=(ce=s.generation_attrs.course_materials)==null?void 0:ce.raw_course_materials)==null?void 0:ue.courses)&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Grade"}),i.jsx("p",{className:"text-foreground",children:s.generation_attrs.course_materials.raw_course_materials.courses.course_grade})]}),s.generation_attrs.course_materials.raw_course_materials.courses.course_semesters&&i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Semester"}),i.jsx("p",{className:"text-foreground",children:s.generation_attrs.course_materials.raw_course_materials.courses.course_semesters.course_semester_name})]}),s.generation_attrs.course_materials.raw_course_materials.courses.course_material_publishers&&i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Publisher"}),i.jsx("p",{className:"text-foreground",children:s.generation_attrs.course_materials.raw_course_materials.courses.course_material_publishers.course_material_publisher_name})]})]})]}),s.generation_attrs.class_mate_info&&i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Class Information"}),i.jsxs("p",{className:"text-foreground",children:["Students: ",s.generation_attrs.class_mate_info.male_student_count||0," male,",s.generation_attrs.class_mate_info.female_student_count||0," female"]})]}),s.generation_attrs.generation_additional_message&&i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Additional Message"}),i.jsx("p",{className:"text-foreground",children:s.generation_attrs.generation_additional_message})]})]})]}),!T&&s.generation_attrs.course_material_scope&&i.jsxs(je,{children:[i.jsx(Ie,{children:i.jsx(De,{children:" "})}),i.jsx(Ne,{children:typeof s.generation_attrs.course_material_scope=="object"&&s.generation_attrs.course_material_scope.course_sections_index!==void 0&&i.jsxs("div",{children:[i.jsxs("p",{className:"font-medium",children:[": ",k(s.generation_attrs.course_material_scope.course_sections_index)]}),s.generation_attrs.course_material_scope.course_weeks_indices&&i.jsxs("div",{className:"mt-2",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:" :"}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:de(s.generation_attrs.course_material_scope.course_sections_index,s.generation_attrs.course_material_scope.course_weeks_indices).map((Y,Q)=>i.jsx(Le,{variant:"secondary",children:Y},Q))})]})]})})]}),!T&&i.jsxs(je,{children:[i.jsx(Ie,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(De,{className:"flex items-center gap-2",children:[i.jsx(gu,{className:"h-5 w-5"}),"  "]}),i.jsx(J,{onClick:P,disabled:v,variant:"outline",size:"sm",children:v?i.jsxs(i.Fragment,{children:[i.jsx(jm,{className:"h-4 w-4 mr-2 animate-spin"})," ..."]}):"  "})]})}),i.jsx(Ne,{children:_?i.jsx("div",{className:"flex justify-center items-center py-8",children:i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}):x.length>0?i.jsx("div",{className:"grid gap-4",children:x.map(Y=>i.jsx(je,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>I(Y.video_url),children:i.jsx(Ne,{className:"p-4",children:i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx("h4",{className:"font-medium text-foreground hover:text-primary transition-colors",children:Y.video_name}),Y.video_desc&&i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:Y.video_desc})]}),i.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[i.jsx(cS,{className:"h-4 w-4"}),i.jsx(gu,{className:"h-4 w-4"})]})]})})},Y.video_recommendation_id))}):i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(gu,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),i.jsx("p",{className:"text-sm",children:"    ."}),i.jsx("p",{className:"text-xs mt-1",children:"      ."})]})})]})]}):i.jsx("div",{className:"container mx-auto p-6",children:i.jsx(je,{children:i.jsxs(Ne,{className:"text-center py-8",children:[i.jsx("p",{className:"text-muted-foreground",children:"Generation not found or access denied."}),i.jsx(J,{variant:"outline",onClick:()=>t("/history"),className:"mt-4",children:"Back to History"})]})})})};function m9(){var bc;const{user:e}=gn(),[t]=ZO(),[n,r]=p.useState(!1),[s,o]=p.useState(()=>{const B=t.get("tab");return B==="account"||B==="materials"||B==="verification"?B:"materials"}),[a,l]=p.useState(null),[c,u]=p.useState(null),[d,f]=p.useState(""),[h,m]=p.useState([]),[x,g]=p.useState(!1),[_,y]=p.useState(""),[v,w]=p.useState(""),[b,N]=p.useState(""),[j,C]=p.useState(""),[R,E]=p.useState([]),[T,D]=p.useState([]),[O,z]=p.useState([]),[W,A]=p.useState([]),[M,G]=p.useState({}),[P,I]=p.useState({}),[S,H]=p.useState(""),[te,k]=p.useState(""),[de,ve]=p.useState(""),[ce,ue]=p.useState(null),[Y,Q]=p.useState(""),[ne,xe]=p.useState(!1),[Re,Ye]=p.useState(""),[Ke,Je]=p.useState(""),[Z,Se]=p.useState(""),[L,K]=p.useState(!1),[oe,ye]=p.useState("unknown"),[Ae,Me]=p.useState(null),[ke,Ee]=p.useState(""),[$,V]=p.useState(!1);if(p.useEffect(()=>{e&&me()},[e]),!e)return i.jsx(In,{children:i.jsx("div",{className:"container mx-auto px-4 py-12",children:i.jsx("div",{className:"max-w-2xl mx-auto text-center",children:i.jsxs(je,{children:[i.jsxs(Ie,{children:[i.jsx(De,{className:"text-2xl",children:""}),i.jsx(rt,{children:"    ."})]}),i.jsx(Ne,{children:i.jsx(J,{className:"mf-button-primary",onClick:()=>window.location.href="/auth",children:""})})]})})})});const me=async()=>{console.log("Settings: Loading initial data..."),r(!0);try{await Promise.allSettled([Ce(),qe()]),await et()}catch(B){console.error("Settings: Error in loadInitialData:",B)}finally{r(!1),console.log("Settings: Initial data loading completed")}},Ce=async()=>{try{console.log("Settings: Loading teaching styles...");const{data:B,error:pe}=await q.from("teaching_styles").select("teaching_style_id, teaching_style_name, teaching_style_desc").eq("open_status",!0).order("teaching_style_id");if(pe)throw pe;E(B||[]),console.log("Settings: Teaching styles loaded:",(B==null?void 0:B.length)||0)}catch(B){console.error("Settings: Error loading teaching styles:",B),E([])}},qe=async()=>{try{console.log("Settings: Loading course types...");const{data:B,error:pe}=await q.from("course_types").select("course_type_id, course_type_name, course_type_desc").order("course_type_id");if(pe)throw pe;z(B||[]),console.log("Settings: Course types loaded:",(B==null?void 0:B.length)||0)}catch(B){console.error("Settings: Error loading course types:",B),z([])}},et=async()=>{var B,pe;if(!(e!=null&&e.id)){console.log("Settings: No user ID, skipping profile load");return}try{console.log("Settings: Loading user profile for user:",e.id);const{data:he,error:ot}=await q.from("teacher_info").select(`
          *,
          schools!teacher_info_school_id_fkey(*)
        `).eq("user_id",e.id).maybeSingle();if(ot&&ot.code!=="PGRST116")throw ot;if(he){if(u(he.schools),f(he.schools.school_name),l(he.teacher_info_id),H(he.nickname||""),k(he.homepage_url||""),ve(he.self_introduction||""),Q(he.personal_photo_path||""),he.class_info&&typeof he.class_info=="object"){const Fe=he.class_info;y(Fe.class_grade||""),w(Fe.class_semester||""),Fe.class_mate_info&&(N(((B=Fe.class_mate_info.male_student_count)==null?void 0:B.toString())||""),C(((pe=Fe.class_mate_info.female_student_count)==null?void 0:pe.toString())||""))}await dt(he.teacher_info_id),await Ue(he.teacher_info_id),he.teacher_verified===!0?ye("approved"):he.teacher_verified===!1&&he.teacher_verification_file_path?ye("pending"):ye("unknown")}else ye("unknown"),l(null),D([]),A([])}catch(he){console.error("Error loading user profile:",he),ye("unknown")}},dt=async B=>{try{const{data:pe,error:he}=await q.from("teacher_teaching_style_map").select(`
          teaching_style_id,
          teaching_styles!teaching_style_id (
            teaching_style_name
          )
        `).eq("teacher_info_id",B);if(he)throw he;D((pe||[]).map(ot=>ot.teaching_style_id))}catch(pe){console.error("Error loading teaching style mappings:",pe),D([])}},Ue=async B=>{try{const{data:pe,error:he}=await q.from("teacher_course_type_course_material_publisher_map").select(`
          course_type_id, 
          course_material_publisher_id,
          course_material_publishers!course_material_publisher_id!inner(
            course_material_publisher_name
          )
        `).eq("teacher_info_id",B);if(he)throw he;const ot=(pe||[]).map(Fe=>{var ut;return{course_type_id:Fe.course_type_id,course_material_publisher_id:Fe.course_material_publisher_id,course_material_publisher_name:((ut=Fe.course_material_publishers)==null?void 0:ut.course_material_publisher_name)||""}});A(ot)}catch(pe){console.error("Error loading publisher mappings:",pe),A([])}},At=async B=>{if(!B.trim()){m([]);return}try{const{data:pe,error:he}=await q.from("schools").select("school_id, school_name, school_address").ilike("school_name",`%${B}%`).limit(10);if(he)throw he;m(pe||[]),g(!0)}catch(pe){console.error("Error searching schools:",pe)}},vt=async(B,pe)=>{try{const{data:he,error:ot}=await q.from("course_material_publishers").select("course_material_publisher_id, course_material_publisher_name, course_material_publisher_desc").ilike("course_material_publisher_name",`%${pe}%`).limit(10);if(ot)throw ot;const Fe=[...he||[],{course_material_publisher_id:-1,course_material_publisher_name:"  ",course_material_publisher_desc:""}];I(ut=>({...ut,[B]:Fe}))}catch(he){console.error("Error searching publishers:",he)}},tt=B=>{f(B),At(B)},$t=B=>{u(B),f(B.school_name),g(!1)},Pe=(B,pe)=>{D(pe?[...T,B]:T.filter(he=>he!==B))},at=(B,pe)=>{G(he=>({...he,[B]:pe})),pe.trim()&&vt(B,pe)},nt=(B,pe,he)=>{A(ot=>{const Fe=ot.filter(ut=>ut.course_type_id!==B);return pe!==null&&pe!==-1&&Fe.push({course_type_id:B,course_material_publisher_id:pe,course_material_publisher_name:he}),Fe}),G(ot=>({...ot,[B]:he})),I(ot=>({...ot,[B]:[]}))},ln=B=>{if(B in M)return M[B];const pe=W.find(he=>he.course_type_id===B);return(pe==null?void 0:pe.course_material_publisher_name)||"  "},Nt=B=>{ln(B)==="  "&&G(he=>({...he,[B]:""}))},Vr=async B=>{B.preventDefault(),K(!0);try{if(Ke!==Z)throw new Error("   .");const{error:pe}=await q.auth.signInWithPassword({email:(e==null?void 0:e.email)||"",password:Re});if(pe)throw new Error("   .");const{error:he}=await q.auth.updateUser({password:Ke});if(he)throw he;F.success("  ."),xe(!1),Ye(""),Je(""),Se("")}catch(pe){F.error(`  : ${pe.message}`)}finally{K(!1)}},ni=async B=>{B.preventDefault(),r(!0);try{if(!(e!=null&&e.id))throw new Error("  .");if(!c)throw new Error("  .");console.log("Current publisher mappings before save:",W);let pe=[...W];const he=[];for(const ut of O){const yn=pe.some(ee=>ee.course_type_id===ut.course_type_id),kr=(M[ut.course_type_id]||"").trim();if(!yn&&!(kr===""||kr==="  ")){const{data:ee,error:_e}=await q.from("course_material_publishers").select("course_material_publisher_id, course_material_publisher_name").eq("course_material_publisher_name",kr).maybeSingle();if(_e)throw _e;ee?pe.push({course_type_id:ut.course_type_id,course_material_publisher_id:ee.course_material_publisher_id,course_material_publisher_name:ee.course_material_publisher_name}):he.push(ut.course_type_name)}}if(he.length>0)throw new Error(`     : ${he.join(", ")}`);const ot={class_grade:_,class_semester:v,class_mate_info:{male_student_count:parseInt(b)||0,female_student_count:parseInt(j)||0}};let Fe=a;if(a){const{error:ut}=await q.from("teacher_info").update({school_id:c.school_id,class_info:ot,updated_at:new Date().toISOString()}).eq("teacher_info_id",a);if(ut)throw ut}else{const{data:ut,error:yn}=await q.from("teacher_info").insert({user_id:e.id,school_id:c.school_id,class_info:ot,teacher_verified:!1}).select("teacher_info_id").single();if(yn)throw yn;Fe=ut.teacher_info_id,l(Fe)}if(Fe){const{error:ut}=await q.rpc("sync_teacher_teaching_styles",{p_teacher_info_id:Fe,p_teaching_style_ids:T});if(ut)throw ut;await Lf(Fe,pe),await Ue(Fe)}F.success(`   . ( ${pe.filter(ut=>ut.course_material_publisher_id!==null).length} )`)}catch(pe){console.error("Materials update error:",pe),F.error(` : ${pe.message}`)}finally{r(!1)}},Lf=async(B,pe)=>{try{const{error:he}=await q.from("teacher_course_type_course_material_publisher_map").delete().eq("teacher_info_id",B);if(he)throw he;const ot=pe.filter(Fe=>Fe.course_material_publisher_id!==null&&Fe.course_material_publisher_id!==-1).map(Fe=>({teacher_info_id:B,course_type_id:Fe.course_type_id,course_material_publisher_id:Fe.course_material_publisher_id}));if(ot.length>0){const{error:Fe}=await q.from("teacher_course_type_course_material_publisher_map").insert(ot);if(Fe)throw Fe}console.log(`Successfully synced ${ot.length} publisher mappings`)}catch(he){throw console.error("Error syncing publisher mappings:",he),he}},$f=async B=>{B.preventDefault(),r(!0);try{if(!(e!=null&&e.id))throw new Error("  .");let pe=Y;if(ce){const Fe=ce.name.split(".").pop()||"jpg",ut=`${ce.name.split(".").slice(0,-1).join(".")}.${Fe}`,yn=new FormData;yn.append("file",ce),yn.append("folder",`personal_photos/${e.id}`),yn.append("filename",ut);const{data:kr,error:U}=await q.functions.invoke("upload-to-s3",{body:yn});if(U)throw U;if(kr.success)pe=kr.url;else throw new Error(kr.error||"  .")}let he=a;const ot={nickname:S||null,homepage_url:te||null,self_introduction:de||null,personal_photo_path:pe||null,updated_at:new Date().toISOString()};if(a){const{error:Fe}=await q.from("teacher_info").update(ot).eq("teacher_info_id",a);if(Fe)throw Fe}else{const{data:Fe,error:ut}=await q.from("teacher_info").insert({user_id:e.id,school_id:1,teacher_verified:!1,...ot}).select("teacher_info_id").single();if(ut)throw ut;he=Fe.teacher_info_id,l(he)}ce&&pe&&(Q(pe),console.log("Updated currentPhotoPath to:",pe)),ue(null),await et(),F.success("   .")}catch(pe){F.error(` : ${pe.message}`)}finally{r(!1)}},Ff=B=>{switch(B){case"approved":return i.jsx(Le,{className:"bg-success text-white",children:" "});case"pending":return i.jsx(Le,{variant:"secondary",children:" "});case"rejected":return i.jsx(Le,{variant:"destructive",children:" "});case"unknown":return i.jsx(Le,{variant:"outline",children:""});default:return i.jsx(Le,{variant:"outline",children:""})}},zf=B=>{var he;const pe=(he=B.target.files)==null?void 0:he[0];pe&&Me(pe)},Uf=B=>{var he;const pe=(he=B.target.files)==null?void 0:he[0];pe&&ue(pe)},Bf=async()=>{if(!(!Ae||!ke.trim())){V(!0);try{const B=new FormData;B.append("file",Ae),B.append("folder","teacher-verification");const{data:pe,error:he}=await q.functions.invoke("upload-to-s3",{body:B});if(he)throw he;if(pe.success){const{data:ot}=await q.from("teacher_info").select("teacher_info_id").eq("user_id",e==null?void 0:e.id).maybeSingle();if(ot){const{error:Fe}=await q.from("teacher_info").update({teacher_verification_file_path:pe.url}).eq("user_id",e==null?void 0:e.id);if(Fe)throw Fe}else{const{error:Fe}=await q.from("teacher_info").insert({user_id:e==null?void 0:e.id,school_id:1,teacher_verification_file_path:pe.url,class_info:{class_grade:"1",class_semester:"1",class_mate_info:{male_student_count:0,female_student_count:0}}});if(Fe)throw Fe}F.success("   .   ."),Me(null),Ee(""),await et()}else throw new Error(pe.error||" .")}catch(B){F.error(` : ${B.message}`)}finally{V(!1)}}};return i.jsx(In,{children:i.jsxs("div",{className:"container mx-auto max-w-4xl p-6 space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground",children:""}),i.jsx("p",{className:"text-muted-foreground mt-1",children:" ,      "})]}),i.jsxs(ei,{value:s,onValueChange:o,className:"space-y-6",children:[i.jsxs(uo,{className:"grid w-full grid-cols-3",children:[i.jsx(Vt,{value:"materials",children:" "}),i.jsx(Vt,{value:"account",children:" "}),i.jsx(Vt,{value:"verification",children:" "})]}),i.jsx(Gt,{value:"materials",children:i.jsxs(je,{className:"mf-card",children:[i.jsxs(Ie,{children:[i.jsxs(De,{className:"flex items-center gap-2",children:[i.jsx(oS,{className:"h-5 w-5"})," ",i.jsx("span",{className:"text-sm text-muted-foreground font-normal",children:"(   3  )"})]}),i.jsx(rt,{children:"        ."})]}),i.jsx(Ne,{children:i.jsxs("form",{onSubmit:ni,className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"school",children:"  (   )"}),i.jsxs("div",{className:"relative",children:[i.jsx(Te,{id:"school",value:d,onChange:B=>tt(B.target.value),onFocus:()=>g(!0),onBlur:()=>setTimeout(()=>g(!1),200),placeholder:" ",className:"mf-input"}),x&&h.length>0&&i.jsx("div",{className:"absolute z-10 w-full mt-1 bg-card border border-border rounded-md shadow-lg max-h-60 overflow-y-auto",children:h.map(B=>i.jsxs("div",{className:"p-2 hover:bg-accent cursor-pointer",onClick:()=>$t(B),children:[i.jsx("div",{className:"font-medium",children:B.school_name}),i.jsx("div",{className:"text-sm text-muted-foreground",children:B.school_address})]},B.school_id))})]}),c&&i.jsxs("p",{className:"text-sm text-muted-foreground",children:[" : ",c.school_name]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold",children:" "}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"classGrade",children:""}),i.jsx(Te,{id:"classGrade",value:_,onChange:B=>y(B.target.value),placeholder:": 3",className:"mf-input"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"classSemester",children:""}),i.jsx(Te,{id:"classSemester",value:v,onChange:B=>w(B.target.value),placeholder:": 1",className:"mf-input"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"maleStudents",children:" "}),i.jsx(Te,{id:"maleStudents",type:"number",value:b,onChange:B=>N(B.target.value),placeholder:"0",className:"mf-input"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"femaleStudents",children:" "}),i.jsx(Te,{id:"femaleStudents",type:"number",value:j,onChange:B=>C(B.target.value),placeholder:"0",className:"mf-input"})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"  "}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"    ."}),i.jsx("div",{className:"space-y-3",children:R.map(B=>i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(or,{id:`style-${B.teaching_style_id}`,checked:T.includes(B.teaching_style_id),onCheckedChange:pe=>Pe(B.teaching_style_id,pe)}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(fe,{htmlFor:`style-${B.teaching_style_id}`,className:"font-medium cursor-pointer",children:B.teaching_style_name}),B.teaching_style_id===6&&i.jsx("p",{className:"text-sm text-muted-foreground",children:B.teaching_style_desc})]})]},B.teaching_style_id))})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"  "}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"    ."}),i.jsx("div",{className:"space-y-4",children:O.map(B=>{var pe;return i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{children:B.course_type_name}),i.jsxs("div",{className:"relative",children:[i.jsx(Te,{value:ln(B.course_type_id),onChange:he=>at(B.course_type_id,he.target.value),onFocus:()=>Nt(B.course_type_id),placeholder:" ",className:"mf-input"}),i.jsx(Qo,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),((pe=P[B.course_type_id])==null?void 0:pe.length)>0&&i.jsx("div",{className:"absolute z-10 w-full mt-1 bg-card border border-border rounded-md shadow-lg max-h-48 overflow-y-auto",children:P[B.course_type_id].map(he=>i.jsxs("div",{className:"p-2 hover:bg-accent cursor-pointer",onClick:()=>nt(B.course_type_id,he.course_material_publisher_id===-1?null:he.course_material_publisher_id,he.course_material_publisher_name),children:[i.jsx("div",{className:"font-medium",children:he.course_material_publisher_name}),he.course_material_publisher_desc&&i.jsx("div",{className:"text-sm text-muted-foreground",children:he.course_material_publisher_desc})]},he.course_material_publisher_id))})]})]},B.course_type_id)})})]}),i.jsx(J,{type:"submit",className:"w-full mf-button-primary",disabled:n,children:n?" ...":""})]})})]})}),i.jsx(Gt,{value:"account",children:i.jsxs(je,{className:"mf-card",children:[i.jsxs(Ie,{children:[i.jsxs(De,{className:"flex items-center gap-2",children:[i.jsx(pl,{className:"h-5 w-5"})," "]}),i.jsx(rt,{children:"   "})]}),i.jsx(Ne,{children:i.jsxs("form",{onSubmit:$f,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"fullName",children:""}),i.jsx(Te,{id:"fullName",value:((bc=e==null?void 0:e.user_metadata)==null?void 0:bc.full_name)||(e==null?void 0:e.email)||"",disabled:!0,className:"mf-input opacity-60"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"email",children:""}),i.jsx(Te,{id:"email",value:(e==null?void 0:e.email)||"",disabled:!0,className:"mf-input opacity-60"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"nickname",children:""}),i.jsx(Te,{id:"nickname",value:S,onChange:B=>H(B.target.value),placeholder:" ",className:"mf-input"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"homepageUrl",children:"  "}),i.jsxs("div",{className:"relative",children:[i.jsx(bx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(Te,{id:"homepageUrl",value:te,onChange:B=>k(B.target.value),placeholder:"edeal.co.kr/@me",className:"mf-input pl-10"})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(fe,{children:" "}),Y&&i.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[i.jsx("div",{className:"relative w-32 h-32 rounded-full overflow-hidden border-2 border-border",children:i.jsx(sk,{currentPhotoPath:Y,altText:" "})}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"  "})]}),ce&&i.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[i.jsx("div",{className:"relative w-32 h-32 rounded-full overflow-hidden border-2 border-primary",children:i.jsx("img",{src:URL.createObjectURL(ce),alt:"  ",className:"w-full h-full object-cover"})}),i.jsx("p",{className:"text-sm text-primary font-medium",children:"  "})]}),!ce&&!Y?i.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-6 text-center cursor-pointer hover:border-primary/50 transition-colors",onClick:()=>{var B;return(B=document.getElementById("photo-input"))==null?void 0:B.click()},children:[i.jsx(Bw,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"  "}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"JPG, PNG ( 5MB)"})]}):i.jsxs("div",{className:"flex justify-center gap-3",children:[i.jsxs(J,{type:"button",variant:"outline",size:"sm",onClick:()=>{var B;return(B=document.getElementById("photo-input"))==null?void 0:B.click()},children:[i.jsx(Bw,{className:"h-4 w-4 mr-2"}),Y?" ":" "]}),(ce||Y)&&i.jsxs(J,{type:"button",onClick:()=>{ue(null),Q("")},variant:"ghost",size:"sm",children:[i.jsx(no,{className:"h-4 w-4 mr-2"}),""]})]}),i.jsx("input",{id:"photo-input",type:"file",accept:"image/*",onChange:Uf,className:"hidden"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"selfIntroduction",children:" "}),i.jsx(sr,{id:"selfIntroduction",value:de,onChange:B=>ve(B.target.value),placeholder:"  ",className:"min-h-[120px] resize-none"})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[i.jsxs(Hi,{open:ne,onOpenChange:xe,children:[i.jsx(Yz,{asChild:!0,children:i.jsxs(J,{type:"button",variant:"outline",className:"flex items-center gap-2",children:[i.jsx(N3,{className:"h-4 w-4"})," "]})}),i.jsxs(Oo,{children:[i.jsxs(fa,{children:[i.jsx(ha,{children:" "}),i.jsx(jf,{children:"    ."})]}),i.jsxs("form",{onSubmit:Vr,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"currentPassword",children:" "}),i.jsx(Te,{id:"currentPassword",type:"password",value:Re,onChange:B=>Ye(B.target.value),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"newPassword",children:" "}),i.jsx(Te,{id:"newPassword",type:"password",value:Ke,onChange:B=>Je(B.target.value),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"confirmPassword",children:" "}),i.jsx(Te,{id:"confirmPassword",type:"password",value:Z,onChange:B=>Se(B.target.value),required:!0})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(J,{type:"button",variant:"outline",onClick:()=>xe(!1),children:""}),i.jsx(J,{type:"submit",disabled:L,children:L?" ...":""})]})]})]})]}),i.jsx(J,{type:"submit",className:"mf-button-primary flex-1",disabled:n,children:n?" ...":""})]})]})})]})}),i.jsx(Gt,{value:"verification",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs(je,{className:"mf-card",children:[i.jsxs(Ie,{children:[i.jsxs(De,{className:"flex items-center gap-2",children:[i.jsx(qw,{className:"h-5 w-5"}),"  "]}),i.jsx(rt,{children:"     "})]}),i.jsx(Ne,{children:i.jsxs("div",{className:"flex items-center justify-between p-4 bg-secondary rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(qw,{className:"h-6 w-6 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:" "}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"   "})]})]}),Ff(oe)]})})]}),oe!=="approved"&&i.jsxs(je,{className:"mf-card",children:[i.jsxs(Ie,{children:[i.jsxs(De,{className:"flex items-center gap-2",children:[i.jsx(Vl,{className:"h-5 w-5"}),"  "]}),i.jsx(rt,{children:"    "})]}),i.jsxs(Ne,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"verification-file",children:" "}),Ae?i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-secondary/50",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Bt,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{className:"text-sm truncate max-w-[200px]",children:Ae.name}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",(Ae.size/1024/1024).toFixed(2)," MB)"]})]}),i.jsx(J,{onClick:()=>Me(null),variant:"ghost",size:"sm",type:"button",children:i.jsx(no,{className:"h-4 w-4"})})]}):i.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-6 text-center cursor-pointer hover:border-primary/50 transition-colors",onClick:()=>{var B;return(B=document.getElementById("verification-file-input"))==null?void 0:B.click()},children:[i.jsx(Vl,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"    "}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"PDF, JPG, PNG ( 10MB)"}),i.jsx("input",{id:"verification-file-input",type:"file",accept:"image/*,.pdf",onChange:zf,className:"hidden"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"verification-school",children:" "}),i.jsx(Te,{id:"verification-school",value:ke,onChange:B=>Ee(B.target.value),placeholder:"  ",className:"mf-input"})]}),i.jsx(J,{className:"w-full mf-button-primary",disabled:!Ae||!ke.trim()||$,onClick:Bf,type:"button",children:$?" ...":" "})]})]})]})})]})]})})}var cy="Collapsible",[g9,R2]=An(cy),[x9,uy]=g9(cy),I2=p.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:o,onOpenChange:a,...l}=e,[c=!1,u]=Rn({prop:r,defaultProp:s,onChange:a});return i.jsx(x9,{scope:n,disabled:o,contentId:En(),open:c,onOpenToggle:p.useCallback(()=>u(d=>!d),[u]),children:i.jsx(be.div,{"data-state":hy(c),"data-disabled":o?"":void 0,...l,ref:t})})});I2.displayName=cy;var A2="CollapsibleTrigger",M2=p.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,s=uy(A2,n);return i.jsx(be.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":hy(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:t,onClick:ae(e.onClick,s.onOpenToggle)})});M2.displayName=A2;var dy="CollapsibleContent",fy=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=uy(dy,e.__scopeCollapsible);return i.jsx(Wt,{present:n||s.open,children:({present:o})=>i.jsx(y9,{...r,ref:t,present:o})})});fy.displayName=dy;var y9=p.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:s,...o}=e,a=uy(dy,n),[l,c]=p.useState(r),u=p.useRef(null),d=$e(t,u),f=p.useRef(0),h=f.current,m=p.useRef(0),x=m.current,g=a.open||l,_=p.useRef(g),y=p.useRef();return p.useEffect(()=>{const v=requestAnimationFrame(()=>_.current=!1);return()=>cancelAnimationFrame(v)},[]),Lt(()=>{const v=u.current;if(v){y.current=y.current||{transitionDuration:v.style.transitionDuration,animationName:v.style.animationName},v.style.transitionDuration="0s",v.style.animationName="none";const w=v.getBoundingClientRect();f.current=w.height,m.current=w.width,_.current||(v.style.transitionDuration=y.current.transitionDuration,v.style.animationName=y.current.animationName),c(r)}},[a.open,r]),i.jsx(be.div,{"data-state":hy(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!g,...o,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":x?`${x}px`:void 0,...e.style},children:g&&s})});function hy(e){return e?"open":"closed"}var O2=I2,v9=M2,w9=fy,ps="Accordion",_9=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[py,b9,j9]=mc(ps),[Af,oV]=An(ps,[j9,R2]),my=R2(),D2=re.forwardRef((e,t)=>{const{type:n,...r}=e,s=r,o=r;return i.jsx(py.Provider,{scope:e.__scopeAccordion,children:n==="multiple"?i.jsx(C9,{...o,ref:t}):i.jsx(k9,{...s,ref:t})})});D2.displayName=ps;var[L2,S9]=Af(ps),[$2,N9]=Af(ps,{collapsible:!1}),k9=re.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},collapsible:o=!1,...a}=e,[l,c]=Rn({prop:n,defaultProp:r,onChange:s});return i.jsx(L2,{scope:e.__scopeAccordion,value:l?[l]:[],onItemOpen:c,onItemClose:re.useCallback(()=>o&&c(""),[o,c]),children:i.jsx($2,{scope:e.__scopeAccordion,collapsible:o,children:i.jsx(F2,{...a,ref:t})})})}),C9=re.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},...o}=e,[a=[],l]=Rn({prop:n,defaultProp:r,onChange:s}),c=re.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=re.useCallback(d=>l((f=[])=>f.filter(h=>h!==d)),[l]);return i.jsx(L2,{scope:e.__scopeAccordion,value:a,onItemOpen:c,onItemClose:u,children:i.jsx($2,{scope:e.__scopeAccordion,collapsible:!0,children:i.jsx(F2,{...o,ref:t})})})}),[E9,Mf]=Af(ps),F2=re.forwardRef((e,t)=>{const{__scopeAccordion:n,disabled:r,dir:s,orientation:o="vertical",...a}=e,l=re.useRef(null),c=$e(l,t),u=b9(n),f=Xo(s)==="ltr",h=ae(e.onKeyDown,m=>{var R;if(!_9.includes(m.key))return;const x=m.target,g=u().filter(E=>{var T;return!((T=E.ref.current)!=null&&T.disabled)}),_=g.findIndex(E=>E.ref.current===x),y=g.length;if(_===-1)return;m.preventDefault();let v=_;const w=0,b=y-1,N=()=>{v=_+1,v>b&&(v=w)},j=()=>{v=_-1,v<w&&(v=b)};switch(m.key){case"Home":v=w;break;case"End":v=b;break;case"ArrowRight":o==="horizontal"&&(f?N():j());break;case"ArrowDown":o==="vertical"&&N();break;case"ArrowLeft":o==="horizontal"&&(f?j():N());break;case"ArrowUp":o==="vertical"&&j();break}const C=v%y;(R=g[C].ref.current)==null||R.focus()});return i.jsx(E9,{scope:n,disabled:r,direction:s,orientation:o,children:i.jsx(py.Slot,{scope:n,children:i.jsx(be.div,{...a,"data-orientation":o,ref:c,onKeyDown:r?void 0:h})})})}),hd="AccordionItem",[P9,gy]=Af(hd),z2=re.forwardRef((e,t)=>{const{__scopeAccordion:n,value:r,...s}=e,o=Mf(hd,n),a=S9(hd,n),l=my(n),c=En(),u=r&&a.value.includes(r)||!1,d=o.disabled||e.disabled;return i.jsx(P9,{scope:n,open:u,disabled:d,triggerId:c,children:i.jsx(O2,{"data-orientation":o.orientation,"data-state":q2(u),...l,...s,ref:t,disabled:d,open:u,onOpenChange:f=>{f?a.onItemOpen(r):a.onItemClose(r)}})})});z2.displayName=hd;var U2="AccordionHeader",B2=re.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=Mf(ps,n),o=gy(U2,n);return i.jsx(be.h3,{"data-orientation":s.orientation,"data-state":q2(o.open),"data-disabled":o.disabled?"":void 0,...r,ref:t})});B2.displayName=U2;var tg="AccordionTrigger",H2=re.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=Mf(ps,n),o=gy(tg,n),a=N9(tg,n),l=my(n);return i.jsx(py.ItemSlot,{scope:n,children:i.jsx(v9,{"aria-disabled":o.open&&!a.collapsible||void 0,"data-orientation":s.orientation,id:o.triggerId,...l,...r,ref:t})})});H2.displayName=tg;var V2="AccordionContent",W2=re.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=Mf(ps,n),o=gy(V2,n),a=my(n);return i.jsx(w9,{role:"region","aria-labelledby":o.triggerId,"data-orientation":s.orientation,...a,...r,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});W2.displayName=V2;function q2(e){return e?"open":"closed"}var T9=D2,R9=z2,I9=B2,G2=H2,K2=W2;const A9=T9,Y2=p.forwardRef(({className:e,...t},n)=>i.jsx(R9,{ref:n,className:le("border-b",e),...t}));Y2.displayName="AccordionItem";const Q2=p.forwardRef(({className:e,children:t,...n},r)=>i.jsx(I9,{className:"flex",children:i.jsxs(G2,{ref:r,className:le("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...n,children:[t,i.jsx(of,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));Q2.displayName=G2.displayName;const X2=p.forwardRef(({className:e,children:t,...n},r)=>i.jsx(K2,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:i.jsx("div",{className:le("pb-4 pt-0",e),children:t})}));X2.displayName=K2.displayName;const M9=()=>{const[e,t]=p.useState(!1);return{uploadFile:async(r,s="uploads")=>{var u;if(!r)return{success:!1,error:"  ."};const o=10*1024*1024;if(r.size>o)return{success:!1,error:"  10MB   ."};if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp","application/pdf","text/plain","text/csv","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/x-hwp","application/haansofthwp","application/vnd.hancom.hwp","application/vnd.hancom.hwpx"].includes(r.type))return{success:!1,error:"   ."};const l=(u=r.name.split(".").pop())==null?void 0:u.toLowerCase();if(!l||!["jpg","jpeg","png","gif","webp","pdf","txt","csv","doc","docx","xls","xlsx","ppt","pptx","hwp","hwpx"].includes(l))return{success:!1,error:"   ."};t(!0);try{const d=new FormData;d.append("file",r),d.append("folder",s);const{data:f,error:h}=await q.functions.invoke("upload-to-s3",{body:d});if(h)throw console.error("Upload function error:",h),new Error("   .");if(f.success)return F.success("  ."),{success:!0,url:f.url};throw new Error(f.error||" .")}catch(d){console.error("Upload error:",d);const f=d instanceof Error?d.message:"   .";return F.error(f),{success:!1,error:f}}finally{t(!1)}},uploading:e}},O9=[{question:"MangoFactory  ?",answer:"MangoFactory AI      .   , ,      ."},{question:"   ?",answer:",      .  5   ,           ."},{question:"    ?",answer:"      .  , ,   ."},{question:"   ?",answer:"      ,        ."},{question:"     ?",answer:"PDF, Word, PowerPoint     .       ."}];function D9(){const[e,t]=p.useState({category:"",subject:"",message:"",email:""}),[n,r]=p.useState(!1),[s,o]=p.useState([]),[a,l]=p.useState(null),{uploadFile:c,uploading:u}=M9();p.useEffect(()=>{d()},[]);const d=async()=>{try{const{data:g,error:_}=await q.rpc("get_help_request_types");if(_)throw _;o(g||[])}catch(g){console.error("Error fetching help request types:",g)}},f=async g=>{g.preventDefault(),r(!0);try{let _=null;if(a){const w=await c(a,"supports");if(!w.success)throw new Error(w.error||"  .");_=w.url}const{data:y,error:v}=await q.rpc("insert_help_request",{p_help_request_type_id:parseInt(e.category),p_help_request_email:e.email,p_help_request_name:e.subject,p_help_request_content:e.message,p_help_request_file_path:_});if(v)throw v;F.success(" .    ."),t({category:"",subject:"",message:"",email:""}),l(null)}catch(_){console.error("Error submitting support request:",_),F.error("    .")}finally{r(!1)}},h=(g,_)=>{t(y=>({...y,[g]:_}))},m=g=>{var y;const _=(y=g.target.files)==null?void 0:y[0];if(_){if(_.size>5*1024*1024){F.error("  5MB   .");return}l(_)}},x=()=>{l(null)};return i.jsx(In,{children:i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground",children:" "}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"    "})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[i.jsxs(je,{className:"mf-card",children:[i.jsx(Ie,{children:i.jsxs(De,{className:"flex items-center gap-2",children:[i.jsx(fS,{className:"h-5 w-5"}),"  "]})}),i.jsxs(Ne,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-secondary rounded-lg",children:[i.jsx(I3,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:""}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"sweethopetown@gmail.com"})]})]}),i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-secondary rounded-lg",children:[i.jsx(D3,{className:"h-5 w-5 text-primary"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:""}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"010-2621-4454"})]})]}),i.jsx("div",{className:"text-center pt-2",children:i.jsxs("p",{className:"text-xs text-muted-foreground",children:[" 09:00 - 18:00",i.jsx("br",{}),"(// )"]})})]})]}),i.jsxs(je,{className:"mf-card",children:[i.jsx(Ie,{children:i.jsxs(De,{className:"flex items-center gap-2",children:[i.jsx(Bt,{className:"h-5 w-5"})," "]})}),i.jsx(Ne,{children:i.jsxs("div",{className:"space-y-2",children:[i.jsx(J,{variant:"outline",className:"w-full justify-start",asChild:!0,children:i.jsxs("a",{href:"https://www.notion.so/23f731b0f3a9808aa168ed2362c2cfb2?pvs=21",target:"_blank",rel:"noopener noreferrer",children:[i.jsx(Bt,{className:"h-4 w-4 mr-2"})," "]})}),i.jsx(J,{variant:"outline",className:"w-full justify-start",asChild:!0,children:i.jsxs("a",{href:"https://www.notion.so/23f731b0f3a980e5be54d85222160700?pvs=21",target:"_blank",rel:"noopener noreferrer",children:[i.jsx(Bt,{className:"h-4 w-4 mr-2"})," "]})})]})})]})]}),i.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[i.jsxs(je,{className:"mf-card",children:[i.jsxs(Ie,{children:[i.jsxs(De,{className:"flex items-center gap-2",children:[i.jsx(aS,{className:"h-5 w-5"}),"  "]}),i.jsx(rt,{children:" FAQ "})]}),i.jsx(Ne,{children:i.jsx(A9,{type:"single",collapsible:!0,className:"w-full",children:O9.map((g,_)=>i.jsxs(Y2,{value:`item-${_}`,children:[i.jsx(Q2,{className:"text-left",children:g.question}),i.jsx(X2,{className:"text-muted-foreground",children:g.answer})]},_))})})]}),i.jsxs(je,{className:"mf-card",children:[i.jsxs(Ie,{children:[i.jsxs(De,{className:"flex items-center gap-2",children:[i.jsx(Sm,{className:"h-5 w-5"}),""]}),i.jsx(rt,{children:"FAQ     "})]}),i.jsx(Ne,{children:i.jsxs("form",{onSubmit:f,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"category",children:" "}),i.jsxs(Ao,{value:e.category,onValueChange:g=>h("category",g),children:[i.jsx(Ks,{className:"mf-input",children:i.jsx(Mo,{placeholder:"  "})}),i.jsx(Ta,{children:s.map(g=>i.jsx(rs,{value:g.help_request_type_id.toString(),children:g.help_request_type_name},g.help_request_type_id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"email",children:""}),i.jsx(Te,{id:"email",type:"email",value:e.email,onChange:g=>h("email",g.target.value),placeholder:"  ",required:!0,className:"mf-input"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"subject",children:""}),i.jsx(Te,{id:"subject",value:e.subject,onChange:g=>h("subject",g.target.value),placeholder:"   ",required:!0,className:"mf-input"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"message",children:""}),i.jsx(sr,{id:"message",value:e.message,onChange:g=>h("message",g.target.value),placeholder:"   ",required:!0,rows:6,className:"mf-input resize-none"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{children:"  ()"}),i.jsx("div",{className:"space-y-2",children:a?i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-secondary",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Bt,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{className:"text-sm truncate max-w-[200px]",children:a.name}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",(a.size/1024/1024).toFixed(2)," MB)"]})]}),i.jsx(J,{type:"button",onClick:x,variant:"ghost",size:"sm",children:i.jsx(no,{className:"h-4 w-4"})})]}):i.jsxs("div",{children:[i.jsx("input",{type:"file",id:"file-input",accept:"image/*,.pdf,.doc,.docx,.hwp,.hwpx,.ppt,.pptx",onChange:m,className:"hidden"}),i.jsxs(J,{type:"button",variant:"outline",onClick:()=>{var g;return(g=document.getElementById("file-input"))==null?void 0:g.click()},className:"w-full",children:[i.jsx(Vl,{className:"h-4 w-4 mr-2"})," "]})]})})]}),i.jsxs(J,{type:"submit",className:"w-full mf-button-primary",disabled:n||u,children:[i.jsx(Sm,{className:"h-4 w-4 mr-2"}),n||u?" ...":" "]})]})})]})]})]})]})})}const np=[{id:"free",name:"",price:0,period:"",description:"  ",features:[" 5  ","  ","PDF "," "],icon:hS,color:"text-muted-foreground",bgColor:"bg-secondary"},{id:"premium",name:"",price:29e3,period:"",description:"    ",features:[" 50  ","  ","  ","  ","  "," "],icon:_x,color:"text-yellow-500",bgColor:"bg-yellow-500/10",popular:!0},{id:"enterprise",name:"",price:99e3,period:"",description:"    ",features:["  "," ","  ","  ","API "," "," "," "],icon:v3,color:"text-green-600",bgColor:"bg-green-600/10"}],xo={plan:"free",used:3,limit:5,renewDate:"2024-02-15"};function L9(){const[e,t]=p.useState(""),n=Qt(),{user:r}=gn(),s=async l=>{var c;if(!r){F.error("    ."),n("/auth");return}if(l==="enterprise"){n("/support?tab=inquiry");return}t(l);try{await new Promise(u=>setTimeout(u,2e3)),F.success(`${(c=np.find(u=>u.id===l))==null?void 0:c.name}  .`)}catch{F.error("    .")}finally{t("")}},o=np.find(l=>l.id===xo.plan),a=xo.used/xo.limit*100;return i.jsx(In,{children:i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"  "}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"   "})]}),r&&i.jsxs(je,{className:"mf-card",children:[i.jsx(Ie,{children:i.jsxs(De,{className:"flex items-center gap-2",children:[i.jsx(Vw,{className:"h-5 w-5"})," "]})}),i.jsx(Ne,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:" "}),i.jsxs("div",{className:"flex items-center gap-2",children:[o&&i.jsx(o.icon,{className:`h-5 w-5 ${o.color}`}),i.jsx("span",{className:"text-lg font-semibold",children:o==null?void 0:o.name})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"  "}),i.jsxs("span",{className:"text-sm font-medium",children:[xo.used," / ",xo.limit]})]}),i.jsx(qo,{value:a,className:"h-2"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:""}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(uc,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{className:"text-sm",children:xo.renewDate})]})]})]})})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:np.map(l=>{const c=l.icon,u=r&&l.id===xo.plan;return i.jsxs(je,{className:`mf-card relative ${l.popular?"mf-mango-border scale-105":""}`,children:[l.popular&&i.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:i.jsx(Le,{className:"mf-mango-badge",children:""})}),i.jsxs(Ie,{className:"text-center",children:[i.jsx("div",{className:`w-12 h-12 ${l.bgColor} rounded-xl flex items-center justify-center mx-auto mb-2`,children:i.jsx(c,{className:`h-6 w-6 ${l.color}`})}),i.jsx(De,{className:"text-xl",children:l.name}),i.jsx(rt,{children:l.description}),i.jsxs("div",{className:"pt-2",children:[i.jsx("span",{className:"text-3xl font-bold",children:l.price===0?"":`${l.price.toLocaleString()}`}),l.price>0&&i.jsxs("span",{className:"text-muted-foreground",children:["/",l.period]})]})]}),i.jsxs(Ne,{className:"space-y-4",children:[i.jsx("ul",{className:"space-y-2",children:l.features.map((d,f)=>i.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[i.jsx(dc,{className:"h-4 w-4 text-success"}),d]},f))}),i.jsx(J,{className:`w-full ${u?"mf-button-primary":l.popular?"mf-mango-button":"mf-button-primary"}`,disabled:u||e===l.id,onClick:()=>!u&&s(l.id),children:e===l.id?" ...":u?" ":l.id==="enterprise"?i.jsxs(i.Fragment,{children:["",i.jsx(us,{className:"h-4 w-4 ml-1"})]}):i.jsxs(i.Fragment,{children:["",i.jsx(us,{className:"h-4 w-4 ml-1"})]})})]})]},l.id)})}),r&&i.jsxs(je,{className:"mf-card",children:[i.jsxs(Ie,{children:[i.jsx(De,{children:" "}),i.jsx(rt,{children:"   "})]}),i.jsx(Ne,{children:i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Vw,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4 opacity-50"}),i.jsx("p",{className:"text-muted-foreground",children:"  "})]})})]})]})})}const $9=()=>{var h,m,x,g,_;console.log("ShareResult component loaded!");const{id:e}=Qd();console.log("ShareResult - ID from params:",e);const[t,n]=p.useState(null),[r,s]=p.useState(!0),[o,a]=p.useState(!1),[l,c]=p.useState(null);p.useEffect(()=>{e&&u()},[e]);const u=async()=>{var y;if(!e){console.log(" No ID provided");return}try{console.log(" Starting fetchSharedGeneration for ID:",e),console.log(" Parsed ID:",parseInt(e)),s(!0),console.log(" Step 1: Checking if record exists without can_share filter...");const{data:v,error:w}=await q.from("generation_responses").select("generation_response_id, can_share").eq("generation_response_id",parseInt(e)).maybeSingle();if(console.log(" Check result:",{checkData:v,checkError:w}),w&&console.error(" Error checking record:",w),!v){console.log(" Record does not exist at all for ID:",e),a(!0);return}if(console.log(" Record exists. can_share value:",v.can_share),!v.can_share){console.log(" Record exists but can_share is false"),a(!0);return}console.log(" Step 2: Fetching full data with can_share=true filter...");const{data:b,error:N}=await q.from("generation_responses").select(`
          generation_response_id,
          generation_name,
          generation_status_type_id,
          created_at,
          output_path,
          version_no,
          can_share,
          generation_attrs (
            course_type_id,
            difficulty_id,
            expected_duration_min,
            course_types (course_type_name),
            difficulties (difficulty_name),
            raw_generation_formats (generation_format_name)
          ),
          generation_status_types (generation_status_type_name)
        `).eq("generation_response_id",parseInt(e)).eq("can_share",!0).maybeSingle();if(console.log(" Full query result:",{generationData:b,error:N}),N){console.error(" Error fetching shared generation:",N),a(!0);return}if(!b){console.log(" No data returned from full query"),a(!0);return}if(n(b),console.log("ShareResult - Generation data:",b),console.log("ShareResult - Status:",(y=b.generation_status_types)==null?void 0:y.generation_status_type_name),console.log("ShareResult - Output path:",b.output_path),b.output_path&&b.generation_status_type_id===4){console.log("ShareResult - Redirecting to viewer...");try{const R=await(await fetch(`https://${wm.projectId}.supabase.co/functions/v1/secure-download`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filePath:b.output_path,fileType:"generation",generationId:b.generation_response_id})})).json();if(R.success&&R.downloadUrl){const E=R.downloadUrl.match(/https:\/\/([^.]+)\.s3\.([^.]+)\.amazonaws\.com/);if(E){const T=E[1],D=E[2],O=`https://${T}.s3.${D}.amazonaws.com/${b.output_path}`,z=`${window.location.origin}/viewer.html?s3Url=${encodeURIComponent(O)}`;console.log("ShareResult - Viewer URL:",z),window.location.href=z;return}}}catch(C){console.error("Error getting S3 config:",C)}const j=`${window.location.origin}/viewer.html?outputPath=${encodeURIComponent(b.output_path)}`;console.log("ShareResult - Viewer URL (fallback):",j),window.location.href=j;return}else console.log("ShareResult - Not redirecting. Reasons:",{hasOutputPath:!!b.output_path,statusId:b.generation_status_type_id,isCompleted:b.generation_status_type_id===4})}catch(v){console.error("Error in fetchSharedGeneration:",v),a(!0)}finally{s(!1)}},d=()=>{var v;return(v=t==null?void 0:t.generation_status_types)!=null&&v.generation_status_type_name?t.generation_status_types.generation_status_type_name:{1:" ",2:" ",3:" ",4:" "}[(t==null?void 0:t.generation_status_type_id)||0]||"Unknown"},f=()=>{const y=d().toLowerCase();return y.includes("")||y==="completed"?"default":y.includes("")||y.includes("failed")||y==="error"?"destructive":"secondary"};return r?i.jsx("div",{className:"container mx-auto p-6",children:i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):o||!t?i.jsx("div",{className:"container mx-auto p-6",children:i.jsx(je,{children:i.jsxs(Ne,{className:"text-center py-12",children:[i.jsx(uS,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),i.jsx("h2",{className:"text-xl font-semibold mb-2",children:"   "}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"     ."})]})})}):i.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("h1",{className:"text-2xl font-bold",children:" "}),i.jsx("p",{className:"text-muted-foreground",children:"    ."})]}),i.jsx(je,{children:i.jsx(Ie,{children:i.jsx(Ne,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("h2",{className:"text-xl font-bold",children:t.generation_name||"Unnamed Generation"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Le,{variant:"outline",children:["V",t.version_no]}),i.jsx(Le,{variant:f(),children:d()})]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[": ",Sa(t.created_at)]})]}),l&&i.jsx("div",{className:"flex gap-2",children:i.jsxs("a",{href:l,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors",children:[i.jsx(cS,{className:"w-4 h-4"}),"  "]})})]})})})}),l&&d().toLowerCase().includes("")&&i.jsxs(je,{children:[i.jsx(Ie,{children:i.jsx(De,{children:" "})}),i.jsx(Ne,{children:i.jsx("div",{className:"relative w-full",style:{height:"800px"},children:i.jsx("iframe",{src:l,className:"w-full h-full border rounded-md",title:"Shared Document",loading:"lazy"})})})]}),i.jsxs(je,{children:[i.jsx(Ie,{children:i.jsx(De,{children:" "})}),i.jsx(Ne,{className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:""}),i.jsx("p",{className:"text-foreground",children:((m=(h=t.generation_attrs)==null?void 0:h.course_types)==null?void 0:m.course_type_name)||"N/A"})]}),((x=t.generation_attrs)==null?void 0:x.difficulties)&&i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:""}),i.jsx("p",{className:"text-foreground",children:t.generation_attrs.difficulties.difficulty_name})]}),((g=t.generation_attrs)==null?void 0:g.expected_duration_min)&&i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"  "}),i.jsxs("p",{className:"text-foreground",children:[t.generation_attrs.expected_duration_min,""]})]}),((_=t.generation_attrs)==null?void 0:_.raw_generation_formats)&&i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:" "}),i.jsx("p",{className:"text-foreground",children:t.generation_attrs.raw_generation_formats.generation_format_name})]})]})})]}),i.jsx(je,{className:"bg-muted/50",children:i.jsx(Ne,{className:"text-center py-6",children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"      ."})})})]})},F9=()=>i.jsx(hx,{to:"/gallery/generation_formats",replace:!0});var xy="Popover",[J2,iV]=An(xy,[io]),_c=io(),[z9,ho]=J2(xy),Z2=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:a=!1}=e,l=_c(t),c=p.useRef(null),[u,d]=p.useState(!1),[f=!1,h]=Rn({prop:r,defaultProp:s,onChange:o});return i.jsx($d,{...l,children:i.jsx(z9,{scope:t,contentId:En(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:p.useCallback(()=>d(!0),[]),onCustomAnchorRemove:p.useCallback(()=>d(!1),[]),modal:a,children:n})})};Z2.displayName=xy;var eE="PopoverAnchor",U9=p.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=ho(eE,n),o=_c(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:l}=s;return p.useEffect(()=>(a(),()=>l()),[a,l]),i.jsx(rc,{...o,...r,ref:t})});U9.displayName=eE;var tE="PopoverTrigger",nE=p.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=ho(tE,n),o=_c(n),a=$e(t,s.triggerRef),l=i.jsx(be.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":aE(s.open),...r,ref:a,onClick:ae(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:i.jsx(rc,{asChild:!0,...o,children:l})});nE.displayName=tE;var yy="PopoverPortal",[B9,H9]=J2(yy,{forceMount:void 0}),rE=e=>{const{__scopePopover:t,forceMount:n,children:r,container:s}=e,o=ho(yy,t);return i.jsx(B9,{scope:t,forceMount:n,children:i.jsx(Wt,{present:n||o.open,children:i.jsx(sc,{asChild:!0,container:s,children:r})})})};rE.displayName=yy;var pa="PopoverContent",sE=p.forwardRef((e,t)=>{const n=H9(pa,e.__scopePopover),{forceMount:r=n.forceMount,...s}=e,o=ho(pa,e.__scopePopover);return i.jsx(Wt,{present:r||o.open,children:o.modal?i.jsx(V9,{...s,ref:t}):i.jsx(W9,{...s,ref:t})})});sE.displayName=pa;var V9=p.forwardRef((e,t)=>{const n=ho(pa,e.__scopePopover),r=p.useRef(null),s=$e(t,r),o=p.useRef(!1);return p.useEffect(()=>{const a=r.current;if(a)return uf(a)},[]),i.jsx(hc,{as:Tn,allowPinchZoom:!0,children:i.jsx(oE,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ae(e.onCloseAutoFocus,a=>{var l;a.preventDefault(),o.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:ae(e.onPointerDownOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;o.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:ae(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),W9=p.forwardRef((e,t)=>{const n=ho(pa,e.__scopePopover),r=p.useRef(!1),s=p.useRef(!1);return i.jsx(oE,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,o),o.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),oE=p.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=ho(pa,n),m=_c(n);return lf(),i.jsx(fc,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:i.jsx(wa,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:i.jsx(Fd,{"data-state":aE(h.open),role:"dialog",id:h.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),iE="PopoverClose",q9=p.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=ho(iE,n);return i.jsx(be.button,{type:"button",...r,ref:t,onClick:ae(e.onClick,()=>s.onOpenChange(!1))})});q9.displayName=iE;var G9="PopoverArrow",K9=p.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=_c(n);return i.jsx(zd,{...s,...r,ref:t})});K9.displayName=G9;function aE(e){return e?"open":"closed"}var Y9=Z2,Q9=nE,X9=rE,lE=sE;const X0=Y9,J0=Q9,ng=p.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},s)=>i.jsx(X9,{children:i.jsx(lE,{ref:s,align:t,sideOffset:n,className:le("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));ng.displayName=lE.displayName;function cE({searchKeyword:e,onSearchChange:t,sortBy:n,onSortChange:r,selectedCourseTypes:s,onCourseTypesChange:o,selectedTags:a=[],onTagsChange:l,showTagFilter:c=!1,showOnlyLiked:u=!1,onShowOnlyLikedChange:d,courseTypes:f,tags:h=[]}){const m=(g,_)=>{o(_?[...s,g]:s.filter(y=>y!==g))},x=(g,_)=>{l&&l(_?[...a,g]:a.filter(y=>y!==g))};return i.jsxs("div",{className:"space-y-4 p-6 bg-card border-b",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Qo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),i.jsx(Te,{placeholder:" ...",value:e,onChange:g=>t(g.target.value),className:"pl-10"})]}),i.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[i.jsxs(Ao,{value:n,onValueChange:r,children:[i.jsxs(Ks,{className:"w-[140px]",children:[i.jsx(y3,{className:"h-4 w-4 mr-2"}),i.jsx(Mo,{placeholder:""})]}),i.jsxs(Ta,{children:[i.jsx(rs,{value:"latest",children:""}),i.jsx(rs,{value:"likes",children:""}),i.jsx(rs,{value:"downloads",children:""})]})]}),i.jsxs(X0,{children:[i.jsx(J0,{asChild:!0,children:i.jsxs(J,{variant:"outline",className:"gap-2",children:[i.jsx(bm,{className:"h-4 w-4"}),"",s.length>0&&i.jsx(Le,{variant:"secondary",className:"ml-1",children:s.length})]})}),i.jsx(ng,{className:"w-80",children:i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"font-medium",children:" "}),i.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:f.map(g=>i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(or,{id:g.id,checked:s.includes(g.id),onCheckedChange:_=>m(g.id,_)}),i.jsx("label",{htmlFor:g.id,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:g.name})]},g.id))})]})})]}),c&&i.jsxs(X0,{children:[i.jsx(J0,{asChild:!0,children:i.jsxs(J,{variant:"outline",className:"gap-2",children:[i.jsx(bm,{className:"h-4 w-4"}),"",a.length>0&&i.jsx(Le,{variant:"secondary",className:"ml-1",children:a.length})]})}),i.jsx(ng,{className:"w-80",children:i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"font-medium",children:" "}),i.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:h.map(g=>i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(or,{id:g.id,checked:a.includes(g.id),onCheckedChange:_=>x(g.id,_)}),i.jsx("label",{htmlFor:g.id,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:g.name})]},g.id))})]})})]}),c&&d&&i.jsxs("div",{className:"flex items-center space-x-2 ml-auto",children:[i.jsx(or,{id:"show-only-liked",checked:u,onCheckedChange:g=>d(g)}),i.jsxs("label",{htmlFor:"show-only-liked",className:"text-sm font-medium leading-none cursor-pointer flex items-center gap-1",children:[i.jsx(Ho,{className:`h-4 w-4 ${u?"fill-primary text-primary":""}`}),"  "]})]})]}),(s.length>0||a.length>0)&&i.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.map(g=>{const _=f.find(y=>y.id===g);return _?i.jsxs(Le,{variant:"secondary",className:"gap-1",children:[_.name,i.jsx("button",{onClick:()=>m(g,!1),className:"ml-1 hover:bg-secondary-foreground/20 rounded-sm",children:""})]},g):null}),a.map(g=>{const _=h.find(y=>y.id===g);return _?i.jsxs(Le,{variant:"outline",className:"gap-1",children:["#",_.name,i.jsx("button",{onClick:()=>x(g,!1),className:"ml-1 hover:bg-muted rounded-sm",children:""})]},g):null})]})]})}function J9({id:e,title:t,author:n,courseTypes:r,tags:s,canShare:o,likesCount:a,createdAt:l,isLiked:c,onLikeToggle:u,onCardClick:d,onShare:f}){const h=m=>Sa(m,"yyyy MM dd");return i.jsxs(je,{className:"group hover:shadow-md transition-all duration-200 cursor-pointer",onClick:()=>d(e),children:[i.jsxs(Ie,{className:"pb-3",children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsx("div",{className:"flex-1 min-w-0",children:i.jsx("h3",{className:"font-semibold text-base line-clamp-2 group-hover:text-primary transition-colors",children:t})}),o&&i.jsxs(Le,{variant:"secondary",className:"ml-2 shrink-0",children:[i.jsx(Hl,{className:"w-3 h-3 mr-1"}),""]})]}),i.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[i.jsxs(Nf,{className:"w-6 h-6",children:[i.jsx(kf,{src:n.avatar,alt:n.nickname}),i.jsx(Cf,{className:"text-xs",children:n.nickname.slice(0,1)})]}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:[n.nickname," "]}),n.isOwner&&i.jsx(_x,{className:"w-4 h-4 text-amber-500"})]})]}),i.jsxs(Ne,{className:"pt-0",children:[i.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:r.map((m,x)=>i.jsx(Le,{variant:"outline",className:"text-xs",children:m},x))}),s.length>0&&i.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[s.slice(0,3).map((m,x)=>i.jsxs(Le,{variant:"secondary",className:"text-xs",children:["#",m]},x)),s.length>3&&i.jsxs(Le,{variant:"secondary",className:"text-xs",children:["+",s.length-3]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Ho,{className:"w-4 h-4"}),a]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(uc,{className:"w-4 h-4"}),h(l)]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(J,{variant:"ghost",size:"sm",onClick:m=>{m.stopPropagation(),u(e)},className:c?"text-red-500 hover:text-red-600":"",children:i.jsx(Ho,{className:`w-4 h-4 ${c?"fill-current":""}`})}),i.jsx(J,{variant:"ghost",size:"sm",onClick:m=>{m.stopPropagation(),f(e)},children:i.jsx(Hl,{className:"w-4 h-4"})})]})]})]})]})}function uE({type:e,onAction:t,actionLabel:n}){const s=(()=>{switch(e){case"materials":return{icon:i.jsx(Bt,{className:"w-12 h-12 text-muted-foreground/50"}),title:"  ",description:"    .    !",showAction:!0};case"results":return{icon:i.jsx(Bt,{className:"w-12 h-12 text-muted-foreground/50"}),title:"  ",description:"    .   !",showAction:!1};case"search":return{icon:i.jsx(Qo,{className:"w-12 h-12 text-muted-foreground/50"}),title:"  ",description:"    .",showAction:!1};default:return{icon:i.jsx(Bt,{className:"w-12 h-12 text-muted-foreground/50"}),title:" ",description:"",showAction:!1}}})();return i.jsxs("div",{className:"flex flex-col items-center justify-center py-16 px-4 text-center",children:[s.icon,i.jsx("h3",{className:"mt-4 text-lg font-semibold text-foreground",children:s.title}),i.jsx("p",{className:"mt-2 text-sm text-muted-foreground max-w-md",children:s.description}),s.showAction&&t&&i.jsxs(J,{onClick:t,className:"mt-6 gap-2",children:[i.jsx(jx,{className:"w-4 h-4"}),n||" "]})]})}const Z9=()=>{const{user:e}=gn(),[t,n]=p.useState(""),[r,s]=p.useState("latest"),[o,a]=p.useState([]),[l,c]=p.useState([]),[u,d]=p.useState(!0),[f,h]=p.useState([]),[m,x]=p.useState([]),[g,_]=p.useState([]),[y,v]=p.useState(null),[w,b]=p.useState(!1),[N,j]=p.useState(!1);p.useEffect(()=>{C()},[]);const C=async()=>{await Promise.all([R(),E(),T()]),d(!1)},R=async()=>{try{const{data:P,error:I}=await q.from("raw_generation_formats").select(`
          *,
          raw_generation_format_course_type_map(
            course_types(course_type_name)
          ),
          raw_generation_format_tag_map(
            tags(tag_name)  
          )
        `).eq("can_share",!0).order("created_at",{ascending:!1});if(I)throw I;const S=[...new Set((P==null?void 0:P.map(ne=>ne.uploaded_user_id).filter(Boolean))||[])],{data:H}=await q.from("teacher_info").select("user_id, nickname, personal_photo_path").in("user_id",S),te=new Map((H==null?void 0:H.map(ne=>[ne.user_id,ne]))||[]),k=(P==null?void 0:P.map(ne=>ne.raw_generation_format_id))||[],{data:de}=await q.from("user_material_interactions").select("raw_generation_format_id").in("raw_generation_format_id",k).eq("interaction_type_id",2),{data:ve}=await q.from("raw_generation_format_likes").select("raw_generation_format_id, user_id").in("raw_generation_format_id",k),ce=new Map;de==null||de.forEach(ne=>{const xe=ce.get(ne.raw_generation_format_id)||0;ce.set(ne.raw_generation_format_id,xe+1)});const ue=new Map,Y=new Map;ve==null||ve.forEach(ne=>{const xe=ue.get(ne.raw_generation_format_id)||0;ue.set(ne.raw_generation_format_id,xe+1),e&&ne.user_id===e.id&&Y.set(ne.raw_generation_format_id,!0)});const Q=(P||[]).map(ne=>{var Re,Ye;const xe=ne.uploaded_user_id?te.get(ne.uploaded_user_id):null;return{raw_generation_format_id:ne.raw_generation_format_id,generation_format_name:ne.generation_format_name,generation_format_desc:ne.generation_format_desc,gallery_desc:ne.gallery_desc,likes_count:ue.get(ne.raw_generation_format_id)||0,downloads_count:ce.get(ne.raw_generation_format_id)||0,created_at:ne.created_at,can_share:ne.can_share,course_types:((Re=ne.raw_generation_format_course_type_map)==null?void 0:Re.map(Ke=>{var Je;return{course_type_name:((Je=Ke.course_types)==null?void 0:Je.course_type_name)||""}}))||[],tags:((Ye=ne.raw_generation_format_tag_map)==null?void 0:Ye.map(Ke=>{var Je;return{tag_name:((Je=Ke.tags)==null?void 0:Je.tag_name)||""}}))||[],uploader:{nickname:(xe==null?void 0:xe.nickname)||"",avatar:(xe==null?void 0:xe.personal_photo_path)||"",isOwner:!1},isLiked:Y.get(ne.raw_generation_format_id)||!1}});h(Q)}catch(P){console.error("Error fetching materials:",P),F.error("  ."),h([])}},E=async()=>{try{const{data:P,error:I}=await q.from("course_types").select("course_type_id, course_type_name").order("course_type_name");if(I)throw I;x((P||[]).map(S=>({id:S.course_type_id.toString(),name:S.course_type_name})))}catch(P){console.error("Error fetching course types:",P)}},T=async()=>{try{const{data:P,error:I}=await q.from("tags").select("tag_id, tag_name").order("tag_name");if(I)throw I;_((P||[]).map(S=>({id:S.tag_id.toString(),name:S.tag_name})))}catch(P){console.error("Error fetching tags:",P)}},D=async P=>{if(!e){F.error("   .");return}const I=f.find(S=>S.raw_generation_format_id===P);if(I)try{I.isLiked?await q.from("raw_generation_format_likes").delete().eq("raw_generation_format_id",P).eq("user_id",e.id):await q.from("raw_generation_format_likes").insert({raw_generation_format_id:P,user_id:e.id}),h(S=>S.map(H=>H.raw_generation_format_id===P?{...H,isLiked:!H.isLiked,likes_count:H.isLiked?H.likes_count-1:H.likes_count+1}:H))}catch(S){console.error("Error toggling like:",S),F.error("  .")}},O=P=>{v(P),b(!0)},z=()=>{b(!1),R()},W=async P=>{try{await navigator.clipboard.writeText(window.location.href),F.success("   .")}catch(I){console.error("Failed to copy to clipboard:",I),F.error("  .")}},A=()=>{console.log("Open add material modal")},M=f.filter(P=>{const I=P.generation_format_name.toLowerCase().includes(t.toLowerCase()),S=o.length===0||P.course_types.some(k=>{var de;return o.includes(((de=m.find(ve=>ve.name===k.course_type_name))==null?void 0:de.id)||"")}),H=l.length===0||P.tags.some(k=>{var de;return l.includes(((de=g.find(ve=>ve.name===k.tag_name))==null?void 0:de.id)||"")}),te=!N||P.isLiked;return I&&S&&H&&te}),G=()=>i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-6",children:Array.from({length:6}).map((P,I)=>i.jsxs("div",{className:"space-y-3",children:[i.jsx(er,{className:"h-4 w-3/4"}),i.jsx(er,{className:"h-4 w-1/2"}),i.jsx(er,{className:"h-20 w-full"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(er,{className:"h-6 w-16"}),i.jsx(er,{className:"h-6 w-16"})]})]},I))});return i.jsx(In,{children:i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs(ei,{value:"generation_formats",className:"w-full",children:[i.jsxs("div",{className:"border-b bg-card",children:[i.jsx("div",{className:"px-6 pt-6",children:i.jsxs(uo,{className:"grid w-full max-w-md grid-cols-2",children:[i.jsx(Vt,{value:"generation_formats",className:"gap-2",children:" "}),i.jsx(Vt,{value:"results",className:"gap-2",asChild:!0,children:i.jsx(px,{to:"/gallery/results",children:" "})})]})}),i.jsx(cE,{searchKeyword:t,onSearchChange:n,sortBy:r,onSortChange:s,selectedCourseTypes:o,onCourseTypesChange:a,selectedTags:l,onTagsChange:c,showTagFilter:!0,showOnlyLiked:N,onShowOnlyLikedChange:j,courseTypes:m,tags:g})]}),i.jsx(Gt,{value:"generation_formats",className:"mt-0",children:u?i.jsx(G,{}):M.length>0?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-6",children:M.map(P=>i.jsx(J9,{id:P.raw_generation_format_id.toString(),title:P.generation_format_name,author:P.uploader,courseTypes:P.course_types.map(I=>I.course_type_name),tags:P.tags.map(I=>I.tag_name),canShare:P.can_share,likesCount:P.likes_count,createdAt:P.created_at,isLiked:P.isLiked,onLikeToggle:I=>D(parseInt(I)),onCardClick:I=>O(parseInt(I)),onShare:I=>W()},P.raw_generation_format_id))}):i.jsx(uE,{type:t||o.length>0||l.length>0?"search":"materials",onAction:A,actionLabel:"  "})})]}),i.jsx("div",{className:"fixed bottom-6 right-6",children:i.jsxs(J,{onClick:A,size:"lg",className:"rounded-full shadow-lg gap-2",children:[i.jsx(jx,{className:"w-5 h-5"}),"  "]})})]}),i.jsx(N2,{isOpen:w,onClose:z,materialId:y})]})})};function eH({id:e,title:t,author:n,courseType:r,canShare:s,likesCount:o,downloadsCount:a,createdAt:l,status:c,isLiked:u,onLikeToggle:d,onCardClick:f,onDownload:h}){const m=g=>Sa(g,"yyyy MM dd"),x=g=>{switch(g.toLowerCase()){case"completed":case"":return"bg-green-500/10 text-green-700 border-green-200";case"processing":case"":return"bg-blue-500/10 text-blue-700 border-blue-200";case"failed":case"":return"bg-red-500/10 text-red-700 border-red-200";default:return"bg-gray-500/10 text-gray-700 border-gray-200"}};return i.jsxs(je,{className:"group hover:shadow-md transition-all duration-200 cursor-pointer",onClick:()=>f(e),children:[i.jsxs(Ie,{className:"pb-3",children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsx("div",{className:"flex-1 min-w-0",children:i.jsx("h3",{className:"font-semibold text-base line-clamp-2 group-hover:text-primary transition-colors",children:t})}),i.jsxs("div",{className:"flex items-center gap-2 ml-2 shrink-0",children:[s&&i.jsxs(Le,{variant:"secondary",children:[i.jsx(Hl,{className:"w-3 h-3 mr-1"}),""]}),i.jsxs(Le,{className:x(c),children:[i.jsx(lS,{className:"w-3 h-3 mr-1"}),c]})]})]}),i.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[i.jsxs(Nf,{className:"w-6 h-6",children:[i.jsx(kf,{src:n.avatar,alt:n.nickname}),i.jsx(Cf,{className:"text-xs",children:n.nickname.slice(0,1)})]}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:[n.nickname," "]}),n.isOwner&&i.jsx(_x,{className:"w-4 h-4 text-amber-500"})]})]}),i.jsxs(Ne,{className:"pt-0",children:[i.jsx("div",{className:"mb-3",children:i.jsx(Le,{variant:"outline",className:"text-xs",children:r})}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Ho,{className:"w-4 h-4"}),o]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(ts,{className:"w-4 h-4"}),a]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(uc,{className:"w-4 h-4"}),m(l)]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(J,{variant:"ghost",size:"sm",onClick:g=>{g.stopPropagation(),d(e)},className:u?"text-red-500 hover:text-red-600":"",children:i.jsx(Ho,{className:`w-4 h-4 ${u?"fill-current":""}`})}),i.jsx(J,{variant:"ghost",size:"sm",onClick:g=>{g.stopPropagation(),h(e)},children:i.jsx(ts,{className:"w-4 h-4"})})]})]})]})]})}const tH=()=>{const[e,t]=p.useState(""),[n,r]=p.useState("latest"),[s,o]=p.useState([]),[a,l]=p.useState(!0),[c,u]=p.useState([]),[d,f]=p.useState([]),{user:h}=gn(),m=Qt();p.useEffect(()=>{x(),g()},[]);const x=async()=>{try{const{data:E,error:T}=await q.from("course_types").select("course_type_id, course_type_name").order("course_type_name");if(T)throw T;f(E||[])}catch(E){console.error("Error fetching course types:",E)}},g=async()=>{try{l(!0),console.log(" Starting to fetch gallery results...");const{data:E,error:T}=await q.from("generation_responses").select(`
          generation_response_id,
          output_path,
          generation_status_type_id,
          generation_result_messages,
          generation_name,
          created_at,
          user_id,
          likes_count,
          can_share,
          generation_attrs!generation_responses_generation_attrs_id_fkey (
            course_material_id,
            course_materials!generation_attrs_course_material_id_fkey (
              raw_course_material_id,
              raw_course_materials!course_materials_raw_course_material_id_fkey (
                course_material_name,
                course_id,
                courses!course_id (
                  course_grade,
                  course_type_id,
                  course_types!course_type_id (
                    course_type_name
                  )
                )
              )
            )
          )
        `).eq("can_share",!0).eq("generation_status_type_id",4).order("created_at",{ascending:!1});if(console.log(" Generation responses query result:",{data:E,error:T}),T)throw T;if(!E||E.length===0){console.log(" No data found or empty result"),u([]),l(!1);return}console.log(" Found",E.length,"generation responses");const D=[...new Set(E.map(I=>I.user_id).filter(Boolean))];console.log(" Unique user IDs:",D);const{data:O,error:z}=await q.from("teacher_info").select("user_id, nickname, personal_photo_path").in("user_id",D);console.log(" Teacher info query result:",{teacherData:O,teacherError:z}),z&&console.error("Error fetching teacher info:",z);const W=new Map;(O||[]).forEach(I=>{W.set(I.user_id,I)}),console.log(" Teacher map:",W);const A=h?await _(E.map(I=>I.generation_response_id)):[],M=new Set(A);console.log(" User likes:",A);const G=await y(E.map(I=>I.generation_response_id));console.log(" Download counts:",G);const P=E.map(I=>{var te,k,de,ve,ce,ue,Y,Q;const S=W.get(I.user_id),H={id:I.generation_response_id.toString(),title:I.generation_name||((de=(k=(te=I.generation_attrs)==null?void 0:te.course_materials)==null?void 0:k.raw_course_materials)==null?void 0:de.course_material_name)||" ",author:{nickname:(S==null?void 0:S.nickname)||"",avatar:(S==null?void 0:S.personal_photo_path)||"",isOwner:(h==null?void 0:h.id)===I.user_id},courseType:((Q=(Y=(ue=(ce=(ve=I.generation_attrs)==null?void 0:ve.course_materials)==null?void 0:ce.raw_course_materials)==null?void 0:ue.courses)==null?void 0:Y.course_types)==null?void 0:Q.course_type_name)||"",canShare:I.can_share,likesCount:I.likes_count||0,downloadsCount:G[I.generation_response_id]||0,createdAt:I.created_at,status:v(I.generation_status_type_id),isLiked:M.has(I.generation_response_id),outputPath:I.output_path,generationResponseId:I.generation_response_id};return console.log(" Formatted item:",H),H});console.log(" Final formatted data:",P),u(P)}catch(E){console.error(" Error fetching gallery results:",E),F.error("     .")}finally{l(!1)}},_=async E=>{if(!h||E.length===0)return[];try{const{data:T,error:D}=await q.from("generation_response_likes").select("generation_response_id").eq("user_id",h.id).in("generation_response_id",E);if(D)throw D;return(T==null?void 0:T.map(O=>O.generation_response_id))||[]}catch(T){return console.error("Error fetching user likes:",T),[]}},y=async E=>{if(E.length===0)return{};try{const{data:T,error:D}=await q.from("generation_response_download_events").select("generation_response_id").in("generation_response_id",E);if(D)throw D;const O={};return T==null||T.forEach(z=>{O[z.generation_response_id]=(O[z.generation_response_id]||0)+1}),O}catch(T){return console.error("Error fetching download counts:",T),{}}},v=E=>{switch(E){case 1:return"";case 2:return"";case 3:return"";default:return"  "}},w=async E=>{if(!h){F.error(" .");return}const T=parseInt(E),D=c.find(O=>O.id===E);if(D)try{D.isLiked?(await q.from("generation_response_likes").delete().eq("user_id",h.id).eq("generation_response_id",T),await q.from("generation_responses").update({likes_count:Math.max(0,D.likesCount-1)}).eq("generation_response_id",T)):(await q.from("generation_response_likes").insert({user_id:h.id,generation_response_id:T}),await q.from("generation_responses").update({likes_count:D.likesCount+1}).eq("generation_response_id",T)),u(O=>O.map(z=>z.id===E?{...z,isLiked:!z.isLiked,likesCount:z.isLiked?z.likesCount-1:z.likesCount+1}:z))}catch(O){console.error("Error toggling like:",O),F.error("    .")}},b=E=>{m(`/generation/${E}`,{state:{from:"gallery"}})},N=async E=>{var D;const T=c.find(O=>O.id===E);if(!(T!=null&&T.outputPath)){F.error("  .");return}try{h&&await q.from("generation_response_download_events").insert({generation_response_id:T.generationResponseId,actor_user_id:h.id});const{data:O}=await q.auth.getSession(),z=(D=O==null?void 0:O.session)==null?void 0:D.access_token,{data:W,error:A}=await q.functions.invoke("secure-download",{body:{filePath:T.outputPath,fileType:"generation",generationId:T.generationResponseId},headers:z?{Authorization:`Bearer ${z}`}:void 0});if(A)throw console.error("Supabase function error:",A),A;if(W!=null&&W.success&&(W!=null&&W.downloadUrl)){const M=document.createElement("a");M.href=W.downloadUrl,M.download=W.filename||"generated-file",M.target="_blank",document.body.appendChild(M),M.click(),document.body.removeChild(M),u(G=>G.map(P=>P.id===E?{...P,downloadsCount:P.downloadsCount+1}:P)),F.success("  .")}else throw new Error((W==null?void 0:W.error)||" .")}catch(O){console.error("Download error:",O);const z=String((O==null?void 0:O.message)||"");/401/.test(z)?F.error(" .   ."):/403/.test(z)?F.error("  ."):/404/.test(z)?F.error("   ."):F.error(`    : ${z||"   "}`)}},C=[...c.filter(E=>{var O;const T=E.title.toLowerCase().includes(e.toLowerCase()),D=s.length===0||s.includes(((O=d.find(z=>z.course_type_name===E.courseType))==null?void 0:O.course_type_id.toString())||"");return T&&D})].sort((E,T)=>{switch(n){case"likes":return T.likesCount-E.likesCount;case"downloads":return T.downloadsCount-E.downloadsCount;case"latest":default:return new Date(T.createdAt).getTime()-new Date(E.createdAt).getTime()}}),R=()=>i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-6",children:Array.from({length:6}).map((E,T)=>i.jsxs("div",{className:"space-y-3",children:[i.jsx(er,{className:"h-4 w-3/4"}),i.jsx(er,{className:"h-4 w-1/2"}),i.jsx(er,{className:"h-20 w-full"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(er,{className:"h-6 w-16"}),i.jsx(er,{className:"h-6 w-16"})]})]},T))});return i.jsx(In,{children:i.jsx("div",{className:"min-h-screen bg-background",children:i.jsx("div",{className:"max-w-7xl mx-auto",children:i.jsxs(ei,{value:"results",className:"w-full",children:[i.jsxs("div",{className:"border-b bg-card",children:[i.jsx("div",{className:"px-6 pt-6",children:i.jsxs(uo,{className:"grid w-full max-w-md grid-cols-2",children:[i.jsx(Vt,{value:"generation_formats",className:"gap-2",asChild:!0,children:i.jsx(px,{to:"/gallery/generation_formats",children:" "})}),i.jsx(Vt,{value:"results",className:"gap-2",children:" "})]})}),i.jsx(cE,{searchKeyword:e,onSearchChange:t,sortBy:n,onSortChange:r,selectedCourseTypes:s,onCourseTypesChange:o,showTagFilter:!1,courseTypes:d.map(E=>({id:E.course_type_id.toString(),name:E.course_type_name}))})]}),i.jsx(Gt,{value:"results",className:"mt-0",children:a?i.jsx(R,{}):C.length>0?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-6",children:C.map(E=>i.jsx(eH,{id:E.id,title:E.title,author:E.author,courseType:E.courseType,canShare:E.canShare,likesCount:E.likesCount,downloadsCount:E.downloadsCount,createdAt:E.createdAt,status:E.status,isLiked:E.isLiked,onLikeToggle:w,onCardClick:b,onDownload:N},E.id))}):i.jsx(uE,{type:e||s.length>0?"search":"results"})})]})})})})},nH=()=>{const e=Yn();return p.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),i.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),i.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};function rH({onSuccess:e}){const[t,n]=p.useState(null),[r,s]=p.useState(!1),[o,a]=p.useState(0),l=u=>{var d;if(u.target.files&&u.target.files[0]){const f=u.target.files[0],h=[".pptx"],m=(d=f.name.toLowerCase().match(/\.(pptx)$/))==null?void 0:d[0];if(!m||!h.includes(m)){F.error("PPTX   ");return}n(f)}},c=async()=>{if(!t){F.error(" ");return}s(!0),a(0);try{const u=setInterval(()=>{a(m=>m>=90?m:m+3)},1e3),d=new FormData;d.append("file",t),d.append("file_type","pptx"),d.append("component_name","GeneratedComponent"),d.append("framework","react"),d.append("styling","tailwind"),d.append("typescript","true");const f=await fetch("http://127.0.0.1:8000/pdf-to-react/convert",{method:"POST",body:d});if(clearInterval(u),!f.ok)throw new Error("  ");const h=await f.json();console.log("=== API Response Data ==="),console.log("Full response:",h),a(100),F.success("  ."),setTimeout(()=>{e(h)},500)}catch(u){console.error("Upload error:",u),F.error("    "),a(0)}finally{s(!1)}};return i.jsxs(je,{children:[i.jsxs(Ie,{children:[i.jsx(De,{children:"PPTX  "}),i.jsx(rt,{children:"PPTX    "})]}),i.jsxs(Ne,{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(fe,{htmlFor:"file-upload",children:" "}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Te,{id:"file-upload",type:"file",accept:".pptx",onChange:l,disabled:r}),t&&i.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-muted rounded-md",children:[i.jsx(Bt,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm",children:t.name})]})]})]}),r&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(fe,{children:" ..."}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:[o,"%"]})]}),i.jsx(qo,{value:o})]}),i.jsx(J,{onClick:c,disabled:!t||r,className:"w-full gap-2",size:"lg",children:r?i.jsxs(i.Fragment,{children:[i.jsx(dS,{className:"w-4 h-4 animate-spin"})," ..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Vl,{className:"w-4 h-4"})," "]})}),i.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[i.jsx("p",{children:" PPTX    "}),i.jsx("p",{children:"   1-2    "})]})]})]})}function sH(){const e=t=>{console.log("Upload success:",t)};return i.jsx(In,{children:i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-light/10 via-background to-secondary/20",children:i.jsxs("div",{className:"container mx-auto max-w-7xl px-6 py-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold mb-2",children:"PPTX  "}),i.jsx("p",{className:"text-muted-foreground",children:"PPTX    "})]}),i.jsx("div",{className:"max-w-2xl mx-auto",children:i.jsx(rH,{onSuccess:e})})]})})})}function oH(){var h;const e=Qt(),n=((h=Yn().state)==null?void 0:h.uploadedFiles)||[],[r,s]=p.useState(0),[o,a]=p.useState(0),[l,c]=p.useState(!1),u=[{id:"analyze",label:"   ",icon:i.jsx(Bt,{className:"h-5 w-5"}),status:"processing"},{id:"structure",label:"  ",icon:i.jsx(Ww,{className:"h-5 w-5"}),status:"pending"},{id:"design",label:"  ",icon:i.jsx(M3,{className:"h-5 w-5"}),status:"pending"},{id:"content",label:" ",icon:i.jsx(_m,{className:"h-5 w-5"}),status:"pending"}],[d,f]=p.useState(u);return p.useEffect(()=>{const m=u.length,x=3e3,g=setInterval(()=>{s(y=>{const v=y+1;return v>=m?(clearInterval(g),c(!0),y):v})},x),_=setInterval(()=>{a(y=>{const v=100/(m*(x/100)),w=y+v;return w>=100?(clearInterval(_),100):w})},100);return()=>{clearInterval(g),clearInterval(_)}},[]),p.useEffect(()=>{f(m=>m.map((x,g)=>({...x,status:g<r?"complete":g===r?"processing":"pending"})))},[r]),l?i.jsxs("div",{className:"container mx-auto px-4 py-12 max-w-4xl",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-green-500/10 mb-4",children:i.jsx(Hw,{className:"h-8 w-8 text-green-500"})}),i.jsx("h1",{className:"text-4xl font-bold mb-2",children:"   !"}),i.jsx("p",{className:"text-lg text-muted-foreground",children:"AI       "})]}),i.jsxs(je,{className:"p-8 mb-6",children:[i.jsx("div",{className:"aspect-video bg-muted rounded-lg mb-4 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Ww,{className:"h-12 w-12 text-muted-foreground mx-auto mb-2"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"  "})]})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"font-semibold",children:" "}),i.jsxs("ul",{className:"space-y-1 text-sm text-muted-foreground",children:[i.jsx("li",{children:"    "}),i.jsx("li",{children:"   "}),i.jsx("li",{children:"  "}),i.jsx("li",{children:"  "})]})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[i.jsxs(J,{size:"lg",onClick:()=>e("/generate-v2/editor"),children:[" ",i.jsx(us,{className:"ml-2 h-5 w-5"})]}),i.jsx(J,{size:"lg",variant:"outline",children:""})]})]}):i.jsxs("div",{className:"container mx-auto px-4 py-12 max-w-4xl",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary/10 mb-4 animate-pulse",children:i.jsx(rn,{className:"h-8 w-8 text-primary"})}),i.jsx("h1",{className:"text-4xl font-bold mb-2",children:"AI    "}),i.jsx("p",{className:"text-lg text-muted-foreground",children:" .  !"})]}),i.jsx(je,{className:"p-8 mb-8",children:i.jsx("div",{className:"space-y-6",children:d.map((m,x)=>i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${m.status==="complete"?"bg-green-500/10 text-green-500":m.status==="processing"?"bg-primary/10 text-primary animate-pulse":"bg-muted text-muted-foreground"}`,children:m.status==="complete"?i.jsx(Hw,{className:"h-5 w-5"}):m.icon}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:`font-medium ${m.status==="processing"?"text-primary":""}`,children:m.label}),m.status==="processing"&&i.jsx("div",{className:"mt-2",children:i.jsx(qo,{value:r/u.length*100,className:"h-2"})})]})]},m.id))})}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"mb-4",children:i.jsx(qo,{value:o,className:"h-3"})}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[" : ",Math.round(o),"%"]})]}),n.length>0&&i.jsx("div",{className:"mt-8 p-4 bg-muted/50 rounded-lg",children:i.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.length,"   ..."]})})]})}function iH(){return i.jsx(In,{children:i.jsx(oH,{})})}function aH(){return i.jsx("div",{className:"h-screen",children:i.jsx(T2,{})})}const lH=O2,cH=fy;function uH({onSubmit:e}){var Ye,Ke,Je;const{user:t}=gn(),[n,r]=p.useState(null),[s,o]=p.useState(null),[a,l]=p.useState([]),[c,u]=p.useState(null),[d,f]=p.useState(""),[h,m]=p.useState([]),[x,g]=p.useState([]),[_,y]=p.useState([]),[v,w]=p.useState([]),[b,N]=p.useState([]),[j,C]=p.useState(2),[R,E]=p.useState(45),[T,D]=p.useState(""),[O,z]=p.useState([]),[W,A]=p.useState(null),[M,G]=p.useState([]),[P,I]=p.useState(!1),[S,H]=p.useState(!0),[te,k]=p.useState(!1);p.useEffect(()=>{t&&de()},[t]),p.useEffect(()=>{c&&ne()},[c]);const de=async()=>{try{H(!0),await Promise.all([ve(),ce(),ue(),Y(),Q()])}catch(Z){console.error("  :",Z),F.error("  ")}finally{H(!1)}},ve=async()=>{if(!t)return;const{data:Z,error:Se}=await q.from("teacher_info").select("teacher_info_id, class_info").eq("user_id",t.id).maybeSingle();if(Se){console.error("   :",Se);return}if(Z!=null&&Z.class_info){const L=Z.class_info;r({class_grade:L.class_grade,class_semester:L.class_semester}),o(Z.teacher_info_id)}},ce=async()=>{const{data:Z,error:Se}=await q.from("course_types").select("*").order("course_type_id");if(Se)throw Se;l(Z||[])},ue=async()=>{const{data:Z,error:Se}=await q.from("teaching_styles").select("*").order("teaching_style_id");if(Se)throw Se;m(Z||[])},Y=async()=>{const{data:Z,error:Se}=await q.from("cowork_types").select("*").order("cowork_type_id");if(Se)throw Se;y(Z||[])},Q=async()=>{const{data:Z,error:Se}=await q.from("difficulties").select("*").order("difficulty_id");if(Se)throw Se;N(Z||[])},ne=async()=>{if(!(!c||!t||!n||!s))try{const{data:Z,error:Se}=await q.from("teacher_course_type_course_material_publisher_map").select("course_material_publisher_id").eq("teacher_info_id",s).eq("course_type_id",c).maybeSingle();if(Se)throw Se;if(!Z){console.log("  "),z([]),F.error(`  ${d}   `);return}const L=Z.course_material_publisher_id,{data:K,error:oe}=await q.from("courses").select("course_id").eq("course_type_id",c).eq("course_grade",n.class_grade).eq("course_semester_id",n.class_semester).eq("course_material_publisher_id",L).limit(1).maybeSingle();if(oe)throw oe;if(!K){console.log("Course not found"),z([]);return}const{data:ye,error:Ae}=await q.from("raw_course_materials").select("raw_course_material_id").eq("course_id",K.course_id).maybeSingle();if(Ae)throw Ae;if(!ye){console.log("Raw course materials not found"),z([]);return}const{data:Me,error:ke}=await q.from("course_material_structure_only").select("course_structure").eq("raw_course_material_id",ye.raw_course_material_id).maybeSingle();if(ke)throw ke;if(Me!=null&&Me.course_structure){console.log("Loaded course structure:",Me.course_structure);const Ee=Me.course_structure.map($=>typeof $=="string"?JSON.parse($):$);console.log("Parsed course structure:",Ee),z(Ee)}else console.log("No course structure found"),z([])}catch(Z){console.error("Error loading course material scope:",Z),z([]),F.error("   .")}},xe=Z=>{M.includes(Z)?G(M.filter(Se=>Se!==Z)):G([...M,Z])},Re=()=>{if(!c){F.error(" ");return}const Z={course_type_id:c,course_type_name:d,teaching_style_ids:x,cowork_type_ids:v,course_material_scope:W!==null?{course_sections_index:W,course_weeks_indices:M}:null,difficulty_id:j,expected_duration_min:R,additional_message:"",description:T.trim()||null};e(Z)};return S?i.jsx(je,{children:i.jsx(Ne,{className:"py-12",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"  ..."})]})})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs(je,{children:[i.jsx(Ie,{children:i.jsx(De,{className:"text-xl",children:"  "})}),i.jsxs(Ne,{className:"space-y-6",children:[n&&i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(Ao,{value:(Ye=n.class_grade)==null?void 0:Ye.toString(),disabled:!0,children:i.jsx(Ks,{className:"h-14 text-base bg-muted/30",children:i.jsxs(Mo,{children:[n.class_grade,""]})})}),i.jsx(Ao,{value:(Ke=n.class_semester)==null?void 0:Ke.toString(),disabled:!0,children:i.jsx(Ks,{className:"h-14 text-base bg-muted/30",children:i.jsxs(Mo,{children:[n.class_semester,""]})})})]}),i.jsx("div",{className:"flex flex-wrap gap-3",children:a.map(Z=>i.jsx(J,{variant:c===Z.course_type_id?"default":"outline",size:"lg",onClick:()=>{u(Z.course_type_id),f(Z.course_type_name)},className:`h-16 px-8 text-base rounded-2xl ${c===Z.course_type_id?"bg-teal-400 hover:bg-teal-500 text-white":"bg-muted/50 hover:bg-muted"}`,children:Z.course_type_name},Z.course_type_id))})]})]}),c&&i.jsxs(je,{children:[i.jsx(Ie,{children:i.jsx(De,{className:"text-xl",children:"  "})}),i.jsx(Ne,{className:"space-y-6",children:O.length>0?i.jsxs(i.Fragment,{children:[i.jsxs(Ao,{value:W==null?void 0:W.toString(),onValueChange:Z=>{const Se=Number(Z);A(Se),G([]),I(!0)},children:[i.jsx(Ks,{className:"h-14 text-base",children:i.jsx(Mo,{placeholder:" ",children:W!==null&&O[W]&&`${W+1}: ${O[W].section_name||`${W+1}`}`})}),i.jsx(Ta,{children:O.map((Z,Se)=>i.jsxs(rs,{value:Se.toString(),children:[Se+1,": ",Z.section_name||`${Se+1}`]},Se))})]}),W!==null&&P&&((Je=O[W])==null?void 0:Je.section_weeks)&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(fe,{className:"text-base text-muted-foreground",children:"  (  )"}),i.jsx(J,{variant:"ghost",size:"sm",onClick:()=>{const Z=O[W].section_weeks.map((Se,L)=>L);G(Z)},className:"text-primary hover:text-primary",children:" "})]}),i.jsxs("div",{className:"relative pl-6",children:[i.jsx("div",{className:"absolute left-3 top-0 bottom-0 w-0.5 bg-teal-400"}),i.jsx("div",{className:"space-y-3",children:O[W].section_weeks.map((Z,Se)=>i.jsx("div",{className:"relative bg-white rounded-xl border-2 hover:border-teal-200 transition-all",children:i.jsxs("label",{htmlFor:`lesson-${Se}`,className:"flex items-center gap-4 p-4 cursor-pointer",children:[i.jsx("div",{className:"relative flex-shrink-0",children:i.jsx(or,{id:`lesson-${Se}`,checked:M.includes(Se),onCheckedChange:()=>xe(Se),className:`w-6 h-6 ${M.includes(Se)?"bg-teal-400 border-teal-400":"border-gray-300"}`})}),i.jsx("div",{className:"flex-1",children:Z.section_content_name?i.jsxs(i.Fragment,{children:[i.jsxs("span",{className:"font-semibold text-base",children:["[",Z.section_content_order,"]"]}),i.jsx("span",{className:"ml-2 text-base",children:Z.section_content_name}),Z.section_content_pages&&Z.section_content_pages.length>0&&i.jsxs("span",{className:"ml-2 text-sm text-muted-foreground",children:["(",Math.min(...Z.section_content_pages),"-",Math.max(...Z.section_content_pages),")"]})]}):i.jsxs("span",{className:"font-semibold text-base",children:["[",Se+1,"]"]})})]})},Se))})]})]})]}):i.jsx("div",{className:"text-sm text-muted-foreground py-2",children:c?"    .":"  ."})})]}),i.jsxs(je,{children:[i.jsxs(Ie,{children:[i.jsx(De,{className:"text-xl",children:"  "}),i.jsx(rt,{className:"text-base mt-2",children:"AI     "})]}),i.jsxs(Ne,{children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs(J,{size:"lg",className:"h-16 text-base rounded-xl bg-gradient-to-r from-orange-400 to-orange-500 hover:from-orange-500 hover:to-orange-600 text-white shadow-lg",onClick:()=>{F.success("AI   "),k(!1)},children:[i.jsx(rn,{className:"w-5 h-5 mr-2"}),"AI  "]}),i.jsxs(J,{size:"lg",variant:"outline",className:"h-16 text-base rounded-xl bg-muted/50 hover:bg-muted",onClick:()=>k(!te),children:[i.jsx(Nm,{className:"w-5 h-5 mr-2"})," "]})]}),i.jsx(lH,{open:te,onOpenChange:k,children:i.jsx(cH,{children:i.jsxs("div",{className:"mt-6 pt-6 border-t space-y-6",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx(fe,{className:"text-base font-medium",children:" "}),i.jsx(sr,{placeholder:"   ... ()",value:T,onChange:Z=>D(Z.target.value),className:"min-h-[100px] resize-none"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(fe,{className:"text-base font-medium",children:""}),i.jsx("div",{className:"flex gap-2",children:b.map(Z=>i.jsx(J,{variant:j===Z.difficulty_id?"default":"outline",size:"sm",onClick:()=>C(Z.difficulty_id),className:"flex-1",children:Z.difficulty_name},Z.difficulty_id))})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(fe,{className:"text-base font-medium",children:" "}),i.jsxs("span",{className:"text-base text-muted-foreground",children:[R,""]})]}),i.jsx(Vx,{value:[R],onValueChange:Z=>E(Z[0]),min:15,max:60,step:5,className:"w-full"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(fe,{className:"text-base font-medium",children:""}),i.jsx("div",{className:"space-y-2",children:h.map(Z=>i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(or,{id:`style-${Z.teaching_style_id}`,checked:x.includes(Z.teaching_style_id),onCheckedChange:Se=>{g(Se?[...x,Z.teaching_style_id]:x.filter(L=>L!==Z.teaching_style_id))}}),i.jsx(fe,{htmlFor:`style-${Z.teaching_style_id}`,className:"text-sm cursor-pointer",children:Z.teaching_style_name})]},Z.teaching_style_id))})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(fe,{className:"text-base font-medium",children:" "}),i.jsx("div",{className:"space-y-2",children:_.map(Z=>i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(or,{id:`cowork-${Z.cowork_type_id}`,checked:v.includes(Z.cowork_type_id),onCheckedChange:Se=>{w(Se?[...v,Z.cowork_type_id]:v.filter(L=>L!==Z.cowork_type_id))}}),i.jsx(fe,{htmlFor:`cowork-${Z.cowork_type_id}`,className:"text-sm cursor-pointer",children:Z.cowork_type_name})]},Z.cowork_type_id))})]})]})})})]})]}),i.jsx("div",{className:"flex justify-end",children:i.jsxs(J,{onClick:Re,size:"lg",className:"px-8 gap-2",disabled:!c,children:[" ",i.jsx(us,{className:"h-4 w-4"})]})})]})}function dH({onSelect:e,courseData:t}){const[n,r]=p.useState([]),[s,o]=p.useState([]),[a,l]=p.useState(null),[c,u]=p.useState(""),[d,f]=p.useState(!0);p.useEffect(()=>{h()},[t.course_type_id]),p.useEffect(()=>{if(c){const x=n.filter(g=>g.teaching_plan_name.toLowerCase().includes(c.toLowerCase())||g.teaching_plan_description&&g.teaching_plan_description.toLowerCase().includes(c.toLowerCase()));o(x)}else o(n)},[c,n]);const h=async()=>{try{f(!0);let x=q.from("teaching_plans").select("*").order("teaching_plan_id");const{data:g,error:_}=await x;if(_){console.error("  :",_),F.error("   "),r([]),o([]);return}r(g||[]),o(g||[])}catch(x){console.error("  :",x),F.error("   "),r([]),o([])}finally{f(!1)}},m=x=>{l(x.teaching_plan_id),e({plan_id:x.teaching_plan_id,plan_name:x.teaching_plan_name,plan_format:x.teaching_plan_format})};return d?i.jsx(je,{children:i.jsx(Ne,{className:"py-12",children:i.jsx("div",{className:"text-center",children:i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx(rn,{className:"w-5 h-5 text-primary animate-spin"}),i.jsx("p",{className:"text-muted-foreground",children:"   ..."})]})})})}):i.jsxs(je,{className:"animate-scale-in",children:[i.jsxs(Ie,{children:[i.jsxs(De,{className:"flex items-center gap-2",children:[i.jsx(Bt,{className:"w-5 h-5 text-primary"})," "]}),i.jsx(rt,{children:"   ."})]}),i.jsxs(Ne,{children:[i.jsx("div",{className:"mb-6",children:i.jsxs("div",{className:"relative",children:[i.jsx(Qo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(Te,{placeholder:" ...",value:c,onChange:x=>u(x.target.value),className:"pl-10"})]})}),s.length>0?i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsx("p",{className:"text-base text-muted-foreground",children:a?"1  ":" "})}),i.jsx("div",{className:"p-4 border border-border rounded-lg bg-muted/20",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(x=>{const g=a===x.teaching_plan_id;return i.jsxs(je,{className:`h-44 cursor-pointer transition-all hover:scale-[1.02] flex flex-col ${g?"ring-2 ring-primary bg-primary/10":"hover:shadow-md"}`,onClick:()=>m(x),children:[i.jsx(Ie,{className:"pb-3 flex-1",children:i.jsxs("div",{className:"flex items-start gap-3 h-full",children:[i.jsxs("div",{className:"relative flex-shrink-0",children:[i.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:i.jsx(Bt,{className:"w-5 h-5 text-primary"})}),g&&i.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-primary rounded-full flex items-center justify-center",children:i.jsx(es,{className:"w-3 h-3 text-primary-foreground"})})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx(De,{className:"text-base leading-tight line-clamp-2",title:x.teaching_plan_name,children:x.teaching_plan_name}),x.teaching_plan_description&&i.jsx(rt,{className:"text-sm mt-1 line-clamp-2",children:x.teaching_plan_description})]})]})}),i.jsx(Ne,{className:"pt-0",children:i.jsx(Le,{variant:"secondary",className:"text-sm",children:" "})})]},x.teaching_plan_id)})})})]}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Bt,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:c?"  .":"   ."})]})]})]})}function fH({responseId:e,onComplete:t}){const[n,r]=p.useState(0),[s,o]=p.useState("pending"),[a,l]=p.useState(!1);p.useEffect(()=>{const u=setInterval(()=>{r(f=>f>=95?95:f+1)},1e3),d=setInterval(async()=>{await c()},3e3);return()=>{clearInterval(u),clearInterval(d)}},[e]);const c=async()=>{try{const{data:u,error:d}=await q.from("generation_responses").select("generation_status").eq("generation_response_id",e).maybeSingle();if(d){console.error("  :",d);return}u&&(o(u.generation_status),u.generation_status==="completed"?(r(100),l(!0),F.success(" !"),setTimeout(()=>{t(e)},1e3)):u.generation_status==="failed"&&(F.error(" .  ."),r(0)))}catch(u){console.error("  :",u)}};return i.jsx(je,{className:"animate-scale-in",children:i.jsx(Ne,{className:"pt-8",children:i.jsxs("div",{className:"text-center space-y-6",children:[i.jsx("div",{className:"mx-auto w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center",children:i.jsx(rn,{className:"w-8 h-8 text-primary animate-spin"})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-xl font-semibold",children:"AI    "}),i.jsx("p",{className:"text-muted-foreground",children:" .        ."})]}),i.jsxs("div",{className:"w-full max-w-md mx-auto space-y-2",children:[i.jsx(qo,{value:n,className:"w-full"}),i.jsxs("p",{className:"text-base text-muted-foreground",children:[Math.round(n),"% "]})]}),a&&i.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-600",children:[i.jsx(es,{className:"w-5 h-5"}),i.jsx("span",{className:"font-medium",children:" !"})]}),i.jsx("p",{className:"text-base text-muted-foreground max-w-lg mx-auto",children:"*AI         "}),s==="processing"&&i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-pulse"}),i.jsx("span",{children:"   ..."})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-pulse",style:{animationDelay:"0.2s"}}),i.jsx("span",{children:"   ..."})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-pulse",style:{animationDelay:"0.4s"}}),i.jsx("span",{children:"   ..."})]})]})]})})})}function hH(){const{user:e}=gn(),t=Qt(),[n,r]=p.useState("course"),[s,o]=p.useState(null),[a,l]=p.useState(null),[c,u]=p.useState(null),d=()=>{switch(n){case"course":return 1;case"plan":return 2;case"generating":return 3;case"result":return 3;default:return 1}},f=g=>{o(g),r("plan")},h=g=>{l(g),m(g)},m=async g=>{if(!s){F.error("  ");return}r("generating");try{const{data:_,error:y}=await q.functions.invoke("request-generation-v2",{body:{user_id:e==null?void 0:e.id,course_data:s,teaching_plan_data:g}});if(y)throw y;if(_!=null&&_.generation_response_id)u(_.generation_response_id),F.success("AI  !");else throw new Error("   ")}catch(_){console.error("Generation error:",_),F.error("   "),r("plan")}},x=g=>{u(g),setTimeout(()=>{t(`/generation/${g}`)},1e3)};return i.jsx(In,{children:i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-light/10 via-background to-secondary/20",children:i.jsxs("div",{className:"container mx-auto max-w-5xl px-6 py-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h1",{className:"text-3xl font-bold",children:"AI    "}),i.jsxs(Le,{variant:"outline",children:[" ",d(),"/3"]})]}),i.jsx("div",{className:"flex items-center gap-4",children:[" "," ","AI "].map((g,_)=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-base font-medium transition-colors ${_<d()||_===d()-1?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}`,children:_+1}),i.jsx("span",{className:`text-base ${_<d()?"text-foreground font-medium":"text-muted-foreground"}`,children:g}),_<2&&i.jsx(us,{className:"w-4 h-4 text-muted-foreground mx-2"})]},g))})]}),n==="course"&&i.jsx(uH,{onSubmit:f}),n==="plan"&&s&&i.jsxs(i.Fragment,{children:[i.jsxs(je,{className:"mb-6 border-green-200 bg-green-50/50",children:[i.jsx(Ie,{children:i.jsx(De,{className:"text-lg",children:"  "})}),i.jsx(Ne,{children:i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx(Le,{variant:"default",children:s.course_type_name}),s.difficulty_id&&i.jsx(Le,{variant:"outline",children:" "}),s.expected_duration_min&&i.jsxs(Le,{variant:"outline",children:[s.expected_duration_min,""]})]})})]}),i.jsx(dH,{onSelect:h,courseData:s}),i.jsx("div",{className:"mt-6 flex justify-between",children:i.jsxs(J,{variant:"outline",onClick:()=>r("course"),children:[i.jsx(cc,{className:"mr-2 h-4 w-4"}),""]})})]}),n==="generating"&&c&&i.jsx(fH,{responseId:c,onComplete:x})]})})})}function pH({onEdit:e,onView:t,onSelect:n}){const{user:r}=gn(),[s,o]=p.useState([]),[a,l]=p.useState(!0),[c,u]=p.useState("");p.useEffect(()=>{r&&d()},[r]);const d=async()=>{try{l(!0),console.log("   ... (  )");const x=[{id:"1",title:"  1 -  ",description:"    ",created_at:new Date(Date.now()-2*24*60*60*1e3).toISOString(),total_pages:3,template_data:{metadata:{material_name:"  1 -  ",material_description:"    ",total_pages:3},components:[{code:`function Component({ data }) {
  return (
    <div style={{ width: '100%', height: '100%', backgroundColor: '#f0f9ff', padding: '40px', position: 'relative' }}>
      <div id="title_1" style={{ position: 'absolute', left: '50px', top: '50px', width: '700px', height: '100px', fontSize: '48px', fontWeight: 'bold', color: '#1e40af', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>
        {data.title_1}
      </div>
      <div id="subtitle_1" style={{ position: 'absolute', left: '50px', top: '180px', width: '700px', height: '60px', fontSize: '24px', color: '#3b82f6', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>
        {data.subtitle_1}
      </div>
    </div>
  );
}`,jsonData:{title_1:" ",subtitle_1:"1    "}},{code:`function Component({ data }) {
  return (
    <div style={{ width: '100%', height: '100%', backgroundColor: '#ffffff', padding: '40px', position: 'relative' }}>
      <div id="title_2" style={{ position: 'absolute', left: '50px', top: '30px', width: '700px', height: '80px', fontSize: '36px', fontWeight: 'bold', color: '#1e40af' }}>
        {data.title_2}
      </div>
      <div id="content_1" style={{ position: 'absolute', left: '50px', top: '130px', width: '700px', height: '300px', fontSize: '20px', color: '#374151', lineHeight: '1.8' }}>
        {data.content_1}
      </div>
    </div>
  );
}`,jsonData:{title_2:" ",content_1:`1 + 1 = 2
2 + 2 = 4
3 + 3 = 6`}},{code:`function Component({ data }) {
  return (
    <div style={{ width: '100%', height: '100%', backgroundColor: '#fef3c7', padding: '40px', position: 'relative' }}>
      <div id="title_3" style={{ position: 'absolute', left: '50px', top: '30px', width: '700px', height: '80px', fontSize: '36px', fontWeight: 'bold', color: '#92400e' }}>
        {data.title_3}
      </div>
      <div id="content_2" style={{ position: 'absolute', left: '50px', top: '130px', width: '700px', height: '300px', fontSize: '20px', color: '#78350f', lineHeight: '1.8' }}>
        {data.content_2}
      </div>
    </div>
  );
}`,jsonData:{title_3:" ",content_2:`5 - 1 = 4
4 - 2 = 2
6 - 3 = 3`}}]}},{id:"2",title:"  - ",description:"   ",created_at:new Date(Date.now()-5*24*60*60*1e3).toISOString(),total_pages:2,template_data:{metadata:{material_name:"  - ",material_description:"   ",total_pages:2},components:[{code:`function Component({ data }) {
  return (
    <div style={{ width: '100%', height: '100%', backgroundColor: '#f0fdf4', padding: '40px', position: 'relative' }}>
      <div id="main_title" style={{ position: 'absolute', left: '50px', top: '50px', width: '700px', height: '100px', fontSize: '48px', fontWeight: 'bold', color: '#065f46', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>
        {data.main_title}
      </div>
      <div id="description" style={{ position: 'absolute', left: '50px', top: '180px', width: '700px', height: '200px', fontSize: '24px', color: '#047857', padding: '20px' }}>
        {data.description}
      </div>
    </div>
  );
}`,jsonData:{main_title:"Present Continuous Tense",description:`I am studying English.
You are reading a book.
He is playing soccer.`}},{code:`function Component({ data }) {
  return (
    <div style={{ width: '100%', height: '100%', backgroundColor: '#ffffff', padding: '40px', position: 'relative' }}>
      <div id="section_title" style={{ position: 'absolute', left: '50px', top: '30px', width: '700px', height: '80px', fontSize: '36px', fontWeight: 'bold', color: '#065f46' }}>
        {data.section_title}
      </div>
      <div id="examples" style={{ position: 'absolute', left: '50px', top: '130px', width: '700px', height: '300px', fontSize: '20px', color: '#374151', lineHeight: '2' }}>
        {data.examples}
      </div>
    </div>
  );
}`,jsonData:{section_title:"Examples",examples:` She is eating lunch.
 They are watching TV.
 We are learning grammar.`}}]}},{id:"3",title:"  - ",description:"    ",created_at:new Date(Date.now()-7*24*60*60*1e3).toISOString(),total_pages:4,template_data:{metadata:{material_name:"  - ",material_description:"    ",total_pages:4},components:[{code:`function Component({ data }) {
  return (
    <div style={{ width: '100%', height: '100%', backgroundColor: '#ecfdf5', padding: '40px', position: 'relative' }}>
      <div id="header" style={{ position: 'absolute', left: '50px', top: '50px', width: '700px', height: '100px', fontSize: '48px', fontWeight: 'bold', color: '#065f46', display: 'flex', alignItems: 'center', justifyContent: 'center' }}>
        {data.header}
      </div>
    </div>
  );
}`,jsonData:{header:" (Photosynthesis)"}},{code:`function Component({ data }) {
  return (
    <div style={{ width: '100%', height: '100%', backgroundColor: '#ffffff', padding: '40px', position: 'relative' }}>
      <div id="topic" style={{ position: 'absolute', left: '50px', top: '30px', width: '700px', height: '80px', fontSize: '36px', fontWeight: 'bold', color: '#065f46' }}>
        {data.topic}
      </div>
      <div id="definition" style={{ position: 'absolute', left: '50px', top: '130px', width: '700px', height: '250px', fontSize: '22px', color: '#374151', lineHeight: '1.8' }}>
        {data.definition}
      </div>
    </div>
  );
}`,jsonData:{topic:"?",definition:`   
 
  `}},{code:`function Component({ data }) {
  return (
    <div style={{ width: '100%', height: '100%', backgroundColor: '#f0fdf4', padding: '40px', position: 'relative' }}>
      <div id="equation_title" style={{ position: 'absolute', left: '50px', top: '30px', width: '700px', height: '80px', fontSize: '36px', fontWeight: 'bold', color: '#065f46' }}>
        {data.equation_title}
      </div>
      <div id="equation" style={{ position: 'absolute', left: '50px', top: '150px', width: '700px', height: '100px', fontSize: '28px', color: '#047857', display: 'flex', alignItems: 'center', justifyContent: 'center', fontWeight: 'bold' }}>
        {data.equation}
      </div>
    </div>
  );
}`,jsonData:{equation_title:" ",equation:"6CO + 6HO  CHO + 6O"}},{code:`function Component({ data }) {
  return (
    <div style={{ width: '100%', height: '100%', backgroundColor: '#ffffff', padding: '40px', position: 'relative' }}>
      <div id="factors_title" style={{ position: 'absolute', left: '50px', top: '30px', width: '700px', height: '80px', fontSize: '36px', fontWeight: 'bold', color: '#065f46' }}>
        {data.factors_title}
      </div>
      <div id="factors_list" style={{ position: 'absolute', left: '50px', top: '130px', width: '700px', height: '300px', fontSize: '24px', color: '#374151', lineHeight: '2' }}>
        {data.factors_list}
      </div>
    </div>
  );
}`,jsonData:{factors_title:"  ",factors_list:`  
  
 
  `}}]}}];await new Promise(g=>setTimeout(g,500)),o(x)}catch(x){console.error("Failed to load teaching plans:",x),o([]),F.error("   ")}finally{l(!1)}},f=s.filter(x=>{var _;if(!c)return!0;const g=c.toLowerCase();return x.title.toLowerCase().includes(g)||((_=x.description)==null?void 0:_.toLowerCase().includes(g))}),h=x=>{if(!x.template_data){F.error("    ");return}e?e(x.template_data):n&&n(x.template_data)},m=x=>{if(!x.template_data){F.error("    ");return}t&&t(x.template_data)};return a?i.jsx(je,{children:i.jsx(Ne,{className:"py-12",children:i.jsxs("div",{className:"text-center",children:[i.jsx(dS,{className:"w-8 h-8 border-b-2 border-primary mx-auto mb-4 animate-spin"}),i.jsx("p",{className:"text-muted-foreground",children:"   ..."})]})})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs(je,{children:[i.jsxs(Ie,{children:[i.jsx(De,{children:" "}),i.jsx(rt,{children:"      "})]}),i.jsx(Ne,{children:i.jsxs("div",{className:"relative",children:[i.jsx(Qo,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),i.jsx(Te,{placeholder:"   ...",value:c,onChange:x=>u(x.target.value),className:"pl-10"})]})})]}),f.length===0?i.jsx(je,{children:i.jsx(Ne,{className:"py-12",children:i.jsxs("div",{className:"text-center text-muted-foreground",children:[i.jsx(Bt,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),c?i.jsx("p",{children:"  "}):i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{children:"   "}),i.jsx("p",{className:"text-sm",children:"  V2    "})]})]})})}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map(x=>i.jsxs(je,{className:"hover:shadow-md transition-shadow",children:[i.jsxs(Ie,{children:[i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsx(De,{className:"text-base line-clamp-2",children:x.title}),i.jsxs(Le,{variant:"outline",className:"shrink-0",children:[x.total_pages,""]})]}),x.description&&i.jsx(rt,{className:"line-clamp-2",children:x.description})]}),i.jsxs(Ne,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(uc,{className:"w-4 h-4"}),i.jsx("span",{children:new Date(x.created_at).toLocaleDateString("ko-KR")})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs(J,{onClick:()=>h(x),variant:"outline",size:"sm",children:[i.jsx(F3,{className:"w-4 h-4 mr-1"}),""]}),i.jsxs(J,{onClick:()=>m(x),variant:"default",size:"sm",className:"bg-primary hover:bg-primary/90",children:[i.jsx(gu,{className:"w-4 h-4 mr-1"}),""]})]})]})]},x.id))})]})}function mH(){const e=Qt(),t=r=>{console.log("Edit teaching plan:",r);const s=r.id||"new";e(`/teaching-plan-editor/${s}`,{state:{planData:r}})},n=r=>{console.log("View teaching plan:",r),e("/teaching-plan-viewer",{state:{planData:r}})};return i.jsx(In,{children:i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-light/10 via-background to-secondary/20",children:i.jsxs("div",{className:"container mx-auto max-w-7xl px-6 py-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold mb-2",children:" "}),i.jsx("p",{className:"text-muted-foreground",children:"      "})]}),i.jsx(pH,{onEdit:t,onView:n})]})})})}function gH(e,t){return p.useReducer((n,r)=>t[n][r]??n,e)}var vy="ScrollArea",[dE,aV]=An(vy),[xH,lr]=dE(vy),fE=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:o=600,...a}=e,[l,c]=p.useState(null),[u,d]=p.useState(null),[f,h]=p.useState(null),[m,x]=p.useState(null),[g,_]=p.useState(null),[y,v]=p.useState(0),[w,b]=p.useState(0),[N,j]=p.useState(!1),[C,R]=p.useState(!1),E=$e(t,D=>c(D)),T=Xo(s);return i.jsx(xH,{scope:n,type:r,dir:T,scrollHideDelay:o,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:x,scrollbarXEnabled:N,onScrollbarXEnabledChange:j,scrollbarY:g,onScrollbarYChange:_,scrollbarYEnabled:C,onScrollbarYEnabledChange:R,onCornerWidthChange:v,onCornerHeightChange:b,children:i.jsx(be.div,{dir:T,...a,ref:E,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});fE.displayName=vy;var hE="ScrollAreaViewport",pE=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,asChild:s,nonce:o,...a}=e,l=lr(hE,n),c=p.useRef(null),u=$e(t,c,l.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:o}),i.jsx(be.div,{"data-radix-scroll-area-viewport":"",...a,asChild:s,ref:u,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:CH({asChild:s,children:r},d=>i.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:d}))})]})});pE.displayName=hE;var Hr="ScrollAreaScrollbar",wy=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=lr(Hr,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:a}=s,l=e.orientation==="horizontal";return p.useEffect(()=>(l?o(!0):a(!0),()=>{l?o(!1):a(!1)}),[l,o,a]),s.type==="hover"?i.jsx(yH,{...r,ref:t,forceMount:n}):s.type==="scroll"?i.jsx(vH,{...r,ref:t,forceMount:n}):s.type==="auto"?i.jsx(mE,{...r,ref:t,forceMount:n}):s.type==="always"?i.jsx(_y,{...r,ref:t}):null});wy.displayName=Hr;var yH=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=lr(Hr,e.__scopeScrollArea),[o,a]=p.useState(!1);return p.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),a(!0)},d=()=>{c=window.setTimeout(()=>a(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),i.jsx(Wt,{present:n||o,children:i.jsx(mE,{"data-state":o?"visible":"hidden",...r,ref:t})})}),vH=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=lr(Hr,e.__scopeScrollArea),o=e.orientation==="horizontal",a=Df(()=>c("SCROLL_END"),100),[l,c]=gH("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),p.useEffect(()=>{const u=s.viewport,d=o?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const m=u[d];f!==m&&(c("SCROLL"),a()),f=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[s.viewport,o,c,a]),i.jsx(Wt,{present:n||l!=="hidden",children:i.jsx(_y,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:ae(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ae(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),mE=p.forwardRef((e,t)=>{const n=lr(Hr,e.__scopeScrollArea),{forceMount:r,...s}=e,[o,a]=p.useState(!1),l=e.orientation==="horizontal",c=Df(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;a(l?u:d)}},10);return ma(n.viewport,c),ma(n.content,c),i.jsx(Wt,{present:r||o,children:i.jsx(_y,{"data-state":o?"visible":"hidden",...s,ref:t})})}),_y=p.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=lr(Hr,e.__scopeScrollArea),o=p.useRef(null),a=p.useRef(0),[l,c]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=wE(l.viewport,l.content),d={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>o.current=h,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:h=>a.current=h};function f(h,m){return NH(h,a.current,l,m)}return n==="horizontal"?i.jsx(wH,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const h=s.viewport.scrollLeft,m=Z0(h,l,s.dir);o.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,s.dir))}}):n==="vertical"?i.jsx(_H,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const h=s.viewport.scrollTop,m=Z0(h,l);o.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null}),wH=p.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,o=lr(Hr,e.__scopeScrollArea),[a,l]=p.useState(),c=p.useRef(null),u=$e(t,c,o.onScrollbarXChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(xE,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Of(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(o.viewport){const h=o.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),bE(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&a&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:md(a.paddingLeft),paddingEnd:md(a.paddingRight)}})}})}),_H=p.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,o=lr(Hr,e.__scopeScrollArea),[a,l]=p.useState(),c=p.useRef(null),u=$e(t,c,o.onScrollbarYChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(xE,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Of(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(o.viewport){const h=o.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),bE(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&a&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:md(a.paddingTop),paddingEnd:md(a.paddingBottom)}})}})}),[bH,gE]=dE(Hr),xE=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:o,onThumbPointerUp:a,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,m=lr(Hr,n),[x,g]=p.useState(null),_=$e(t,E=>g(E)),y=p.useRef(null),v=p.useRef(""),w=m.viewport,b=r.content-r.viewport,N=It(d),j=It(c),C=Df(f,10);function R(E){if(y.current){const T=E.clientX-y.current.left,D=E.clientY-y.current.top;u({x:T,y:D})}}return p.useEffect(()=>{const E=T=>{const D=T.target;(x==null?void 0:x.contains(D))&&N(T,b)};return document.addEventListener("wheel",E,{passive:!1}),()=>document.removeEventListener("wheel",E,{passive:!1})},[w,x,b,N]),p.useEffect(j,[r,j]),ma(x,C),ma(m.content,C),i.jsx(bH,{scope:n,scrollbar:x,hasThumb:s,onThumbChange:It(o),onThumbPointerUp:It(a),onThumbPositionChange:j,onThumbPointerDown:It(l),children:i.jsx(be.div,{...h,ref:_,style:{position:"absolute",...h.style},onPointerDown:ae(e.onPointerDown,E=>{E.button===0&&(E.target.setPointerCapture(E.pointerId),y.current=x.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),R(E))}),onPointerMove:ae(e.onPointerMove,R),onPointerUp:ae(e.onPointerUp,E=>{const T=E.target;T.hasPointerCapture(E.pointerId)&&T.releasePointerCapture(E.pointerId),document.body.style.webkitUserSelect=v.current,m.viewport&&(m.viewport.style.scrollBehavior=""),y.current=null})})})}),pd="ScrollAreaThumb",yE=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=gE(pd,e.__scopeScrollArea);return i.jsx(Wt,{present:n||s.hasThumb,children:i.jsx(jH,{ref:t,...r})})}),jH=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,o=lr(pd,n),a=gE(pd,n),{onThumbPositionChange:l}=a,c=$e(t,f=>a.onThumbChange(f)),u=p.useRef(),d=Df(()=>{u.current&&(u.current(),u.current=void 0)},100);return p.useEffect(()=>{const f=o.viewport;if(f){const h=()=>{if(d(),!u.current){const m=kH(f,l);u.current=m,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[o.viewport,d,l]),i.jsx(be.div,{"data-state":a.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ae(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),x=f.clientX-m.left,g=f.clientY-m.top;a.onThumbPointerDown({x,y:g})}),onPointerUp:ae(e.onPointerUp,a.onThumbPointerUp)})});yE.displayName=pd;var by="ScrollAreaCorner",vE=p.forwardRef((e,t)=>{const n=lr(by,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?i.jsx(SH,{...e,ref:t}):null});vE.displayName=by;var SH=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=lr(by,n),[o,a]=p.useState(0),[l,c]=p.useState(0),u=!!(o&&l);return ma(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),ma(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),a(d)}),u?i.jsx(be.div,{...r,ref:t,style:{width:o,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function md(e){return e?parseInt(e,10):0}function wE(e,t){const n=e/t;return isNaN(n)?0:n}function Of(e){const t=wE(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function NH(e,t,n,r="ltr"){const s=Of(n),o=s/2,a=t||o,l=s-a,c=n.scrollbar.paddingStart+a,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return _E([c,u],f)(e)}function Z0(e,t,n="ltr"){const r=Of(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-s,a=t.content-t.viewport,l=o-r,c=n==="ltr"?[0,a]:[a*-1,0],u=Gl(e,c);return _E([0,a],[0,l])(u)}function _E(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function bE(e,t){return e>0&&e<t}var kH=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const o={left:e.scrollLeft,top:e.scrollTop},a=n.left!==o.left,l=n.top!==o.top;(a||l)&&t(),n=o,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function Df(e,t){const n=It(e),r=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),p.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function ma(e,t){const n=It(t);Lt(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}function CH(e,t){const{asChild:n,children:r}=e;if(!n)return typeof t=="function"?t(r):t;const s=p.Children.only(r);return p.cloneElement(s,{children:typeof t=="function"?t(s.props.children):t})}var jE=fE,EH=pE,PH=vE;const rg=p.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(jE,{ref:r,className:le("relative overflow-hidden",e),...n,children:[i.jsx(EH,{className:"h-full w-full rounded-[inherit]",children:t}),i.jsx(SE,{}),i.jsx(PH,{})]}));rg.displayName=jE.displayName;const SE=p.forwardRef(({className:e,orientation:t="vertical",...n},r)=>i.jsx(wy,{ref:r,orientation:t,className:le("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:i.jsx(yE,{className:"relative flex-1 rounded-full bg-border"})}));SE.displayName=wy.displayName;function TH(){var Se;Qd();const e=Qt(),n=(Se=Yn().state)==null?void 0:Se.planData,[r,s]=p.useState([{id:1,name:" 1",reactCode:"",jsonData:`{
  "shape_1": " ",
  "shape_5": " "
}`}]),[o,a]=p.useState(1),[l,c]=p.useState(""),[u,d]=p.useState(`{
  "shape_1": " ",
  "shape_5": " "
}`),[f,h]=p.useState(" "),[m,x]=p.useState(""),[g,_]=p.useState(!1),[y,v]=p.useState([]),[w,b]=p.useState(-1),N=p.useRef(!1);p.useEffect(()=>{if(n&&(console.log("Loading plan data:",n),n.metadata&&(h(n.metadata.material_name||" "),x(n.metadata.material_description||"")),n.components&&Array.isArray(n.components))){const L=n.components.map((K,oe)=>({id:oe+1,name:` ${oe+1}`,reactCode:K.code||"",jsonData:JSON.stringify(K.jsonData||{},null,2)}));s(L),L.length>0&&(a(L[0].id),c(L[0].reactCode),d(L[0].jsonData))}},[n]);const[j,C]=p.useState(null);p.useState(!0);const R=p.useRef(null);p.useState(new Map);const[E,T]=p.useState(null),D=p.useRef(null),[O,z]=p.useState([]),[W,A]=p.useState(!1),[M,G]=p.useState(!1),[P,I]=p.useState(!0),S=p.useRef(!1);p.useEffect(()=>{const L=r.find(K=>K.id===o);L&&(console.log("  :",o),console.log("   :",L.reactCode.length),console.log("  JSON:",L.jsonData),S.current=!0,c(L.reactCode),d(L.jsonData),C(null),T(null),setTimeout(()=>{S.current=!1,console.log("   ")},0))},[o]),p.useEffect(()=>{S.current||(console.log("  :",o),console.log("   :",l.length),console.log("  JSON:",u),s(L=>L.map(K=>K.id===o?{...K,reactCode:l,jsonData:u}:K)))},[l,u,o]);const H=()=>{const L=Math.max(...r.map(oe=>oe.id))+1,K={id:L,name:` ${L}`,reactCode:"",jsonData:`{
  "shape_1": " ",
  "shape_5": " "
}`};s(oe=>[...oe,K]),a(L),F.success("  ")},te=L=>{if(r.length===1){F.error("    ");return}if(s(K=>K.filter(oe=>oe.id!==L)),o===L){const K=r.filter(oe=>oe.id!==L);a(K[0].id)}F.success(" ")};p.useEffect(()=>{if(!S.current&&l&&!N.current){const L=setTimeout(()=>{const K={reactCode:l,jsonData:u,timestamp:Date.now()};v(oe=>{const ye=oe.slice(0,w+1);return ye.push(K),ye.length>50?(ye.shift(),b(49),ye):(b(ye.length-1),ye)})},500);return()=>clearTimeout(L)}},[l,u,w]);const k=()=>{if(w>0){N.current=!0;const L=y[w-1];c(L.reactCode),d(L.jsonData),b(w-1),setTimeout(()=>{N.current=!1},100),F.success(" ")}else F.error("    ")},de=()=>{if(w<y.length-1){N.current=!0;const L=y[w+1];c(L.reactCode),d(L.jsonData),b(w+1),setTimeout(()=>{N.current=!1},100),F.success(" ")}else F.error("    ")};p.useEffect(()=>{const L=K=>{(K.ctrlKey||K.metaKey)&&K.key==="z"&&!K.shiftKey&&(K.preventDefault(),k()),(K.ctrlKey||K.metaKey)&&K.key==="z"&&K.shiftKey&&(K.preventDefault(),de()),(K.ctrlKey||K.metaKey)&&K.key==="y"&&(K.preventDefault(),de())};return window.addEventListener("keydown",L),()=>window.removeEventListener("keydown",L)},[w,y]);const ve=re.useMemo(()=>{try{return JSON.parse(u)}catch{return{}}},[u]);p.useEffect(()=>{var V;if(!l.trim()||!R.current)return;const L=R.current,K=L.contentDocument||((V=L.contentWindow)==null?void 0:V.document);if(!K)return;let oe=l;oe=oe.replace(/import\s+.*?from\s+['"].*?['"];?\s*/g,"");let ye="GeneratedComponent";const Ae=oe.match(/export\s+default\s+function\s+(\w+)/);Ae&&(ye=Ae[1],oe=oe.replace(/export\s+default\s+/,""));const Me=oe.match(/export\s+default\s+(\w+);?/);Me&&(ye=Me[1],oe=oe.replace(/export\s+default\s+\w+;?\s*$/,""));const ke=oe.match(/function\s+(\w+)/);ke&&!Ae&&(ye=ke[1]);const Ee=oe.match(/const\s+(\w+)\s*=/);Ee&&!ke&&(ye=Ee[1]),console.log("Component name detected:",ye),console.log("Processed code length:",oe.length);const $=`
      <!DOCTYPE html>
      <html>
        <head>
          <meta charset="UTF-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <script src="https://cdn.tailwindcss.com"><\/script>
          <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"><\/script>
          <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"><\/script>
          <script src="https://unpkg.com/@babel/standalone/babel.min.js"><\/script>

          <style>
            * { margin: 0; padding: 0; box-sizing: border-box; }
            body { font-family: system-ui, -apple-system, sans-serif; overflow: auto; }
            .editable-element {
              cursor: move;
              transition: outline 0.2s;
            }
            .editable-element:hover {
              outline: 2px solid rgba(139, 195, 74, 0.5) !important;
              outline-offset: 2px;
            }
            .editable-element.selected {
              outline: 3px solid #8BC34A !important;
              outline-offset: 2px;
              z-index: 1000;
              position: relative;
            }
            .resize-handle {
              position: absolute;
              width: 10px;
              height: 10px;
              background: #8BC34A;
              border: 2px solid white;
              z-index: 1001;
            }
            .resize-handle.nw { top: -5px; left: -5px; cursor: nw-resize; }
            .resize-handle.ne { top: -5px; right: -5px; cursor: ne-resize; }
            .resize-handle.sw { bottom: -5px; left: -5px; cursor: sw-resize; }
            .resize-handle.se { bottom: -5px; right: -5px; cursor: se-resize; }
            .resize-handle.n { top: -5px; left: 50%; transform: translateX(-50%); cursor: n-resize; }
            .resize-handle.s { bottom: -5px; left: 50%; transform: translateX(-50%); cursor: s-resize; }
            .resize-handle.w { top: 50%; left: -5px; transform: translateY(-50%); cursor: w-resize; }
            .resize-handle.e { top: 50%; right: -5px; transform: translateY(-50%); cursor: e-resize; }
          </style>
        </head>
        <body>
          <div id="root"></div>
          <div id="error-display" style="display: none; padding: 20px; background: #ffeeee; color: #cc0000; font-family: monospace; white-space: pre-wrap; border: 2px solid #cc0000; margin: 20px;"></div>

          <script>
            window.onerror = function(msg, url, lineNo, columnNo, error) {
              const errorDiv = document.getElementById('error-display');
              errorDiv.style.display = 'block';
              errorDiv.textContent = 'Error: ' + msg + '\\nLine: ' + lineNo + '\\n\\n' + (error ? error.stack : '');
              console.error('Global error:', msg, error);
              return false;
            };
          <\/script>

          <script type="text/babel">
            const { useState, useEffect } = React;

            (function() {
              try {
                console.log('Starting render...');
                const data = ${JSON.stringify(ve)};
                console.log('Data loaded:', data);

                ${oe}

                console.log('Component loaded:', typeof ${ye});

                const rootElement = document.getElementById('root');
                console.log('Root element:', rootElement);

                const root = ReactDOM.createRoot(rootElement);
                root.render(React.createElement(${ye}, { data: data }));

                console.log('Render initiated');

                //    ID    
                setTimeout(() => {
                  console.log('Adding element IDs and drag functionality...');
                  const allDivs = document.querySelectorAll('div');
                  let elementIndex = 0;

                  allDivs.forEach((div) => {
                    if (div.id !== 'root' && div.id !== 'error-display') {
                      div.setAttribute('data-element-id', 'element-' + elementIndex);
                      div.classList.add('editable-element');
                      elementIndex++;

                      //  
                      div.addEventListener('click', (e) => {
                        e.stopPropagation();

                        document.querySelectorAll('.selected').forEach(el => {
                          el.classList.remove('selected');
                          el.querySelectorAll('.resize-handle').forEach(h => h.remove());
                        });

                        div.classList.add('selected');

                        const handles = ['nw', 'n', 'ne', 'w', 'e', 'sw', 's', 'se'];
                        handles.forEach(pos => {
                          const handle = document.createElement('div');
                          handle.className = \`resize-handle \${pos}\`;
                          handle.setAttribute('data-position', pos);
                          div.appendChild(handle);
                        });

                        window.parent.postMessage({
                          type: 'ELEMENT_SELECTED',
                          elementId: div.getAttribute('data-element-id')
                        }, '*');
                      });

                      //    
                      let isDragging = false;
                      let isResizing = false;
                      let resizeDirection = '';
                      let startX = 0;
                      let startY = 0;
                      let initialLeft = 0;
                      let initialTop = 0;
                      let initialWidth = 0;
                      let initialHeight = 0;

                      div.addEventListener('mousedown', (e) => {
                        const target = e.target;

                        if (target.classList.contains('resize-handle')) {
                          isResizing = true;
                          resizeDirection = target.getAttribute('data-position');

                          startX = e.clientX;
                          startY = e.clientY;

                          const style = window.getComputedStyle(div);
                          initialLeft = parseInt(style.left) || 0;
                          initialTop = parseInt(style.top) || 0;
                          initialWidth = parseInt(style.width) || 0;
                          initialHeight = parseInt(style.height) || 0;

                          e.preventDefault();
                          e.stopPropagation();
                          return;
                        }

                        if (!div.classList.contains('selected')) return;

                        isDragging = true;
                        startX = e.clientX;
                        startY = e.clientY;

                        const style = window.getComputedStyle(div);
                        initialLeft = parseInt(style.left) || 0;
                        initialTop = parseInt(style.top) || 0;

                        if (style.position === 'static' || style.position === 'relative') {
                          div.style.position = 'absolute';
                        }

                        e.preventDefault();
                        e.stopPropagation();
                      });

                      document.addEventListener('mousemove', (e) => {
                        const deltaX = e.clientX - startX;
                        const deltaY = e.clientY - startY;

                        if (isResizing) {
                          if (resizeDirection.includes('e')) {
                            div.style.width = (initialWidth + deltaX) + 'px';
                          }
                          if (resizeDirection.includes('w')) {
                            div.style.width = (initialWidth - deltaX) + 'px';
                            div.style.left = (initialLeft + deltaX) + 'px';
                          }
                          if (resizeDirection.includes('s')) {
                            div.style.height = (initialHeight + deltaY) + 'px';
                          }
                          if (resizeDirection.includes('n')) {
                            div.style.height = (initialHeight - deltaY) + 'px';
                            div.style.top = (initialTop + deltaY) + 'px';
                          }
                        } else if (isDragging) {
                          const newLeft = initialLeft + deltaX;
                          const newTop = initialTop + deltaY;

                          div.style.left = newLeft + 'px';
                          div.style.top = newTop + 'px';
                        }
                      });

                      document.addEventListener('mouseup', (e) => {
                        if (isDragging || isResizing) {
                          const style = window.getComputedStyle(div);

                          window.parent.postMessage({
                            type: isResizing ? 'ELEMENT_RESIZED' : 'ELEMENT_MOVED',
                            elementId: div.getAttribute('data-element-id'),
                            left: style.left,
                            top: style.top,
                            width: style.width,
                            height: style.height
                          }, '*');
                        }

                        isDragging = false;
                        isResizing = false;
                        resizeDirection = '';
                      });
                    }
                  });

                  console.log('Total editable elements:', elementIndex);
                }, 500);
              } catch (error) {
                console.error('Rendering error:', error);
                const errorDiv = document.getElementById('error-display');
                errorDiv.style.display = 'block';
                errorDiv.textContent = 'Rendering Error:\\n\\n' + error.message + '\\n\\nStack:\\n' + error.stack;
              }
            })();
          <\/script>
        </body>
      </html>
    `;K.open(),K.write($),K.close()},[l,ve]),p.useEffect(()=>{const L=K=>{if(K.data.type==="ELEMENT_SELECTED"){const oe=K.data.elementId;C(oe),setTimeout(()=>{var ye,Ae;if(R.current){const Me=R.current.contentDocument;if(!Me)return;const ke=Me.querySelector(`[data-element-id="${oe}"]`);if(!ke)return;const Ee=(Ae=(ye=ke.ownerDocument)==null?void 0:ye.defaultView)==null?void 0:Ae.getComputedStyle(ke);if(!Ee)return;const V=ke.tagName.toLowerCase()==="img"?ke.src:"",me={position:Ee.position,left:Ee.left,top:Ee.top,width:Ee.width,height:Ee.height,backgroundColor:Ee.backgroundColor,color:Ee.color,fontSize:Ee.fontSize,textAlign:Ee.textAlign,display:Ee.display||"block",alignItems:Ee.alignItems||"flex-start",justifyContent:Ee.justifyContent||"flex-start",textContent:ke.textContent||"",imageSrc:V};T(me),console.log("Auto-loaded element styles")}},50)}else if(K.data.type==="ELEMENT_MOVED"){const{elementId:oe,left:ye,top:Ae}=K.data;console.log("Element moved:",oe,"to",ye,Ae),E&&j===oe&&T({...E,left:ye,top:Ae}),ue(oe,ye,Ae)}else if(K.data.type==="ELEMENT_RESIZED"){const{elementId:oe,left:ye,top:Ae,width:Me,height:ke}=K.data;console.log("Element resized:",oe,Me,ke),E&&j===oe&&T({...E,left:ye,top:Ae,width:Me,height:ke}),Y(oe,ye,Ae,Me,ke)}};return window.addEventListener("message",L),()=>window.removeEventListener("message",L)},[E,j]);const ce=()=>{if(!j||!R.current)return null;const L=R.current.contentDocument;return L?L.querySelector(`[data-element-id="${j}"]`):null},ue=(L,K,oe)=>{const ye=parseInt(L.replace("element-",""));if(isNaN(ye))return;const Ae=l.split(`
`);let Me=0;for(let Ee=0;Ee<Ae.length;Ee++){const $=Ae[Ee];if($.includes("<div")&&!$.trim().startsWith("//")&&!$.trim().startsWith("/*")){if(Me===ye){const V=$.match(/style=\{\{([^}]*)\}\}/);if(V){let me=V[1].trim();const Ce={};me.split(",").map(dt=>dt.trim()).forEach(dt=>{const Ue=dt.match(/(\w+):\s*['"]([^'"]+)['"]/);Ue&&(Ce[Ue[1]]=Ue[2])}),Ce.left=K,Ce.top=oe;const et=Object.entries(Ce).map(([dt,Ue])=>`${dt}: '${Ue}'`).join(", ");Ae[Ee]=$.replace(/style=\{\{[^}]*\}\}/,`style={{ ${et} }}`)}break}Me++}}const ke=Ae.join(`
`);c(ke)},Y=(L,K,oe,ye,Ae)=>{const Me=parseInt(L.replace("element-",""));if(isNaN(Me))return;const ke=l.split(`
`);let Ee=0;for(let V=0;V<ke.length;V++){const me=ke[V];if(me.includes("<div")&&!me.trim().startsWith("//")&&!me.trim().startsWith("/*")){if(Ee===Me){const Ce=me.match(/style=\{\{([^}]*)\}\}/);if(Ce){let qe=Ce[1].trim();const et={};qe.split(",").map(At=>At.trim()).forEach(At=>{const vt=At.match(/(\w+):\s*['"]([^'"]+)['"]/);vt&&(et[vt[1]]=vt[2])}),et.left=K,et.top=oe,et.width=ye,et.height=Ae;const Ue=Object.entries(et).map(([At,vt])=>`${At}: '${vt}'`).join(", ");ke[V]=me.replace(/style=\{\{[^}]*\}\}/,`style={{ ${Ue} }}`)}break}Ee++}}const $=ke.join(`
`);c($)},Q=(L,K)=>{if(!E)return;T({...E,[L]:K});const oe=ce();oe&&(L==="textContent"?oe.textContent=K:L==="imageSrc"?oe.tagName.toLowerCase()==="img"&&(oe.src=K):(L==="left"||L==="top"||L==="width"||L==="height"||L==="backgroundColor"||L==="color"||L==="fontSize"||L==="textAlign"||L==="display"||L==="alignItems"||L==="justifyContent")&&(oe.style[L]=K))},ne=async()=>{try{G(!0),z(["https://images.unsplash.com/photo-1579546929518-9e396f3cc809?w=400","https://images.unsplash.com/photo-1557683316-973673baf926?w=400","https://images.unsplash.com/photo-1581287053822-fd7bf4f4bfec?w=400","https://images.unsplash.com/photo-1516802273409-68526ee1bdd6?w=400","https://images.unsplash.com/photo-1573865526739-10c1de0b3e90?w=400","https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=400"]),A(!0)}catch(L){console.error("Error loading images:",L),F.error("     .")}finally{G(!1)}},xe=L=>{E&&(Q("imageSrc",L),A(!1),F.success(" ."))},Re=async L=>{var oe;const K=(oe=L.target.files)==null?void 0:oe[0];if(!(!K||!j)){if(!K.type.startsWith("image/")){F.error("    .");return}try{const ye=new FileReader;ye.onload=Ae=>{var ke;const Me=(ke=Ae.target)==null?void 0:ke.result;E&&Q("imageSrc",Me),F.success(" .")},ye.readAsDataURL(K)}catch(ye){console.error("Image upload error:",ye),F.error("    .")}}},Ye=()=>{if(!E||!j){F.error("  ");return}if(!ce()){F.error("   ");return}try{Ke(j,E),setTimeout(()=>{F.success(" ")},100),T(null)}catch(K){console.error("Save error:",K),F.error("   ")}},Ke=(L,K)=>{var $;if(!L||!K)return;const oe=parseInt(L.replace("element-",""));if(isNaN(oe))return;const ye=l.split(`
`);let Ae=0,Me=!1,ke=null;for(let V=0;V<ye.length;V++){const me=ye[V],Ce=me.includes("<div")&&!me.trim().startsWith("//")&&!me.trim().startsWith("/*"),qe=me.includes("<img")&&!me.trim().startsWith("//")&&!me.trim().startsWith("/*");if(Ce||qe){if(Ae===oe){qe&&K.imageSrc&&(me.includes("src=")?ye[V]=me.replace(/src=['"]([^'"]*)['"]/g,`src="${K.imageSrc}"`):ye[V]=me.replace(/<img/,`<img src="${K.imageSrc}"`),Me=!0);const et=me.match(/style=\{\{([^}]*)\}\}/);if(et){let dt=et[1].trim();const Ue={};dt.split(",").map(tt=>tt.trim()).forEach(tt=>{const $t=tt.match(/(\w+):\s*['"]([^'"]+)['"]/);$t&&(Ue[$t[1]]=$t[2])}),Ue.left=K.left,Ue.top=K.top,Ue.width=K.width,Ue.height=K.height,Ue.backgroundColor=K.backgroundColor,Ue.color=K.color,Ue.fontSize=K.fontSize,Ue.textAlign=K.textAlign,Ue.display=K.display,Ue.alignItems=K.alignItems,Ue.justifyContent=K.justifyContent;const vt=Object.entries(Ue).map(([tt,$t])=>`${tt}: '${$t}'`).join(", ");ye[V]=me.replace(/style=\{\{[^}]*\}\}/,`style={{ ${vt} }}`),Me=!0}if(Ce){const dt=($=K.textContent)==null?void 0:$.trim();if(dt&&dt.length>0&&ye[V].includes("</div>")){const Ue=ye[V].match(/>(.*?)<\/div>/);if(Ue){const vt=Ue[1].trim().match(/\{data\.(\w+)\}/);vt?ke=vt[1]:ye[V]=ye[V].replace(/>[^<]*<\/div>/,`>${dt}</div>`)}}}break}Ae++}}const Ee=ye.join(`
`);if(Me&&c(Ee),ke&&K.textContent)try{const V=JSON.parse(u);V[ke]=K.textContent;const me=JSON.stringify(V,null,2);d(me)}catch(V){console.error("Failed to update JSON data:",V)}},Je=()=>{const L=ce();!L||!j||confirm("  ?")&&(L.remove(),Z(j),C(null),F.success(" "))},Z=L=>{const K=parseInt(L.replace("element-",""));if(isNaN(K))return;const oe=l.split(`
`);let ye=0,Ae=-1,Me=-1,ke=0;for(let Ee=0;Ee<oe.length;Ee++){const $=oe[Ee];if($.includes("<div")&&!$.trim().startsWith("//")&&!$.trim().startsWith("/*")){if(ye===K){if(Ae=Ee,Ee>0&&oe[Ee-1].trim().startsWith("{/*")&&(Ae=Ee-1),$.includes("</div>")||$.includes("/>")){Me=Ee;break}ke=1;for(let V=Ee+1;V<oe.length;V++)if(oe[V].includes("<div")&&ke++,oe[V].includes("</div>")&&(ke--,ke===0)){Me=V;break}break}ye++}}if(Ae!==-1&&Me!==-1){oe.splice(Ae,Me-Ae+1);const Ee=oe.join(`
`);c(Ee)}};return i.jsxs("div",{className:"h-screen flex flex-col bg-background",children:[i.jsxs("div",{className:"border-b border-border bg-card px-4 py-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs(J,{variant:"ghost",size:"sm",onClick:()=>e(-1),children:[i.jsx(cc,{className:"w-4 h-4 mr-2"}),""]}),i.jsx(Mr,{orientation:"vertical",className:"h-6"}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(J,{variant:"ghost",size:"sm",onClick:k,disabled:w<=0,title:" (Ctrl+Z)",className:"h-8 px-2",children:i.jsx(U3,{className:"w-4 h-4"})}),i.jsx(J,{variant:"ghost",size:"sm",onClick:de,disabled:w>=y.length-1,title:" (Ctrl+Shift+Z)",className:"h-8 px-2",children:i.jsx($3,{className:"w-4 h-4"})})]}),y.length>0&&i.jsxs("span",{className:"text-xs text-muted-foreground",children:[w+1," / ",y.length]})]}),i.jsxs(J,{size:"sm",className:"bg-primary hover:bg-primary/90",children:[i.jsx(sd,{className:"w-4 h-4 mr-2"}),""]})]}),i.jsx("div",{className:"flex items-start gap-4",children:i.jsxs("div",{className:"flex-1",children:[g?i.jsx(Te,{value:f,onChange:L=>h(L.target.value),onBlur:()=>_(!1),onKeyDown:L=>{L.key==="Enter"&&_(!1)},autoFocus:!0,className:"text-lg font-bold h-8 mb-1",placeholder:" "}):i.jsx("h1",{className:"text-lg font-bold cursor-pointer hover:text-primary transition-colors mb-1",onClick:()=>_(!0),children:f||"  "}),i.jsx(Te,{value:m,onChange:L=>x(L.target.value),placeholder:"  ",className:"text-sm h-7"})]})})]}),i.jsxs("div",{className:"flex-1 flex overflow-hidden relative",children:[i.jsx("div",{className:`border-r border-border bg-card flex flex-col transition-all duration-300 ${P?"w-96":"w-0"}`,style:{overflow:P?"visible":"hidden",opacity:P?1:0},children:i.jsxs(ei,{defaultValue:"slides",className:"h-full flex flex-col",children:[i.jsx("div",{className:"px-4 pt-4 pb-2 border-b border-border",children:i.jsxs(uo,{className:"grid w-full grid-cols-3",children:[i.jsxs(Vt,{value:"slides",children:[i.jsx(k3,{className:"w-4 h-4 mr-2"}),""]}),i.jsxs(Vt,{value:"code",children:[i.jsx(_m,{className:"w-4 h-4 mr-2"}),""]}),i.jsxs(Vt,{value:"data",children:[i.jsx(b3,{className:"w-4 h-4 mr-2"}),""]})]})}),i.jsx(Gt,{value:"slides",className:"flex-1 m-0 p-4 overflow-auto",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx(fe,{children:" "}),i.jsxs(J,{size:"sm",onClick:H,variant:"outline",children:[i.jsx(jx,{className:"w-4 h-4 mr-1"}),""]})]}),i.jsx("div",{className:"space-y-2",children:r.map(L=>i.jsxs("div",{className:`p-3 rounded-lg border cursor-pointer transition-colors ${o===L.id?"bg-primary/10 border-primary":"bg-card border-border hover:bg-muted"}`,onClick:()=>a(L.id),children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"text-sm font-medium",children:L.name}),r.length>1&&i.jsx(J,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",onClick:K=>{K.stopPropagation(),te(L.id)},children:i.jsx(od,{className:"w-3 h-3"})})]}),i.jsxs("div",{className:"flex gap-2 text-xs text-muted-foreground",children:[i.jsxs("span",{children:[": ",L.reactCode?`${L.reactCode.length}`:""]}),i.jsx("span",{children:""}),i.jsxs("span",{children:[": ",L.jsonData?`${L.jsonData.length}`:""]})]})]},L.id))})]})}),i.jsx(Gt,{value:"code",className:"flex-1 flex flex-col m-0 p-4",children:i.jsxs("div",{className:"flex-1 flex flex-col space-y-3",children:[i.jsx(fe,{children:"React "}),i.jsx(sr,{value:l,onChange:L=>c(L.target.value),placeholder:"React   ...",className:"flex-1 font-mono text-xs resize-none"})]})}),i.jsx(Gt,{value:"data",className:"flex-1 flex flex-col m-0 p-4",children:i.jsxs("div",{className:"flex-1 flex flex-col space-y-3",children:[i.jsx(fe,{children:"JSON "}),i.jsx(sr,{value:u,onChange:L=>d(L.target.value),className:"flex-1 font-mono text-xs resize-none",placeholder:'{"key": "value"}'})]})})]})}),i.jsx(J,{variant:"outline",size:"sm",onClick:()=>I(!P),className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 rounded-r-md rounded-l-none border-l-0 h-20 px-2",style:{left:P?"384px":"0px",transition:"left 0.3s ease"},children:P?i.jsx(wx,{className:"w-4 h-4"}):i.jsx(af,{className:"w-4 h-4"})}),i.jsx("div",{className:"flex-1 bg-muted/20 overflow-auto flex items-center justify-center p-8",children:i.jsx("div",{className:"bg-white rounded-lg shadow-2xl overflow-hidden",style:{width:"1280px",height:"720px",minWidth:"1280px",minHeight:"720px",maxWidth:"1280px",maxHeight:"720px"},children:l.trim()?i.jsx("iframe",{ref:R,className:"w-full h-full border-0",title:"rendered-content",sandbox:"allow-scripts allow-same-origin"}):i.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-muted-foreground",children:[i.jsx(_m,{className:"w-20 h-20 mb-4 opacity-20"}),i.jsx("p",{className:"text-lg font-semibold",children:" React  "}),i.jsx("p",{className:"text-sm mt-2",children:"1280720 (16:9)  "})]})})}),i.jsxs("div",{className:"border-l border-border bg-card flex flex-col relative",style:{width:"277px"},children:[i.jsx("div",{className:"p-4 border-b border-border",children:i.jsxs("h3",{className:"text-base font-semibold flex items-center gap-2",children:[i.jsx(Oh,{className:"w-5 h-5"})," "]})}),i.jsx(rg,{className:"flex-1",style:{paddingBottom:"140px"},children:i.jsx("div",{className:"p-4 space-y-6",children:j?i.jsx(i.Fragment,{children:E?i.jsxs(i.Fragment,{children:[E.imageSrc&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs(fe,{className:"flex items-center gap-2",children:[i.jsx(pu,{className:"w-4 h-4"}),""]}),i.jsx("div",{className:"border rounded-lg p-2 bg-muted/20",children:i.jsx("img",{src:E.imageSrc,alt:"",className:"w-full h-32 object-contain rounded"})}),i.jsxs("div",{children:[i.jsx(fe,{className:"text-xs text-muted-foreground mb-1",children:" URL"}),i.jsx(Te,{value:E.imageSrc,onChange:L=>Q("imageSrc",L.target.value),placeholder:"https://example.com/image.jpg",className:"font-mono text-xs"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs(J,{type:"button",variant:"outline",size:"sm",onClick:ne,disabled:M,children:[i.jsx(pu,{className:"w-4 h-4 mr-2"}),""]}),i.jsx("input",{ref:D,type:"file",accept:"image/*",onChange:Re,className:"hidden"}),i.jsxs(J,{type:"button",variant:"outline",size:"sm",onClick:()=>{var L;return(L=D.current)==null?void 0:L.click()},children:[i.jsx(Vl,{className:"w-4 h-4 mr-2"}),""]})]})]}),i.jsx(Mr,{})]}),E.textContent&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs(fe,{className:"flex items-center gap-2",children:[i.jsx(km,{className:"w-4 h-4"})," "]}),i.jsx(sr,{value:E.textContent,onChange:L=>Q("textContent",L.target.value),rows:3})]}),i.jsx(Mr,{}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(fe,{className:"flex items-center gap-2",children:[i.jsx(Oh,{className:"w-4 h-4"})," (px)"]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx(fe,{className:"text-xs text-muted-foreground",children:"Left (X)"}),i.jsx(Te,{type:"number",value:parseInt(E.left)||0,onChange:L=>Q("left",`${L.target.value}px`)})]}),i.jsxs("div",{children:[i.jsx(fe,{className:"text-xs text-muted-foreground",children:"Top (Y)"}),i.jsx(Te,{type:"number",value:parseInt(E.top)||0,onChange:L=>Q("top",`${L.target.value}px`)})]})]})]}),i.jsx(Mr,{}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(fe,{className:"flex items-center gap-2",children:[i.jsx(A3,{className:"w-4 h-4"})," (px)"]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx(fe,{className:"text-xs text-muted-foreground",children:"Width"}),i.jsx(Te,{type:"number",value:parseInt(E.width)||0,onChange:L=>Q("width",`${L.target.value}px`)})]}),i.jsxs("div",{children:[i.jsx(fe,{className:"text-xs text-muted-foreground",children:"Height"}),i.jsx(Te,{type:"number",value:parseInt(E.height)||0,onChange:L=>Q("height",`${L.target.value}px`)})]})]})]}),i.jsx(Mr,{}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(fe,{children:""}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{children:[i.jsx(fe,{className:"text-xs text-muted-foreground",children:""}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Te,{type:"color",value:e_(E.backgroundColor),onChange:L=>Q("backgroundColor",L.target.value),className:"w-20"}),i.jsx(Te,{value:E.backgroundColor,onChange:L=>Q("backgroundColor",L.target.value),className:"flex-1 font-mono text-xs"})]})]}),i.jsxs("div",{children:[i.jsx(fe,{className:"text-xs text-muted-foreground",children:""}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Te,{type:"color",value:e_(E.color),onChange:L=>Q("color",L.target.value),className:"w-20"}),i.jsx(Te,{value:E.color,onChange:L=>Q("color",L.target.value),className:"flex-1 font-mono text-xs"})]})]})]})]}),i.jsx(Mr,{}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(fe,{children:" "}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{children:[i.jsx(fe,{className:"text-xs text-muted-foreground",children:" "}),i.jsx(Te,{value:E.fontSize,onChange:L=>Q("fontSize",L.target.value)})]}),i.jsxs("div",{children:[i.jsx(fe,{className:"text-xs text-muted-foreground",children:" "}),i.jsxs("select",{value:E.textAlign,onChange:L=>Q("textAlign",L.target.value),className:"w-full h-9 px-3 rounded-md border border-input bg-background",children:[i.jsx("option",{value:"left",children:""}),i.jsx("option",{value:"center",children:""}),i.jsx("option",{value:"right",children:""})]})]})]})]})]}):i.jsx("div",{className:"text-center text-muted-foreground py-12",children:i.jsx("p",{className:"text-sm",children:"  ..."})})}):i.jsxs("div",{className:"text-center text-muted-foreground py-16",children:[i.jsx(Oh,{className:"w-16 h-16 mx-auto mb-4 opacity-20"}),i.jsx("p",{className:"text-sm font-medium",children:" "}),i.jsx("p",{className:"text-xs mt-1",children:"     "})]})})}),j&&E&&i.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-card border-t border-border p-4 space-y-3",children:[i.jsxs(J,{className:"w-full bg-primary hover:bg-primary/90",onClick:Ye,children:[i.jsx(sd,{className:"w-4 h-4 mr-2"})," "]}),i.jsxs(J,{variant:"destructive",className:"w-full",onClick:Je,children:[i.jsx(od,{className:"w-4 h-4 mr-2"})," "]})]})]})]}),i.jsx(Hi,{open:W,onOpenChange:A,children:i.jsxs(Oo,{className:"max-w-4xl max-h-[80vh]",children:[i.jsxs(fa,{children:[i.jsx(ha,{children:" "}),i.jsx(jf,{children:"  "})]}),i.jsx(rg,{className:"h-[60vh] pr-4",children:M?i.jsx("div",{className:"flex justify-center items-center py-20",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):O.length===0?i.jsxs("div",{className:"text-center py-20 text-muted-foreground",children:[i.jsx(pu,{className:"w-16 h-16 mx-auto mb-4 opacity-20"}),i.jsx("p",{children:"   ."})]}):i.jsx("div",{className:"grid grid-cols-3 gap-4",children:O.map((L,K)=>i.jsx("div",{className:"border rounded-lg p-2 cursor-pointer hover:border-primary hover:shadow-lg transition-all",onClick:()=>xe(L),children:i.jsx("img",{src:L,alt:` ${K+1}`,className:"w-full h-40 object-cover rounded"})},K))})})]})})]})}function e_(e){if(e.startsWith("#"))return e;const t=e.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);if(!t)return"#000000";const n=parseInt(t[1]),r=parseInt(t[2]),s=parseInt(t[3]);return"#"+[n,r,s].map(o=>{const a=o.toString(16);return a.length===1?"0"+a:a}).join("")}function RH(){var w,b;const e=Yn(),t=Qt(),n=(w=e.state)==null?void 0:w.planData,[r,s]=p.useState([]),[o,a]=p.useState(0),[l,c]=p.useState(""),[u,d]=p.useState("slide"),f=p.useRef(null);p.useEffect(()=>{if(n&&(console.log("Loading plan data for viewer:",n),n.metadata&&c(n.metadata.material_name||""),n.components&&Array.isArray(n.components))){const N=n.components.map((j,C)=>({id:C+1,name:` ${C+1}`,reactCode:j.code||"",jsonData:JSON.stringify(j.jsonData||{},null,2)}));s(N)}},[n]);const h=r[o],m=re.useMemo(()=>{if(!h)return{};try{return JSON.parse(h.jsonData)}catch{return{}}},[h]);p.useEffect(()=>{var W;if(!(h!=null&&h.reactCode.trim())||!f.current)return;const N=f.current,j=N.contentDocument||((W=N.contentWindow)==null?void 0:W.document);if(!j)return;let C=h.reactCode;C=C.replace(/import\s+.*?from\s+['"].*?['"];?\s*/g,"");let R="GeneratedComponent";const E=C.match(/export\s+default\s+function\s+(\w+)/);E&&(R=E[1],C=C.replace(/export\s+default\s+/,""));const T=C.match(/export\s+default\s+(\w+);?/);T&&(R=T[1],C=C.replace(/export\s+default\s+\w+;?\s*$/,""));const D=C.match(/function\s+(\w+)/);D&&!E&&(R=D[1]);const O=C.match(/const\s+(\w+)\s*=/);O&&!D&&(R=O[1]);const z=`
      <!DOCTYPE html>
      <html>
        <head>
          <meta charset="UTF-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <script src="https://cdn.tailwindcss.com"><\/script>
          <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"><\/script>
          <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"><\/script>
          <script src="https://unpkg.com/@babel/standalone/babel.min.js"><\/script>
          <style>
            * { margin: 0; padding: 0; box-sizing: border-box; }
            body {
              font-family: system-ui, -apple-system, sans-serif;
              overflow: hidden;
              background: white;
            }
          </style>
        </head>
        <body>
          <div id="root"></div>
          <div id="error-display" style="display: none; padding: 20px; background: #ffeeee; color: #cc0000; font-family: monospace; white-space: pre-wrap; border: 2px solid #cc0000; margin: 20px;"></div>

          <script>
            window.onerror = function(msg, url, lineNo, columnNo, error) {
              const errorDiv = document.getElementById('error-display');
              errorDiv.style.display = 'block';
              errorDiv.textContent = 'Error: ' + msg + '\\nLine: ' + lineNo + '\\n\\n' + (error ? error.stack : '');
              return false;
            };
          <\/script>

          <script type="text/babel">
            const { useState, useEffect } = React;

            (function() {
              try {
                const data = ${JSON.stringify(m)};

                ${C}

                const rootElement = document.getElementById('root');
                const root = ReactDOM.createRoot(rootElement);
                root.render(React.createElement(${R}, { data: data }));
              } catch (error) {
                console.error('Rendering error:', error);
                const errorDiv = document.getElementById('error-display');
                errorDiv.style.display = 'block';
                errorDiv.textContent = 'Rendering Error:\\n\\n' + error.message + '\\n\\nStack:\\n' + error.stack;
              }
            })();
          <\/script>
        </body>
      </html>
    `;j.open(),j.write(z),j.close()},[h,m]);const x=()=>{o>0&&a(o-1)},g=()=>{o<r.length-1&&a(o+1)},_=()=>{if(!f.current){F.error("   .");return}try{const j=f.current.contentWindow;j&&(j.print(),F.success(` ${o+1}  .`))}catch(N){console.error("Print error:",N),F.error("   .")}},y=()=>{F.info("     .")},v=N=>{d(N),F.success(N==="slide"?"  .":"  .")};return p.useEffect(()=>{const N=j=>{u==="slide"&&(j.key==="ArrowLeft"?x():j.key==="ArrowRight"&&g()),j.key==="Escape"&&t(-1)};return window.addEventListener("keydown",N),()=>window.removeEventListener("keydown",N)},[o,r.length,u]),i.jsxs("div",{className:"h-screen flex flex-col bg-black",children:[i.jsxs("div",{className:"bg-gray-900 text-white px-6 py-3 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs(J,{variant:"ghost",size:"sm",onClick:()=>t(-1),className:"text-white hover:bg-gray-800",children:[i.jsx(cc,{className:"w-4 h-4 mr-2"}),""]}),i.jsx("div",{className:"h-6 w-px bg-gray-700"}),i.jsx("h1",{className:"text-lg font-bold",children:l})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"flex items-center gap-1 bg-gray-800 rounded-lg p-1",children:[i.jsxs(J,{variant:"ghost",size:"sm",onClick:()=>v("slide"),className:`h-8 px-3 ${u==="slide"?"bg-gray-700 text-white":"text-gray-400 hover:text-white hover:bg-gray-700"}`,children:[i.jsx(L3,{className:"w-4 h-4 mr-1"}),""]}),i.jsxs(J,{variant:"ghost",size:"sm",onClick:()=>v("basic"),className:`h-8 px-3 ${u==="basic"?"bg-gray-700 text-white":"text-gray-400 hover:text-white hover:bg-gray-700"}`,children:[i.jsx(E3,{className:"w-4 h-4 mr-1"}),""]})]}),i.jsx("div",{className:"h-6 w-px bg-gray-700"}),i.jsxs(tk,{children:[i.jsx(nk,{asChild:!0,children:i.jsxs(J,{variant:"ghost",size:"sm",className:"text-white hover:bg-gray-800",children:[i.jsx(ts,{className:"w-4 h-4 mr-2"}),"PDF "]})}),i.jsxs(Dx,{align:"end",className:"w-48",children:[i.jsxs(Bi,{onClick:_,children:[i.jsx(ts,{className:"w-4 h-4 mr-2"})," "]}),i.jsxs(Bi,{onClick:y,children:[i.jsx(ts,{className:"w-4 h-4 mr-2"})," "]})]})]}),i.jsx("div",{className:"h-6 w-px bg-gray-700"}),i.jsxs("span",{className:"text-sm text-gray-400",children:[o+1," / ",r.length]})]})]}),i.jsx("div",{className:"flex-1 relative bg-black overflow-hidden",children:r.length===0?i.jsx("div",{className:"h-full flex items-center justify-center text-white",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-xl mb-2",children:"    "}),i.jsx("p",{className:"text-sm text-gray-400",children:"   "})]})}):u==="slide"?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsx("div",{className:"bg-white shadow-2xl",style:{width:"1280px",height:"720px",maxWidth:"100vw",maxHeight:"calc(100vh - 60px)"},children:i.jsx("iframe",{ref:f,className:"w-full h-full border-0",title:"teaching-plan-content",sandbox:"allow-scripts allow-same-origin"})})}),i.jsx(J,{variant:"ghost",size:"icon",onClick:x,disabled:o===0,className:"absolute left-4 top-1/2 -translate-y-1/2 w-12 h-12 rounded-full bg-white/90 hover:bg-white disabled:opacity-30 shadow-lg",title:"  ()",children:i.jsx(wx,{className:"w-6 h-6"})}),i.jsx(J,{variant:"ghost",size:"icon",onClick:g,disabled:o===r.length-1,className:"absolute right-4 top-1/2 -translate-y-1/2 w-12 h-12 rounded-full bg-white/90 hover:bg-white disabled:opacity-30 shadow-lg",title:"  ()",children:i.jsx(af,{className:"w-6 h-6"})}),i.jsx("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 flex items-center gap-2 px-4 py-2 rounded-full bg-gray-900/80 backdrop-blur",children:r.map((N,j)=>i.jsx("button",{onClick:()=>a(j),className:`w-2 h-2 rounded-full transition-all ${j===o?"bg-white w-8":"bg-white/50 hover:bg-white/75"}`,title:` ${j+1}`},j))})]}):i.jsxs("div",{className:"h-full flex bg-gray-100",children:[i.jsx("div",{className:"w-64 bg-white border-r border-gray-200 overflow-y-auto",children:i.jsxs("div",{className:"p-4",children:[i.jsx("h2",{className:"text-sm font-semibold text-gray-700 mb-3",children:" "}),i.jsx("div",{className:"space-y-2",children:r.map((N,j)=>i.jsx("button",{onClick:()=>a(j),className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${j===o?"bg-primary text-white":"bg-gray-50 hover:bg-gray-100 text-gray-700"}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium",children:N.name}),i.jsx("span",{className:"text-xs opacity-75",children:j+1})]})},N.id))})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto bg-white p-8",children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:(b=r[o])==null?void 0:b.name}),i.jsxs(J,{variant:"outline",size:"sm",onClick:_,children:[i.jsx(ts,{className:"w-4 h-4 mr-2"}),"PDF "]})]}),i.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",style:{minHeight:"600px"},children:i.jsx("iframe",{ref:f,className:"w-full border-0",style:{height:"720px"},title:"teaching-plan-content",sandbox:"allow-scripts allow-same-origin allow-forms allow-modals"})})]})})]})}),u==="slide"&&i.jsx("div",{className:"absolute bottom-4 right-4 text-xs text-gray-500 bg-gray-900/80 backdrop-blur px-3 py-2 rounded",children:"  :   | ESC : "})]})}const IH=new Q4;function AH(){const{id:e}=Qd();return i.jsx(hx,{to:`/generation/${e}`,replace:!0})}function Dn({children:e}){const{user:t,loading:n}=gn();return n?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-light via-secondary to-background",children:i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),i.jsx("p",{className:"text-muted-foreground",children:"   ..."})]})}):t?i.jsx(i.Fragment,{children:e}):i.jsx(hx,{to:"/auth",replace:!0})}const MH=()=>i.jsx(J4,{client:IH,children:i.jsx(p3,{children:i.jsxs(pj,{children:[i.jsx(kR,{}),i.jsx(KO,{children:i.jsxs(FO,{children:[i.jsx(kt,{path:"/auth",element:i.jsx(l9,{})}),i.jsx(kt,{path:"/",element:i.jsx(ZF,{})}),i.jsx(kt,{path:"/generate",element:i.jsx(Dn,{children:i.jsx(a9,{})})}),i.jsx(kt,{path:"/history",element:i.jsx(Dn,{children:i.jsx(c9,{})})}),i.jsx(kt,{path:"/generation/:id",element:i.jsx(Dn,{children:i.jsx(p9,{})})}),i.jsx(kt,{path:"/generate/result/:id",element:i.jsx(AH,{})}),i.jsx(kt,{path:"/share/result/:id",element:i.jsx($9,{})}),i.jsx(kt,{path:"/gallery",element:i.jsx(Dn,{children:i.jsx(F9,{})})}),i.jsx(kt,{path:"/gallery/generation_formats",element:i.jsx(Dn,{children:i.jsx(Z9,{})})}),i.jsx(kt,{path:"/gallery/results",element:i.jsx(Dn,{children:i.jsx(tH,{})})}),i.jsx(kt,{path:"/settings",element:i.jsx(m9,{})}),i.jsx(kt,{path:"/support",element:i.jsx(D9,{})}),i.jsx(kt,{path:"/billing",element:i.jsx(L9,{})}),i.jsx(kt,{path:"/generate-v2/upload",element:i.jsx(Dn,{children:i.jsx(sH,{})})}),i.jsx(kt,{path:"/generate-v2/generate",element:i.jsx(Dn,{children:i.jsx(hH,{})})}),i.jsx(kt,{path:"/generate-v2/flow",element:i.jsx(Dn,{children:i.jsx(iH,{})})}),i.jsx(kt,{path:"/generate-v2/editor",element:i.jsx(Dn,{children:i.jsx(aH,{})})}),i.jsx(kt,{path:"/generate-v2/edit",element:i.jsx(Dn,{children:i.jsx(mH,{})})}),i.jsx(kt,{path:"/teaching-plan-editor/:id",element:i.jsx(Dn,{children:i.jsx(TH,{})})}),i.jsx(kt,{path:"/teaching-plan-viewer",element:i.jsx(Dn,{children:i.jsx(RH,{})})}),i.jsx(kt,{path:"*",element:i.jsx(nH,{})})]})})]})})});j1(document.getElementById("root")).render(i.jsx(MH,{}));
